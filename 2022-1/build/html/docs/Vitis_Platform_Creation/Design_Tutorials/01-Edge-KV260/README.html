<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
<!-- OneTrust Cookies Consent Notice start for xilinx.github.io -->

<script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-document-language="true" type="text/javascript" charset="UTF-8" data-domain-script="03af8d57-0a04-47a6-8f10-322fa00d8fc7" ></script>
<script type="text/javascript">
function OptanonWrapper() { }
</script>
<!-- OneTrust Cookies Consent Notice end for xilinx.github.io -->
  <title>Vitis Custom Embedded Platform Creation Example on KV260 &mdash; Vitis™ Tutorials 2022.1 documentation</title>
      <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/_static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../../_static/doctools.js"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Versal Platform Creation with Custom IP" href="../../Feature_Tutorials/01_platform_creation_streaming_ip/README.html" />
    <link rel="prev" title="Versal Custom Platform Creation Tutorial" href="../03_Edge_VCK190/README.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
            <a href="../../../../index.html" class="icon icon-home"> Vitis™ Tutorials
            <img src="../../../../_static/xilinx-header-logo.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                2022.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">日本語版</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Vitis-Tutorials/master/docs-jp/index.html">Main</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../Getting_Started/Vitis-Getting-Started.html">Getting Started</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Acceleration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../Hardware_Acceleration/Hardware-Acceleration.html">Hardware Acceleration</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">AI Engine</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../AI_Engine_Development/AI_Engine_Development.html">AI Engine Development</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Platforms</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../Vitis_Platform_Creation.html">Vitis Platform Creation</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../Vitis_Platform_Creation.html#design-tutorials">Design Tutorials</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../02-Edge-AI-ZCU104/README.html">Custom Platform Creation Tutorial on MPSoC</a></li>
<li class="toctree-l3"><a class="reference internal" href="../03_Edge_VCK190/README.html">Custom Platform Creation Tutorial on Versal</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Custom Platform Creation Example on KV260 Starter Kit</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#custom-platform-planning">Custom Platform Planning</a></li>
<li class="toctree-l4"><a class="reference internal" href="#kria-som-architecture-and-vitis-acceleration-considerations">Kria SOM Architecture and Vitis Acceleration Considerations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#step-by-step-tutorial">Step-by-Step Tutorial</a></li>
<li class="toctree-l4"><a class="reference internal" href="#references">References</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Vitis_Platform_Creation.html#feature-tutorials">Feature Tutorials</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Other Versions</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Vitis-Tutorials/2021-2/build/html/index.html">2021.2</a></li>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Vitis-Tutorials/2021-1/build/html/index.html">2021.1</a></li>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Vitis-Tutorials/2020-2/docs/build/html/index.html">2020.2</a></li>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Vitis-Tutorials/2020-1/docs/build/html/README.html">2020.1</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: black" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">Vitis™ Tutorials</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../../Vitis_Platform_Creation.html">Vitis Platform Creation Tutorials</a> &raquo;</li>
      <li>Vitis Custom Embedded Platform Creation Example on KV260</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../_sources/docs/Vitis_Platform_Creation/Design_Tutorials/01-Edge-KV260/README.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <!--
# Copyright 2021 Xilinx Inc.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
--><table class="sphinxhide" width="100%">
 <tr width="100%">
    <td align="center"><img src="https://raw.githubusercontent.com/Xilinx/Image-Collateral/main/xilinx-logo.png" width="30%"/><h1>Vitis™ Platform Creation Tutorials</h1>
    <a href="https://www.xilinx.com/products/design-tools/vitis.html">See Vitis™ Development Environment on xilinx.com</br></a>
    </td>
 </tr>
</table><div class="section" id="vitis-custom-embedded-platform-creation-example-on-kv260">
<h1>Vitis Custom Embedded Platform Creation Example on KV260<a class="headerlink" href="#vitis-custom-embedded-platform-creation-example-on-kv260" title="Permalink to this heading">¶</a></h1>
<p><em><strong>Version: Vitis 2021.1</strong></em></p>
<p><a class="reference external" href="https://www.xilinx.com/products/som/kria/kv260-vision-starter-kit.html">Kria KV260 Vision AI Starter Kit</a> is the development platform for Kria K26 SOM. The KV260 is built for advanced vision application development without requiring complex hardware design knowledge. It’s based on the UltraScale+ MPSoC technology similar to ZCU104 evaluation board. In this example, we will extend the <a class="reference external" href="../../Introduction/02-Edge-AI-ZCU104/">ZCU104 custom embedded platform creation example</a> to KV260 Vision AI Starter Kit.</p>
<p>To highlight the differences between KV260 and ZCU104, this example will simplify the descriptions of general steps that are shared between all MPSoC platforms, but add more KV260 specific contents. If you have question in some steps, please cross reference <a class="reference external" href="../../Introduction/02-Edge-AI-ZCU104/">ZCU104 custom embedded platform creation example</a> or ask questions in Github Issues page.</p>
<blockquote>
<div><p>Note: Since KV260 BSP only releases 2021.1 version, this tutorial will skip 2021.2. The next release for this tutorial would be 2022.1.</p>
</div></blockquote>
<div class="section" id="custom-platform-planning">
<h2>Custom Platform Planning<a class="headerlink" href="#custom-platform-planning" title="Permalink to this heading">¶</a></h2>
<p>The platform we create should be able to run these applications finally</p>
<ul class="simple">
<li><p>Vitis acceleration examples like Vector Addition</p></li>
<li><p>Vitis-AI applications will be available in the future.</p></li>
</ul>
<p>The hardware design of the platform would provide basic support for Vitis acceleration. It’s similar to the ZCU104 example.</p>
<p>In regards of software setup, we will inherit what KV260 BSP provides, e.g. the device tree, kernel and rootfs settings.</p>
</div>
<div class="section" id="kria-som-architecture-and-vitis-acceleration-considerations">
<h2>Kria SOM Architecture and Vitis Acceleration Considerations<a class="headerlink" href="#kria-som-architecture-and-vitis-acceleration-considerations" title="Permalink to this heading">¶</a></h2>
<p>Kria SOM has some ease-of-use designs for application developers. It provides software-like development experience on FPGA and SoC, such as real time reloading applications without rebooting the system. In order to allow updating PL design without rebooting Linux, it boots Linux from ARM Cortex-A53 and loads FPGA bitstream using Linux. To ensure the board can always boot successfully and prevent the board get into brick status by accidental mistakes, Kria SOM boot flow forces to boot Linux from QSPI mode and the boot firmware in QSPI is read only. Linux will mount rootfs in the SD card. User can update the rootfs in the SD Card.</p>
<p>If you have read the <a class="reference external" href="../../Introduction">Platform Creation Introduction Tutorials</a>, you have known that the Vitis platform and application development can be divided into these steps:</p>
<ol class="simple">
<li><p>Platform hardware creation in Vivado. It exports an XSA file with clock, reset, AXI interface and interrupt signals and properties.</p></li>
<li><p>Platform software preparation with PetaLinux, including Linux kernel, rootfs, device tree and boot components.</p></li>
<li><p>Platform creation in Vitis to combine all hardware and software components and generate XPFM description.</p></li>
<li><p>Create applications in Vitis against the platform. Vitis generates host application, xclbin and sd_card.img.</p></li>
<li><p>Write sd_card.img to SD card or update host application and xclbin to an existing SD card.</p></li>
</ol>
<p>Since Kria SOM Starter Kit provides an off-the-shelf boot image and has its enhanced boot sequence, Vitis platform developers and application developers can skip some steps above. Here is a summary for what needs to be done by Kris platform and acceleration application developers.</p>
<p><img alt="Missing Image" src="../../../../_images/kv260_tutorial_workflow.svg" /></p>
<table border="1" class="docutils">
<thead>
<tr>
<th>Procedure</th>
<th>Required Actions</th>
<th>Output</th>
<th>Skipped Actions</th>
</tr>
</thead>
<tbody>
<tr>
<td>Platform Hardware</td>
<td>Same as step 1</td>
<td>XSA</td>
<td>N/A</td>
</tr>
<tr>
<td>Platform Software</td>
<td>Same as step 2; Generate device tree overlay for platform PL of XSA;</td>
<td>pl.dtsi, sysroot</td>
<td>N/A</td>
</tr>
<tr>
<td>Platform Creation</td>
<td>Same as step 3</td>
<td>Platform (XPFM)</td>
<td>N/A</td>
</tr>
<tr>
<td>Application Creation</td>
<td>Same as step 4; convert system.bit to bit.bin; Genreate dtbo</td>
<td>Host App, XCLBIN, bit.bin, dtbo</td>
<td>N/A</td>
</tr>
<tr>
<td>Transfer files and run</td>
<td>Use scp to copy generated files to Linux partition on SD card</td>
<td></td>
<td>Write sd_card.img</td>
</tr>
</tbody>
</table><blockquote>
<div><p>Note: In step 2, though PetaLinux can generate a lot of output components, the only valuable output product is this case is sysroot. It’s used for host application cross-compilation. Since the boot images of KV260 Starter Kit is fixed, user doesn’t need to generate any boot components, e.g., FSBL, etc.</p>
</div></blockquote>
<p>The following chapters will explain the details about these steps.</p>
</div>
<div class="section" id="step-by-step-tutorial">
<h2>Step-by-Step Tutorial<a class="headerlink" href="#step-by-step-tutorial" title="Permalink to this heading">¶</a></h2>
<p>We’ll introduce the platform creation steps in the following pages. Each page describes one major step in the platform creation process.</p>
<ul class="simple">
<li><p><a class="reference internal" href="step1.html"><span class="doc">Step 1: Create the Vivado Hardware Design and Generate XSA</span></a></p></li>
<li><p><a class="reference internal" href="step2.html"><span class="doc">Step 2: Create the Software Components with PetaLinux</span></a></p></li>
<li><p><a class="reference internal" href="step3.html"><span class="doc">Step 3: Create the Vitis Platform</span></a></p></li>
<li><p><a class="reference internal" href="step4.html"><span class="doc">Step 4: Test the Platform</span></a></p></li>
</ul>
<p><em><strong>Let’s start from <a class="reference internal" href="step1.html"><span class="doc">step 1: Vivado Design</span></a>.</strong></em></p>
</div>
<div class="section" id="references">
<h2>References<a class="headerlink" href="#references" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://www.xilinx.com/html_docs/xilinx2021_1/vitis_doc/index.html">UG1393: Vitis Acceleration Flow User Guide</a></p>
<ul>
<li><p><a class="reference external" href="https://www.xilinx.com/html_docs/xilinx2021_1/vitis_doc/vcm1596051749044.html">Platform Creation General Rules</a></p></li>
<li><p><a class="reference external" href="https://www.xilinx.com/html_docs/xilinx2021_1/vitis_doc/settingupvitisenvironment.html">Setting up the Vitis environment</a></p></li>
<li><p><a class="reference external" href="https://www.xilinx.com/html_docs/xilinx2021_1/vitis_doc/pjr1542153622642.html">Installing Xilinx Runtime</a></p></li>
</ul>
</li>
<li><p>Platform Examples</p>
<ul>
<li><p><a class="reference external" href="https://github.com/Xilinx/Vitis_Embedded_Platform_Source/tree/2021.1/Xilinx_Official_Platforms/zcu102_base">zcu102</a> and <a class="reference external" href="https://github.com/Xilinx/Vitis_Embedded_Platform_Source/tree/2021.1/Xilinx_Official_Platforms/zcu104_base">zcu104</a> base platform source code in <a class="reference external" href="https://github.com/Xilinx/Vitis_Embedded_Platform_Source">Vitis Embedded Platform Source GitHub Repository</a></p></li>
</ul>
</li>
<li><p><a class="reference external" href="https://xilinx.github.io/XRT/master/html/index.html">Xilinx Run Time (XRT)</a></p></li>
<li><p><a class="reference external" href="https://github.com/Xilinx/Vitis-AI">Vitis-AI GitHub Repository</a></p></li>
</ul>
<p class="sphinxhide" align="center"><sup>Copyright&copy; 2021 Xilinx</sup></p></div>
</div>


           </div>
          </div>
          
                  <style>
                        .footer {
                        position: fixed;
                        left: 0;
                        bottom: 0;
                        width: 100%;
                        }
                  </style>
				  
				  <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../03_Edge_VCK190/README.html" class="btn btn-neutral float-left" title="Versal Custom Platform Creation Tutorial" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../../Feature_Tutorials/01_platform_creation_streaming_ip/README.html" class="btn btn-neutral float-right" title="Versal Platform Creation with Custom IP" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019-2022, Xilinx, Inc..
      <span class="lastupdated">Last updated on May 16, 2022.
      </span></p>
  </div>



										<div class="aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid sub-footer">

													                    <div class="row">
                        <div class="col-xs-24">
                          <p><a target="_blank" href="https://www.amd.com/en/corporate/copyright">Terms and Conditions</a> | <a target="_blank" href="https://www.amd.com/en/corporate/privacy">Privacy</a> | <a target="_blank" href="https://www.amd.com/en/corporate/cookies">Cookie Policy</a> | <a target="_blank" href="https://www.amd.com/en/corporate/trademarks">Trademarks</a> | <a target="_blank" href="https://www.amd.com/system/files/documents/statement-human-trafficking-forced-labor.pdf">Statement on Forced Labor</a> | <a target="_blank" href="https://www.amd.com/en/corporate/competition">Fair and Open Competition</a> | <a target="_blank" href="https://www.amd.com/system/files/documents/amd-uk-tax-strategy.pdf">UK Tax Strategy</a> | <a target="_blank" href="https://docs.xilinx.com/v/u/9x6YvZKuWyhJId7y7RQQKA">Inclusive Terminology</a> | <a href="#cookiessettings" class="ot-sdk-show-settings">Cookies Settings</a></p>
                        </div>
                    </div>
												</div>
											</div>
										</div>
										
</br>


  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>


</body>
</html>