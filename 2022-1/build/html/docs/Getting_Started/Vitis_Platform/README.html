<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
<!-- OneTrust Cookies Consent Notice start for xilinx.github.io -->

<script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-document-language="true" type="text/javascript" charset="UTF-8" data-domain-script="03af8d57-0a04-47a6-8f10-322fa00d8fc7" ></script>
<script type="text/javascript">
function OptanonWrapper() { }
</script>
<!-- OneTrust Cookies Consent Notice end for xilinx.github.io -->
  <title>Versal Platform Creation Quick Start &mdash; Vitis™ Tutorials 2022.1 documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/_static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Vitis Hardware Acceleration" href="../../Hardware_Acceleration/Hardware-Acceleration.html" />
    <link rel="prev" title="Getting Started With Vitis Libraries" href="../Vitis_Libraries/README.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
            <a href="../../../index.html" class="icon icon-home"> Vitis™ Tutorials
            <img src="../../../_static/xilinx-header-logo.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                2022.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">日本語版</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Vitis-Tutorials/master/docs-jp/index.html">Main</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../Vitis-Getting-Started.html">Getting Started</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../Vitis/Getting_Started_Vitis.html">Vitis Introduction and Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Vitis_HLS/Getting_Started_Vitis_HLS.html">Vitis HLS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Vitis_Libraries/README.html">Vitis Libraries</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Vitis Platform</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#step-1-create-vivado-design-and-generate-xsa">Step 1: Create Vivado Design and Generate XSA</a></li>
<li class="toctree-l3"><a class="reference internal" href="#step-2-create-vitis-platform">Step 2: Create Vitis Platform</a></li>
<li class="toctree-l3"><a class="reference internal" href="#step-3-validate-this-vitis-platform">Step 3: Validate this Vitis PLatform</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#run-the-application-on-hardware">Run the Application on Hardware</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fast-track">Fast Track</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Acceleration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Hardware_Acceleration/Hardware-Acceleration.html">Hardware Acceleration</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">AI Engine</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../AI_Engine_Development/AI_Engine_Development.html">AI Engine Development</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Platforms</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Vitis_Platform_Creation/Vitis_Platform_Creation.html">Vitis Platform Creation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Other Versions</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Vitis-Tutorials/2021-2/build/html/index.html">2021.2</a></li>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Vitis-Tutorials/2021-1/build/html/index.html">2021.1</a></li>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Vitis-Tutorials/2020-2/docs/build/html/index.html">2020.2</a></li>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Vitis-Tutorials/2020-1/docs/build/html/README.html">2020.1</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: black" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Vitis™ Tutorials</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../Vitis-Getting-Started.html">Introduction</a> &raquo;</li>
      <li>Versal Platform Creation Quick Start</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/docs/Getting_Started/Vitis_Platform/README.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <!-- 
# Copyright 2020 Xilinx Inc.
# 
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
--><table width="100%">
 <tr width="100%">
    <td align="center"><img src="https://raw.githubusercontent.com/Xilinx/Image-Collateral/main/xilinx-logo.png" width="30%"/>
    </td>
 </tr>
</table><div class="section" id="versal-platform-creation-quick-start">
<h1>Versal Platform Creation Quick Start<a class="headerlink" href="#versal-platform-creation-quick-start" title="Permalink to this heading">¶</a></h1>
<p><em><strong>Version: 2022.1</strong></em><br /><em><strong>Board: VCK190</strong></em></p>
<p>In this module, we will get started with three steps to quickly create a platform and run applications to validate this platform based on VCK190 evaluation board in short.</p>
<p>This time we will utilize Versal extensible platform from the CED example, using pre-built Linux common image and Createdts command to generate software components. And then create an embedded Versal acceleration platform. At last, leverage the Vector Addition example to validate this platform. Besides if you need to customize the Linux system image you can refer to the <a class="reference internal" href="../../Vitis_Platform_Creation/Feature_Tutorials/02_petalinux_customization/README.html"><span class="doc">PetaLinux customization page</span></a> for reference.</p>
<div class="section" id="step-1-create-vivado-design-and-generate-xsa">
<h2>Step 1: Create Vivado Design and Generate XSA<a class="headerlink" href="#step-1-create-vivado-design-and-generate-xsa" title="Permalink to this heading">¶</a></h2>
<ol>
<li><p>Create a workspace and Launch Vivado if you haven’t</p>
<ul class="simple">
<li><p>mkdir WorkSpace</p></li>
<li><p>cd WorkSpace</p></li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">source</span> <span class="pre">&lt;Vitis_Install_Directory&gt;/settings64.sh</span></code> to setup Vivado running environment</p></li>
<li><p>Run Vivado by typing <code class="docutils literal notranslate"><span class="pre">vivado</span></code> in the console.</p></li>
</ul>
</li>
<li><p>Download the Versal Extensible Embedded Platform Example</p>
<ul class="simple">
<li><p>Click menu <strong>Tools -&gt; Vivado Store..</strong></p></li>
<li><p>Click <strong>OK</strong> to agree to download open source examples from web</p></li>
<li><p>Select <strong>Platform -&gt; Versal Extensible Embedded Platform</strong> and click the download button on the tool bar</p></li>
<li><p>Click <strong>Close</strong> after installation complete.</p></li>
</ul>
<p><img alt="Vivado XHUB download examples" src="../../../_images/vivado_download_example.png" /></p>
</li>
<li><p>Create the Versal Extensible Embedded Platform Example project</p>
<ul class="simple">
<li><p>Click <strong>File -&gt; Project -&gt; Open Example</strong></p></li>
<li><p>Click <strong>Next</strong></p></li>
<li><p>Select <strong>Versal Extensible Embedded Platform</strong> in Select Project Template window.</p></li>
<li><p>Input <strong>project name</strong> and <strong>project location</strong>. Keep <strong>Create project subdirectory</strong> checked. Click <strong>Next</strong>.</p></li>
<li><p>Select target board in Default Part window. In this example, we use <strong>Versal VCK190 Evaluation Platform</strong> .Click <strong>Next</strong>.</p></li>
</ul>
<p><img alt="CED Configuration" src="../../../_images/vivado_ced_config.png" /></p>
<ul class="simple">
<li><p>Configure Clocks Settings. You can enable more clocks, update output frequency and define default clock in this view. In this example, we can keep the default settings.</p></li>
<li><p>Configure Interrupt Settings. You can choose how many interrupt should this platform support. 63 interrupts mode will use two AXI_INTC in cascade mode. In this example, we can keep the default setting.</p></li>
<li><p>Configure Memory Settings. By default, the example design will only enable DDR4. If you enable LPDDR4, it will enable both DDR4 and LPDDR4. In this example, we can keep the default setting.</p></li>
<li><p>Click <strong>Next</strong>.</p></li>
<li><p>Review the new project summary and click <strong>Finish</strong>.</p></li>
<li><p>After a while, you will see the design example has been generated.</p></li>
</ul>
<p>The generated design is like the following:</p>
<p><img alt="Vivado Design Block Diagram" src="../../../_images/vivado_design_diagram.png" /></p>
<p>At this stage, the Vivado block automation has added a Control, Interface &amp; Processing System (shorten with CIPS in the future) block, AXI NOC block, AI Engine, and all supporting logic blocks to the diagram, and applied all board presets for the VCK190</p>
</li>
<li><p>Generate Block Diagram</p>
<ul class="simple">
<li><p>Click <strong>Generate Block Diagram</strong> from Flow Navigator window</p></li>
</ul>
<p><img alt="missing image" src="../../../_images/vivado_generate_bd.png" /></p>
<ul class="simple">
<li><p>Select <strong>Synthesis Options</strong> to <strong>Global</strong> to save generation time.</p></li>
</ul>
<p><img alt="missing image" src="../../../_images/vivado_generate_bd_global.png" /></p>
<ul class="simple">
<li><p>Click <strong>Generate</strong> button</p></li>
</ul>
<p><strong>Note</strong>: It’s safe to ignore this critical warning. Vitis will connect this signal in the future.</p>
<p><img alt="Intr Critical Warning " src="../../../_images/vivado_bd_critical_warning.png" /></p>
</li>
<li><p>Export hardware platform with the following scripts</p>
<ul class="simple">
<li><p>Click <strong>File -&gt; Export -&gt; Export Platform</strong>. Alternative ways are: <strong>Flow Navigator</strong> window: <strong>IP Integrator -&gt; Export Platform</strong>, or the <strong>Export Platform</strong> button on the bottom of <strong>Platform Setup</strong> tab.</p></li>
<li><p>Click <strong>Next</strong> on Export Hardware Platform page</p></li>
<li><p>Select <strong>Hardware</strong>. If there are any IP that doesn’t support simulation, we need to generate Hardware XSA and Hardware Emulation XSA separately. Click <strong>Next</strong></p></li>
<li><p>Select <strong>Pre-synthesis</strong>, because we’re not making an DFX platform. Click <strong>Next</strong></p></li>
<li><p>Input Name: <strong>VCK190_Custom_Platform</strong>, click Next</p></li>
<li><p>Update file name to <strong>vck190_custom_hw</strong>, click Next.</p></li>
<li><p>Review the summary. Click <strong>Finish</strong>.</p></li>
<li><p><strong>vck190_custom_hw.xsa</strong> file will be generated in <code class="docutils literal notranslate"><span class="pre">Vivado</span> <span class="pre">project</span> <span class="pre">location</span></code> directory.</p></li>
</ul>
</li>
</ol>
</div>
<div class="section" id="step-2-create-vitis-platform">
<h2>Step 2: Create Vitis Platform<a class="headerlink" href="#step-2-create-vitis-platform" title="Permalink to this heading">¶</a></h2>
<ol>
<li><p>Download Versal common image from <a class="reference external" href="https://www.xilinx.com/support/download.html">Xilinx website download page.</a>, place it under your <code class="docutils literal notranslate"><span class="pre">WorkSpace</span></code> directory and extract the common image.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>tar xvf ../xilinx-versal-common-v2022.1.tar.gz .
</pre></div>
</div>
</li>
<li><p>Create the device tree file</p>
<p>Utilize XSCT tool to execute one command to generate device tree files:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> WorkSpace
<span class="nb">source</span> &lt;Vitis_Install_Directory&gt;/settings64.sh
xsct 
</pre></div>
</div>
<p>Then execute <code class="docutils literal notranslate"><span class="pre">createdts</span></code> command in XSCT console like below:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>createdts -hw &lt;full path&gt;/vck190_custom_hw.xsa -out . -zocl <span class="se">\</span>
-platform-name mydevice -git-branch xlnx_rel_v2022.1 -board  <span class="se">\</span>
versal-vck190-reva-x-ebm-02-reva -compile   
</pre></div>
</div>
<p>Notice <code class="docutils literal notranslate"><span class="pre">-hw</span> </code> option is your XSA file generated in step1 located in your Vivado Project directory named <code class="docutils literal notranslate"><span class="pre">vck190_custom_hw.xsa</span> </code>. Besides below information would show in XSCT console. Please ignore the warning and that means you succeed to get system.dtb file which is located in &lt;mydevice/psv_cortexa72_0/device_tree_domain/bsp/&gt;.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pl.dtsi:9.21-46.4: Warning <span class="o">(</span>unit_address_vs_reg<span class="o">)</span>: /amba_pl@0: node has a unit name, but no reg property
pl.dtsi:41.26-45.5: Warning <span class="o">(</span>simple_bus_reg<span class="o">)</span>: /amba_pl@0/misc_clk_0: missing or empty reg/ranges property
</pre></div>
</div>
<p>Type <code class="docutils literal notranslate"><span class="pre">exit</span></code> in console to exit XSCT console.</p>
<p>As uboot image in common image package does not have default environment variables. So we need to update the bootargs manually. We prepare one system-user.dtsi under <code class="docutils literal notranslate"><span class="pre">ref_files</span></code> directory. Just copy it to device tree BSP directory and modify system-top.dts to include it like below.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cp system-user.dtsi mydevice/psv_cortexa72_0/device_tree_domain/bsp/
<span class="nb">echo</span> <span class="s2">&quot;#include \&quot;system-user.dtsi\&quot;&quot;</span> &gt;&gt; mydevice/psv_cortexa72_0/device_tree_domain/bsp/system-top.dts
</pre></div>
</div>
<p>Rebuild the dts file:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> mydevice/psv_cortexa72_0/device_tree_domain/bsp/
gcc -I my_dts -E -nostdinc -undef -D__DTS__ -x assembler-with-cpp -o <span class="se">\</span>
system.dts system-top.dts  <span class="c1">#preprocess the dts file because DTC command can not recognize the #include grammar</span>
dtc -I dts -O dtb -o system.dtb system.dts <span class="c1"># compile the dts</span>
</pre></div>
</div>
<p>Then the updated DTB file is located in &lt;mydevice/psv_cortexa72_0/device_tree_domain/bsp/&gt; folder.</p>
</li>
<li><p>Create Vitis platform</p>
<ul>
<li><p>Create two directories under <code class="docutils literal notranslate"><span class="pre">WorkSpace</span></code> directory for FAT32 partition and boot components. Then prepare  images like the following:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> WorkSpace
mkdir sd_dir
mkdir boot
cp xilinx-versal-common-v2022.1/boot.scr sd_dir/
cp xilinx-versal-common-v2022.1/bl31.elf boot/
cp xilinx-versal-common-v2022.1/u-boot.elf boot/
cp mydevice/psv_cortexa72_0/device_tree_domain/bsp/system.dtb boot/
</pre></div>
</div>
</li>
<li><p>install SDK tool by typing <code class="docutils literal notranslate"><span class="pre">sh</span> <span class="pre">xilinx-versal-common-v2022.1/sdk.sh</span> <span class="pre">-d</span> <span class="pre">xilinx-versal-common-v2022.1/</span> <span class="pre">-y</span></code> in console. Option of -d is to specify the directory where to install. Option of -y means confirmation. So it will be installed in <code class="docutils literal notranslate"><span class="pre">xilinx-versal-common-v2022.1/</span></code> folder.</p></li>
<li><p>Run Vitis by typing <code class="docutils literal notranslate"><span class="pre">vitis</span></code> in the console.</p></li>
<li><p>In the Vitis IDE, select <strong>File &gt; New &gt; Platform Project</strong> to create a platform project.</p></li>
<li><p>Enter the project name. For this example, type <code class="docutils literal notranslate"><span class="pre">vck190_custom</span></code>, click <strong>Next</strong>.</p></li>
<li><p>In the Platform page, click <strong>Browse</strong> button, select the XSA file generated by the Vivado. In this case, it is located in <code class="docutils literal notranslate"><span class="pre">&lt;Your</span> <span class="pre">Vivado</span> <span class="pre">Project</span> <span class="pre">Directory&gt;/vck190_custom_hw.xsa</span></code>. Click <strong>Next</strong>.</p></li>
<li><p>Set the <strong>operating system</strong> to <strong>linux</strong>.</p></li>
<li><p>Set the processor to <strong>psv_cortexa72</strong>.</p></li>
<li><p>Click <strong>Finish</strong>.</p></li>
</ul>
<p><img alt="Created Vitis Platform" src="../../../_images/created_vitis_platform.png" /></p>
<ul>
<li><p>Click the <strong>linux on psv_cortexa72</strong> domain</p></li>
<li><p>Update the <strong>Display Name</strong> to <code class="docutils literal notranslate"><span class="pre">xrt</span></code> by clicking the edit button on the right of this line and input the name. We’d like to indicate this is a Linux domain has XRT installed and is capable of running acceleration applications.</p></li>
<li><p>Set <strong>Bif file</strong>: Click the drop down-button like the following diagram and select <strong>Generate BIF</strong>. The generated BIF file is generated in the resource directory.</p>
<p><img alt="vitis_platform_config" src="../../../_images/vitis_platform_config.PNG" /></p>
</li>
<li><p><strong>Boot Components Directory</strong>: Browse to <strong>boot</strong> and click OK. Bootgen will look for boot components referred by BIF in this directory to generate BOOT.BIN</p></li>
<li><p><strong>FAT32 Partition Directory</strong>: Browse to <strong>sd_dir</strong> and click OK. Files in this directory will be copied to FAT32 partition of SD card.</p></li>
<li><p><strong>QEMU Data</strong>: Browse to <strong>step3_pfm/boot/</strong> and click OK. Emulator will use boot components from this directory.</p></li>
<li><p>Click <strong>vck190_custom</strong> project in the Vitis Explorer view, click the <strong>Build</strong> button to generate the platform.</p></li>
</ul>
<blockquote>
<div><p>Note: If there are additional QEMU settings, please update qemu_args.txt accordingly.</p>
</div></blockquote>
<p>After this step2 we have completed the platform creation process and next, we will run an application to validate this platform.</p>
</li>
</ol>
</div>
<div class="section" id="step-3-validate-this-vitis-platform">
<h2>Step 3: Validate this Vitis PLatform<a class="headerlink" href="#step-3-validate-this-vitis-platform" title="Permalink to this heading">¶</a></h2>
<ul>
<li><p>Run Vitis by typing <code class="docutils literal notranslate"><span class="pre">vitis</span></code> in the console. (if you have launched Vitis, please omit this step)</p></li>
<li><p>Select menu <strong>File -&gt; New -&gt; Application Project</strong>.</p></li>
<li><p>Go through the welcome page and click <strong>Next</strong>.</p></li>
<li><p>On Platform page, select <strong>vck190_custom</strong> platform in the platform list. Click <strong>Next</strong>.</p></li>
<li><p>Set <strong>Application project name</strong> to <strong>vadd</strong>, target processor <strong>psv_cortexa72_SMP</strong>. Click <strong>Next</strong>.</p>
<p><img alt="missing image" src="../../../_images/vitis_create_vadd.png" /></p>
</li>
<li><p>Input <strong>Sysroot</strong> path &lt;xilinx-versal-common-v2022.1/sysroots/cortexa72-cortexa53-xilinx-linux&gt;</p></li>
<li><p>Input <strong>RootFS</strong> path &lt;xilinx-versal-common-v2022.1/rootfs.ext4&gt;</p></li>
<li><p>Input <strong>Kernel Image</strong> path &lt;xilinx-versal-common-v2022.1/Image&gt;</p></li>
<li><p>Click <strong>Next</strong>.</p></li>
<li><p>Select template <strong>Vector Addition</strong>. Click <strong>Finish</strong>.</p></li>
<li><p>Select <strong>vadd_system</strong> project</p></li>
<li><p>Click the drop down of <strong>Build</strong> hammer icon on tool bar, select <strong>Hardware</strong>. Alternatively, this step can be done by selecting <strong>Active Build Configuration</strong> to <strong>Hardware</strong> and click the build icon.</p></li>
<li><p>It takes some time to build hardware. Finally Vitis will generate <strong>sd_card.img</strong> in vadd_system/Hardware/package directory.</p></li>
</ul>
<div class="section" id="run-the-application-on-hardware">
<h3>Run the Application on Hardware<a class="headerlink" href="#run-the-application-on-hardware" title="Permalink to this heading">¶</a></h3>
<ol>
<li><p>Copy <code class="docutils literal notranslate"><span class="pre">vadd_system/Hardware/package/sd_card.img</span></code> to local if you build the project on a remote server or virtual machine.</p></li>
<li><p>Program sd_card.img to SD card. Refer to <a class="reference external" href="https://www.xilinx.com/support/answers/73711.html">AR#73711</a> for detailed steps.</p>
<blockquote>
<div><p>Note: Please eject the SD card properly from the system after programming it.</p>
</div></blockquote>
</li>
<li><p>Connect to UART console</p></li>
<li><p>Insert the SD card and boot the VCK190 board with SD boot mode (SW1[4:1] = “1110”: OFF, OFF, OFF, ON) and power on.</p>
<blockquote>
<div><p>Note: Refer to <a class="reference external" href="https://www.xilinx.com/support/documentation/boards_and_kits/vck190/ug1366-vck190-eval-bd.pdf">VCK190 Evaluation Board User Guide</a> for details about boot mode.</p>
</div></blockquote>
</li>
<li><p>Launch the test application from UART console</p>
<details><summary><strong>Follow below steps to run the application if you are using common image from Xilinx Downloads website</strong></summary><p>Go to auto mounted FAT32 partition and run the application like below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">/</span><span class="n">run</span><span class="o">/</span><span class="n">media</span><span class="o">/</span><span class="n">sd</span><span class="o">-</span><span class="n">mmcblk0p1</span>
<span class="o">./</span><span class="n">simple_vadd</span> <span class="n">krnl_vadd</span><span class="o">.</span><span class="n">xclbin</span>
</pre></div>
</div>
</details><details>
<summary><strong>Follow below steps to run the application if you are using image from your Petalinux project</strong></summary><p>You will need to login with user <code class="docutils literal notranslate"><span class="pre">petalinux</span></code> first and setup a new password (it’s then also the sudo password):</p>
<ul class="simple">
<li><p>Log into the system</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>petalinux login:petalinux
You are required to change your password immediately <span class="o">(</span>administrator enforced<span class="o">)</span>.
New password:
Retype new password:
petalinux:~$ sudo su
We trust you have received the usual lecture from the <span class="nb">local</span> System
Administrator. It usually boils down to these three things:
    <span class="c1">#1) Respect the privacy of others.</span>
    <span class="c1">#2) Think before you type.</span>
    <span class="c1">#3) With great power comes great responsibility.</span>
Password:
petalinux:/home/petalinux#
</pre></div>
</div>
<ul class="simple">
<li><p>Go to auto mounted FAT32 partition and run the application like below:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">petalinux</span><span class="p">:</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">petalinux</span><span class="c1"># cd /run/media/sd-mmcblk0p1</span>
<span class="n">petalinux</span><span class="p">:</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">petalinux</span><span class="c1"># ./simple_vadd krnl_vadd.xclbin</span>
</pre></div>
</div>
</details>  </li>
<li><p>Expected print on UART console</p></li>
</ol>
<details>
  <summary><b>Show Log</b></summary><div class="highlight-default notranslate"><div class="highlight"><pre><span></span>root@petalinux:/run/media/mmcblk0p1# ./vadd binary_container_1.xclbin
EXE: /run/media/mmcblk0p1/simple_vadd
[XRT] WARNING: The xrt.ini flag &quot;opencl_summary&quot; is deprecated and will be removed in a future release.  A summary file is generated when when any profiling is enabled, so please use the appropriate settings from &quot;opencl_trace=true&quot;, &quot;device_counter=true&quot;, and &quot;device_trace=true.&quot;
[XRT] WARNING: The xrt.ini flag &quot;opencl_device_counter&quot; is deprecated and will be removed in a future release.  Please use the equivalent flag &quot;device_counter.&quot;
INFO: Reading krnl_vadd.xclbin
Loading: &#39;krnl_vadd.xclbin&#39;
[   74.394840] zocl-drm amba_pl@0:zyxclmm_drm: zocl_create_client: created KDS client for pid(577), ret: 0
[   74.395731] zocl-drm amba_pl@0:zyxclmm_drm: zocl_destroy_client: client exits pid(577)
[   74.401000] zocl-drm amba_pl@0:zyxclmm_drm: zocl_create_client: created KDS client for pid(577), ret: 0
Trying to program device[0]: edge
[   74.937477] [drm] skip kind 29(AIE_RESOURCES) return code: -22
[   74.938038] [drm] found kind 8(IP_LAYOUT)
[   74.938641] [drm] found kind 9(DEBUG_IP_LAYOUT)
[   74.939375] [drm] skip kind 25(AIE_METADATA) return code: -22
[   74.939688] [drm] found kind 7(CONNECTIVITY)
[   74.940087] [drm] found kind 6(MEM_TOPOLOGY)
[   74.940907] [drm] Memory 0 is not reserved in device tree. Will allocate memory from CMA
[   74.948647] [drm] Memory 1 is not reserved in device tree. Will allocate memory from CMA
[   74.963753] cu_drv CU.2.auto: cu_probe: CU[0] created
[   74.974174] cu_drv CU.2.auto:  ffff000803cbac10 xrt_cu_intr_thread: CU[0] start
[   74.989334] [drm] zocl_xclbin_read_axlf f4f049d5-183a-e265-264d-ecfa34a51343 ret: 0
[   75.037345] [drm] bitstream f4f049d5-183a-e265-264d-ecfa34a51343 locked, ref=1
[   75.038188] zocl-drm amba_pl@0:zyxclmm_drm:  ffff000800323c10 kds_add_context: Client pid(577) add context CU(0xffffffff) shared(true)
[   75.041054] zocl-drm amba_pl@0:zyxclmm_drm:  ffff000800323c10 kds_del_context: Client pid(577) del context CU(0xffffffff)
[   75.042096] [drm] bitstream f4f049d5-183a-e265-264d-ecfa34a51343 unlocked, ref=0
[   75.094803] [drm] bitstream f4f049d5-183a-e265-264d-ecfa34a51343 locked, ref=1
[   75.095393] zocl-drm amba_pl@0:zyxclmm_drm:  ffff000800323c10 kds_add_context: Client pid(577) add context CU(0xffffffff) shared(true)
Device[0]: program successful!
[   75.188269] zocl-drm amba_pl@0:zyxclmm_drm:  ffff000800323c10 kds_add_context: Client pid(577) add context CU(0xffffffff) shared(true)
[   75.192218] zocl-drm amba_pl@0:zyxclmm_drm:  ffff000800323c10 kds_add_context: Client pid(577) add context CU(0x0) shared(true)
TEST PASSED
[   78.347703] zocl-drm amba_pl@0:zyxclmm_drm:  ffff000800323c10 kds_del_context: Client pid(577) del context CU(0xffffffff)
[   78.349191] zocl-drm amba_pl@0:zyxclmm_drm:  ffff000800323c10 kds_del_context: Client pid(577) del context CU(0x0)
[   78.354584] zocl-drm amba_pl@0:zyxclmm_drm:  ffff000800323c10 kds_del_context: Client pid(577) del context CU(0xffffffff)
[   78.355356] [drm] bitstream f4f049d5-183a-e265-264d-ecfa34a51343 unlocked, ref=0
[   78.462912] zocl-drm amba_pl@0:zyxclmm_drm: zocl_destroy_client: client exits pid(577)
</pre></div>
</div>
</details></div>
<div class="section" id="fast-track">
<h3>Fast Track<a class="headerlink" href="#fast-track" title="Permalink to this heading">¶</a></h3>
<p>Scripts are provided to package and test the Vitis platform.</p>
<p>To use these scripts, please download Versal common image from <a class="reference external" href="https://www.xilinx.com/support/download.html">Xilinx website download page.</a> and give its path to the following command.</p>
<ol>
<li><p>Run build</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># cd to the ref_files directory, e.g.</span>
<span class="nb">cd</span> ref_files
make all <span class="nv">COMMON_IMAGE_PATH</span><span class="o">=</span>&lt;path/to/common_image/&gt;
</pre></div>
</div>
</li>
<li><p>To clean the generated files, please run</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make clean
</pre></div>
</div>
</li>
</ol>
<p align="center"><sup>Copyright&copy; 2022 Xilinx</sup></p></div>
</div>
</div>


           </div>
          </div>
          
                  <style>
                        .footer {
                        position: fixed;
                        left: 0;
                        bottom: 0;
                        width: 100%;
                        }
                  </style>
				  
				  <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../Vitis_Libraries/README.html" class="btn btn-neutral float-left" title="Getting Started With Vitis Libraries" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../../Hardware_Acceleration/Hardware-Acceleration.html" class="btn btn-neutral float-right" title="Vitis Hardware Acceleration" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019-2022, Xilinx, Inc..
      <span class="lastupdated">Last updated on May 16, 2022.
      </span></p>
  </div>



										<div class="aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid sub-footer">

													                    <div class="row">
                        <div class="col-xs-24">
                          <p><a target="_blank" href="https://www.amd.com/en/corporate/copyright">Terms and Conditions</a> | <a target="_blank" href="https://www.amd.com/en/corporate/privacy">Privacy</a> | <a target="_blank" href="https://www.amd.com/en/corporate/cookies">Cookie Policy</a> | <a target="_blank" href="https://www.amd.com/en/corporate/trademarks">Trademarks</a> | <a target="_blank" href="https://www.amd.com/system/files/documents/statement-human-trafficking-forced-labor.pdf">Statement on Forced Labor</a> | <a target="_blank" href="https://www.amd.com/en/corporate/competition">Fair and Open Competition</a> | <a target="_blank" href="https://www.amd.com/system/files/documents/amd-uk-tax-strategy.pdf">UK Tax Strategy</a> | <a target="_blank" href="https://docs.xilinx.com/v/u/9x6YvZKuWyhJId7y7RQQKA">Inclusive Terminology</a> | <a href="#cookiessettings" class="ot-sdk-show-settings">Cookies Settings</a></p>
                        </div>
                    </div>
												</div>
											</div>
										</div>
										
</br>


  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>


</body>
</html>