<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" /><!-- OneTrust Cookies Consent Notice start for xilinx.github.io --><script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-document-language="true" type="text/javascript" charset="UTF-8" data-domain-script="03af8d57-0a04-47a6-8f10-322fa00d8fc7" ></script>
<script type="text/javascript">
function OptanonWrapper() { }
</script><!-- OneTrust Cookies Consent Notice end for xilinx.github.io --><title>Vitis 入門チュートリアル - Vitis™ チュートリアル 2022.1 の資料</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/_static/custom.css" type="text/css" /><!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]--><script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Vitis HLS" href="../Vitis_HLS/Getting_Started_Vitis_HLS.html" />
    <link rel="prev" title="Vitis フロー 101 &ndash; パート 4: 例のビルドおよび実行" href="Part4.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"><a href="../../../index.html" class="icon icon-home">Vitis™ チュートリアル <img src="../../../_static/xilinx-header-logo.svg" class="logo" alt="Logo"/> </a><div class="version">2022.1</div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">English</span></p><ul><li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Vitis-Tutorials/master/docs/index.html">Main</a></li></ul><p class="caption" role="heading"><span class="caption-text">入門</span></p><ul class="current"><li class="toctree-l1 current"><a class="reference internal" href="../Vitis-Getting-Started.html">概要</a><ul class="current"><li class="toctree-l2 current"><a class="reference internal" href="Getting_Started_Vitis.html">Vitis の概要および入門</a><ul class="current"><li class="toctree-l3"><a class="reference internal" href="Part1.html">パート 1</a></li><li class="toctree-l3"><a class="reference internal" href="Part2.html">パート 2</a></li><li class="toctree-l3"><a class="reference internal" href="Part3.html">パート 3</a></li><li class="toctree-l3"><a class="reference internal" href="Part4.html">パート 4</a></li><li class="toctree-l3 current"><a class="current reference internal" href="#">パート 5</a><ul><li class="toctree-l4"><a class="reference internal" href="#part-5-visualizing-results-and-analyzing-reports">パート 5: 結果の表示とレポートの解析</a></li><li class="toctree-l4"><a class="reference internal" href="#locating-the-reports-and-summaries">レポートおよびサマリの場所</a></li><li class="toctree-l4"><a class="reference internal" href="#opening-the-run-summary-with-vitis-analyzer">Vitis アナライザーで実行サマリを開く</a></li><li class="toctree-l4"><a class="reference internal" href="#homework">宿題</a></li><li class="toctree-l4"><a class="reference internal" href="#wrap-up-and-next-steps">まとめと次のステップ</a></li></ul></li></ul></li><li class="toctree-l2"><a class="reference internal" href="../Vitis_HLS/Getting_Started_Vitis_HLS.html">Vitis HLS</a></li><li class="toctree-l2"><a class="reference internal" href="../Vitis_Libraries/README.html">Vitis ライブラリ</a></li><li class="toctree-l2"><a class="reference internal" href="../Vitis_Platform/README.html">Vitis プラットフォーム</a></li></ul></li></ul><p class="caption" role="heading"><span class="caption-text">アクセラレーション</span></p><ul><li class="toctree-l1"><a class="reference internal" href="../../Hardware_Acceleration/Hardware-Acceleration.html">ハードウェア アクセラレーション</a></li></ul><p class="caption" role="heading"><span class="caption-text">AI エンジン</span></p><ul><li class="toctree-l1"><a class="reference internal" href="../../AI_Engine_Development/AI_Engine_Development.html">AI エンジン開発</a></li></ul><p class="caption" role="heading"><span class="caption-text">プラットフォーム</span></p><ul><li class="toctree-l1"><a class="reference internal" href="../../Vitis_Platform_Creation/Vitis_Platform_Creation.html">Vitis プラットフォームの作成</a></li></ul><p class="caption" role="heading"><span class="caption-text">その他のバージョン</span></p><ul><li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Vitis-Tutorials/2021-2/build/html/index.html">2021.2</a></li><li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Vitis-Tutorials/2021-1/build/html/index.html">2021.1</a></li><li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Vitis-Tutorials/2020-2/docs/build/html/index.html">2020.2</a></li><li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Vitis-Tutorials/2020-1/docs/build/html/indexE.html">2020.1</a></li></ul></div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: black" ><i data-toggle="wy-nav-top" class="fa fa-bars"></i> <a href="../../../index.html">Vitis™ チュートリアル</a></nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation"><ul class="wy-breadcrumbs"><li><a href="../../../index.html" class="icon icon-home"></a>&raquo;</li> <li><a href="../Vitis-Getting-Started.html">入門</a>&raquo;</li> <li><a href="Getting_Started_Vitis.html">Vitis フロー 101</a>&raquo;</li><li>Vitis 入門チュートリアル</li><li class="wy-breadcrumbs-aside"><a href="../../../_sources/docs/Getting_Started/Vitis/Part5.md.txt" rel="nofollow">ページ ソースの表示</a></li></ul><hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <table class="sphinxhide">
 <tr>
   <td align="center"><img src="https://raw.githubusercontent.com/Xilinx/Image-Collateral/main/xilinx-logo.png" width="30%"/><h1>Vitis™ アプリケーション アクセラレーション開発フロー チュートリアル</h1>
   </td>
 </tr>
 <tr>
 <td>
 </td>
 </tr>
</table><div class="section" id="vitis-getting-started-tutorial">
<h1>Vitis 入門チュートリアル<a class="headerlink" href="#vitis-getting-started-tutorial" title="Permalink to this heading">¶</a></h1>
<div class="section" id="part-5-visualizing-results-and-analyzing-reports">
<h2>パート 5: 結果の表示とレポートの解析<a class="headerlink" href="#part-5-visualizing-results-and-analyzing-reports" title="Permalink to this heading">¶</a></h2>
<p>ここまでで vector-add の例をビルドして実行したので、次はその結果と生成されたレポートを見てみます。この例は、3 つのビルド ターゲット (ソフトウェア エミュレーション、ハードウェア エミュレーション、およびハードウェア) すべてのビルドおよび実行サマリを生成するように設定されています。<a class="reference external" href="https://docs.xilinx.com/r/en-US/ug1393-vitis-application-acceleration/Using-the-Vitis-Analyzer">Vitis アナライザーの使用</a>で説明されている方法で、Vitis アナライザーを使用して、これらのサマリ レポートをすべて表示および分析できます。</p>
<p>結果は、開いたサマリまたはレポートによって異なります。ハードウェアの実行は完全に正確です。ハードウェア エミュレーションはサイクル概算シミュレーションで、ソフトウェア エミュレーションは機能を考慮するためにのみ使用します。また、U200 カードと ZCU102 カードの特性は異なるため、これら 2 つのターゲット間の結果は異なります。解析する必要のあるプラットフォームおよびビルド ターゲットからの結果を確認します。</p><ul class="simple"> <li><p><code class="docutils literal notranslate"><span class="pre">u200/sw_emu</span></code></p></li> <li><p><code class="docutils literal notranslate"><span class="pre">u200/hw_emu</span></code></p></li> <li><p><code class="docutils literal notranslate"><span class="pre">u200/hw</span></code></p></li> <li><p><code class="docutils literal notranslate"><span class="pre">zcu102/sw_emu</span></code></p></li> <li><p><code class="docutils literal notranslate"><span class="pre">zcu102/hw_emu</span></code></p></li> <li><p><code class="docutils literal notranslate"><span class="pre">zcu102/hw</span></code></p></li> </ul>
<p>この演習では、<code class="docutils literal notranslate"><span class="pre">u200/hw_emu</span></code> ビルドおよび run を開いて、結果を確認します。</p>
</div>
<div class="section" id="locating-the-reports-and-summaries">
<h2>レポートおよびサマリの場所<a class="headerlink" href="#locating-the-reports-and-summaries" title="Permalink to this heading">¶</a></h2>
<p>アプリケーションを実行したディレクトリを見てみると、いくつかのファイルが生成されたことがわかります。</p><ul class="simple"> <li><p><code class="docutils literal notranslate"><span class="pre">vadd.xo.compile_summary</span></code>: コンパイルされたカーネルのサマリ レポート</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">vadd.xclbin.info</span></code>: デバイス バイナリのテキスト形式のレポート</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">vadd.xclbin.link_summary</span></code>: リンクされたデバイス バイナリのサマリ レポート</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">opencl_trace.csv</span></code>: アプリケーション ランタイム中に発生するイベントのタイムライン</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">summary.csv</span></code>: アプリケーション プロファイルのレポート</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">xrt.run_summary</span></code>: アプリケーション ランタイムのイベントのサマリ レポート</p></li> </ul>
<p><em>重要: ZCU102 ハードウェアをターゲットにした場合、これらのファイルは SD カードに保存されるため、この演習を続行するにはワークステーションにコピーし直す必要があります。詳細は、<a class="reference external" href="https://docs.xilinx.com/r/en-US/ug1393-vitis-application-acceleration/Running-Emulation-on-an-Embedded-Processor-Platform">エンベデッド プロセッサ プラットフォームでのエミュレーションの実行</a>を参照してください。</em></p>
<p>これらのファイルおよびレポートの生成は、<code class="docutils literal notranslate"><span class="pre">xrt.ini</span></code> ファイルのランタイム オプションで制御されます。このチュートリアルには、既存の <code class="docutils literal notranslate"><span class="pre">xrt.ini</span></code> ファイルが含まれており、実行のタイムラインおよびプロファイル サマリ データ (次の内容を含む) を生成できるようになっています。</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">[</span>Debug<span class="o">]</span> <span class="nv">opencl_trace</span><span class="o">=</span><span class="nb">true</span></pre></div>
</div>
</div>
<div class="section" id="opening-the-run-summary-with-vitis-analyzer">
<h2>Vitis アナライザーで実行サマリを開く<a class="headerlink" href="#opening-the-run-summary-with-vitis-analyzer" title="Permalink to this heading">¶</a></h2>
<p>次のコマンドを使用して、Vitis アナライザーでサマリを開きます。</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>vitis_analyzer ./vadd.xclbin.link_summary</pre></div>
</div>
<p>Vitis アナライザーが開き、さまざまなレポートが読み込まれ、実行サマリが表示されます。Vitis アナライザーの左ペインを使用するか、サマリ レポートに表示されるリンクをクリックすると、さまざまなレポートを表示できます。</p><ul class="simple"> <li><p>システム ダイアグラムを開きます。</p><ul> <li><p>システム ダイアグラムは、ザイリンクス デバイスの内容をグラフィカルに表示したものです。さまざまなハードウェア カーネルと、グローバル メモリ バンクなどのプラットフォーム リソースへの接続方法を示しています。</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">vadd</span></code> ハードウェア アクセラレータの横に表示されるプロファイル情報を確認します。</p></li> <li><p>図の右上にある [Settings] アイコンをクリックし、[Show Interface Ports] チェック ボックスをオンにします。この図では、カーネル引数とカーネル ポートのマッピングが表示され、各ポートの帯域幅情報が示されています。</p></li> <li><p>図の下部にある 3 つのタブ ([Compute Units]、[Kernels]、[Memories]) をクリックして、それぞれに表示される情報を確認します。</p></li> </ul>
</li>
<li><p>システム ガイダンス レポートを開きます。</p><ul> <li><p>ガイダンス レポートは、アプリケーションで問題になりそうなものにフラグを付け、改善方法に関する実践的なフィードバックを提供します。</p></li> <li><p>このシンプルな例は完全には最適化されていないので、ガイダンス レポートには警告がいくつか表示されます。これらの警告をそれぞれ調べて、最適化の可能性や設計のベスト プラクティスなどの詳細を確認してください。</p></li> <li><p>カーネル ポートの幅について何がわかりますか。</p></li> </ul>
</li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">link_summary</span></code> には <code class="docutils literal notranslate"><span class="pre">compile_summary</span></code> も含まれます。Vitis アナライザーで <code class="docutils literal notranslate"><span class="pre">compile_summary</span></code> レポートのさまざまなエレメントを選択して、詳細を確認します。</p>
<p>Vitis アナライザーのメイン メニューから <strong>[File] → [Open Summary]</strong> をクリックして <code class="docutils literal notranslate"><span class="pre">xrt.run_summary</span></code> を開きます。</p><ul class="simple"> <li><p>プロファイル サマリ レポートを開きます。</p><ul> <li><p>プロファイル サマリには、全体的なアプリケーション パフォーマンスに関する注釈付きの詳細が表示されます。アプリケーションの実行中に生成されたすべてのデータが複数のカテゴリに分類されます。</p></li> <li><p>レポートの左側のペインを使用して、さまざまなカテゴリを確認し、プロファイル サマリにレポートされたすべてのメトリクスを確認します。</p></li> </ul>
</li>
<li><p>タイムライン トレースを開く</p><ul> <li><p>タイムライン トレースは、ホストとカーネルのイベント情報を収集し、共通のタイムラインに表示します。これは、システムの全体的な状態とパフォーマンスを視覚的に表示するのに役立ちます。このグラフィカル表示により、カーネル同期および並列実行の効率に関する問題を確認しやすくなります。</p></li> <li><p>タイムライン トレースを拡大して右端までスクロールし、ホスト プログラムがバッファーを転送し、カーネルを実行するポイントを表示します。</p></li> <li><p>さまざまなアクティビティ イベントの上にマウスを置くと、それぞれのイベントの詳細が表示されます。</p></li> <li><p>タイムライン アクティビティを <code class="docutils literal notranslate"><span class="pre">host.cpp</span></code> ファイル内の API 呼び出しのシーケンスに関連付けることができますか。</p></li> </ul>
</li>
</ul>
<p><img alt="img" src="../../../_images/part5_timeline_trace.png" /></p>
<p>Vitis アナライザーでさまざまなレポートの確認が完了したら、ツールを閉じます。</p>
</div>
<div class="section" id="homework">
<h2>宿題<a class="headerlink" href="#homework" title="Permalink to this heading">¶</a></h2>
<p>これで、Vitis フローの基本を学習しましたので、ご自身で試してみてください。まずは、ホスト プログラムを変更してみることをお勧めします。<code class="docutils literal notranslate"><span class="pre">host.cpp</span></code> ファイルを変更するだけなら、FPGA バイナリをビルドし直す必要はありません。これにより、ビルドと実行の反復が非常に迅速になります。</p><ul class="simple"> <li><p>ホスト プログラムでは、ベクターのサイズは 4096 個のエレメントに (DATA_SIZE マクロを使用して) ハード コード化されます。</p><ul> <li><p>このサイズを大きくするとどうなりますか。</p></li> <li><p>Vitis アナライザーにはどう表示されますか。</p></li> </ul>
</li>
<li><p>ホスト プログラムはアクセラレータを 1 回だけ呼び出します。</p><ul> <li><p><code class="docutils literal notranslate"><span class="pre">host.cpp</span></code> のステップ 4 をループで囲んで、さらに何回か繰り返した場合はどうなりますか。</p></li> <li><p>タイムライン トレースは今どのように見えていますか。</p></li> <li><p>ホスト プログラムがアクセラレータを呼び出すたびに、異なるベクターをアクセラレータに送信するようにできますか。</p></li> </ul>
</li>
</ul>
</div>
<div class="section" id="wrap-up-and-next-steps">
<h2>まとめと次のステップ<a class="headerlink" href="#wrap-up-and-next-steps" title="Permalink to this heading">¶</a></h2>
<p>これで、<strong>Vitis フロー 101 チュートリアル</strong>は終了です。コーディングの考慮事項やビルド、実行、レポートの表示方法など、Vitis プログラミングおよび実行モデルのすべての基本概念を理解できたはずです。</p>
<p>vector-add の例はシンプルですが、学ぶことが多いので、フローの重要な側面を深く掘り下げるのに非常に適したサンドボックスです。<a class="reference external" href="https://developer.xilinx.com/en/articles/acceleration-basics.html">Get Moving with Alveo チュートリアル</a>では、同じ vector-add の例を活用し、一般的な最適化手法を説明することで、さらに手順をいくつか実行します。必ず確認してください。</p>
<p><a class="reference external" href="https://github.com/Xilinx/Vitis-Tutorials">Vitis チュートリアル</a>のホーム ページに戻ります。</p>
<hr class="docutils" />
<p>ライセンス規約</p>
<p>Apache ライセンス、バージョン 2.0 (以下「ライセンス」) に基づいてライセンス付与されています。本ライセンスに準拠しないと、このファイルを使用することはできません。ライセンスのコピーは、http://www.apache.org/licenses/LICENSE-2.0 から入手できます。</p>
<p>適切な法律で要求されるか、書面で同意された場合を除き、本ライセンスに基づいて配布されるソフトウェアは、明示的または黙示的を問わず、いかなる種類の保証または条件もなく、「現状のまま」配布されます。ライセンスに基づく権限と制限を管理する特定の言語については、ライセンスを参照してください。</p>
<p class="sphinxhide" align="center"><sup>Copyright&copy; 2020-2022 Xilinx</sup></p></div>
</div>


           </div>
          </div>
          
                  <style>.footer { position: fixed; left: 0; bottom: 0; width: 100%; }</style>
				  
				  <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer"> <a href="Part4.html" class="btn btn-neutral float-left" title="Vitis Flow 101 – Part 4 : Build and Run the Example" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a> <a href="../Vitis_HLS/Getting_Started_Vitis_HLS.html" class="btn btn-neutral float-right" title="Vitis HLS" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a> </div>

  <hr/>

  <div role="contentinfo">
    <p>© Copyright 2019-2022, Xilinx, Inc.. <span class="lastupdated">最終更新日 2022 年 5 月 16 日。内容に相違が生じる場合には原文を優先します。英語版の更新に対応していないことがありますので、日本語版は参考用としてご使用の上、最新情報につきましては、必ず<a href="https://github.com/Xilinx/Vitis-Tutorials">最新英語版</a>をご参照ください。</span></p>
  </div>



										<div class="aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid sub-footer">

													                    <div class="row">
                        <div class="col-xs-24">
                          <p><a target="_blank" href="https://www.amd.com/en/corporate/copyright">Terms and Conditions</a> | <a target="_blank" href="https://www.amd.com/en/corporate/privacy">Privacy</a> | <a target="_blank" href="https://www.amd.com/en/corporate/cookies">Cookie Policy</a> | <a target="_blank" href="https://www.amd.com/en/corporate/trademarks">Trademarks</a> | <a target="_blank" href="https://www.amd.com/system/files/documents/statement-human-trafficking-forced-labor.pdf">Statement on Forced Labor</a> | <a target="_blank" href="https://www.amd.com/en/corporate/competition">Fair and Open Competition</a> | <a target="_blank" href="https://www.amd.com/system/files/documents/amd-uk-tax-strategy.pdf">UK Tax Strategy</a> | <a target="_blank" href="https://docs.xilinx.com/v/u/9x6YvZKuWyhJId7y7RQQKA">Inclusive Terminology</a> | <a href="#cookiessettings" class="ot-sdk-show-settings">Cookies Settings</a></p>
                        </div>
                    </div>
												</div>
											</div>
										</div>
										
</br>Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>


</body>
</html>