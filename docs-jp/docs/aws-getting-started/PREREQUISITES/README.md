# Prerequisites for working with SDAccel on AWS F1

You will need to complete all the steps outlined in this guide before making your first connection to an AWS F1 instance.

## 1. Create an AWS account
If you do not already have an Amazon Web Services (AWS) account, create one here: [https://aws.amazon.com/](https://aws.amazon.com)

As part of the process, you will be generating special access keys (AWS Access Key ID and AWS Secret Access Key). Make sure to save them in a known place, because you will need these keys later on to configure the AWS Command Line Interface (CLI).

## 2. Select a region
AWS F1 instances are currently available in specific regions: US East (N.Virginia), US West (Oregon), or EU (Ireland). You must select a supported region in the AWS Management Console.

* Log in to the AWS Management Console: [https://console.aws.amazon.com](https://console.aws.amazon.com)
* Select your region from the dropdown in the upper right corner of the console

## 3. Create an S3 Bucket

An Amazon S3 bucket is required to create to run the Amazon FPGA Image (AFI) creation service. The bucket will contain a tar file and logs which are generated from the Amazon FPGA Image (AFI) creation service.

In this step, you will use the AWS Management Console to create an Amazon S3 bucket. Keep in mind that your bucket's name must be globally unique. If you get an error that your bucket name already exists, try adding additional numbers or characters until you find an unused name.

* Navigate to the AWS Management Console: [https://console.aws.amazon.com](https://console.aws.amazon.com)
* In the AWS Management Console choose Services then select S3 under Storage.
* Choose '+ Create Bucket'
* Provide a globally unique name for your bucket such as '<yourname>afibucket'. If you get an error that your bucket name already exists, try variations until you find an unused name
* Select the Region you've chosen for F1 usage - US East (N.Virginia), US West (Oregon) or EU (Ireland)
* Choose 'Create' in the lower left of the dialog without selecting a bucket to copy settings from

Once you have created your bucket, create two folders to store the design checkpoints (DCPs) and log files generated by SDAccel:

* In the S3 console, select and click on the name of your newly created bucket to open it
* Choose '+ Create folder'
* Provide a name for the folder which will be used to store design checkpoints (DCPs)
* Click 'Save'
* Choose '+ Create folder'
* Provide a name for the folder which will be used to store SDAccel log files
* Click 'Save'

## 4. Prepare your private connection keys
Private keys are needed to connected to your instance. The private keys are different than access keys generated in the first step. It is a good idea to create and prepare them in advance.

* Open the EC2 Management Console: [console.aws.amazon.com/ec2](console.aws.amazon.com/ec2)
* In the left pane, select 'Key Pairs' from the 'NETWORK & SECURITY' menu
* Choose the 'Create Key Pair' button
* Name your key pair and choose 'Create'. A .pem file will be automatically downloaded
* Open a terminal and change directories to the location of the .pem which was just downloaded
* Use the **chmod** command to make sure that your key file isn't publicly viewable
```
chmod 400 <my-key-pair.pem>
```

Your private key is now in the correct format for use with SSH to connect to an AWS EC2 instance.

### For Windows

* If not already installed on your machine, download and install PuTTY: [http://www.putty.org/](http://www.putty.org/)
* Open the EC2 Management Console: [console.aws.amazon.com/ec2](console.aws.amazon.com/ec2)
* In the left pane, select 'Key Pairs' from the 'NETWORK & SECURITY' menu
* Choose the 'Create Key Pair' button
* Name your key pair and choose 'Create'. A .pem file will be automatically downloaded
* Start PuTTYgen (for example, from the Start menu, choose All Programs > PuTTY > PuTTYgen)
* Under 'Type of key to generate', choose RSA
* Choose Load. By default, PuTTYgen displays only files with the extension .ppk. To locate your .pem file, select the option to display files of all types
* Select your .pem file for the key pair that you specified when you launched your instance, and then choose 'Open'. Choose 'OK' to dismiss the confirmation dialog box.
* Choose 'Save private key' to save the key in the format that PuTTY can use. PuTTYgen displays a warning about saving the key without a passphrase. Choose 'Yes'.

Your private key is now in the correct format for use with PuTTY to connect to an AWS EC2 instance.

## 5. Request access to AWS F1 instances

By default, AWS users do not have access to F1 instances. You need to request and be granted access to F1 instances before you can start using these instance.

* Open the Service Limit Increase form: [http://aws.amazon.com/contact-us/ec2-request](http://aws.amazon.com/contact-us/ec2-request)
* Make sure your account name is correct
* Submit a 'Service Limit Increase' for 'EC2 Instances'
* Select the region where you want to access F1 instances: US East (N.Virginia), US West (Oregon) or EU (Ireland)
* Select 'f1.2xlarge' or 'f1.16xlarge' as the primary instance type
* Set the 'New limit value' to 1 or more
* Fill the rest of the form as appropriate and click 'Submit'

Requests are typically processed by AWS in 24 to 48 hours.
<br>
<hr/>
<p align="center"><sup>Copyright&copy; 2018 Xilinx</sup></p>
