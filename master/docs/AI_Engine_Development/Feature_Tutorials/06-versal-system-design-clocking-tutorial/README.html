


<!DOCTYPE HTML>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
	<head>
		<meta charset="utf-8">
		
		<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
		<link rel="stylesheet" href="https://static.cloud.coveo.com/searchui/v2.4382/css/CoveoFullSearch.css"/>
		<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<meta name="description"/>
		<meta name="keywords"/>
		<meta property="og:title" content=""/>
		<meta property="og:description"/>
		<!-- favicon -->
		<link rel="icon" type="image/vnd.microsoft.icon" href="../../../_static/favicon.ico"/>
		<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="../../../_static/favicon.ico"/>
		<!-- Fonts -->
		<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet" type="text/css"/>

  
  
  
  

  
      <script type="text/javascript" src="../../../_static/js/jquery.min.js"></script>
	  <script type="text/javascript" src="../../../_static/js/gtm.js"></script>
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
    <script type="text/javascript" src="../../../_static/js/d3dd8c60ed.js"></script>
    <script type="text/javascript" src="../../../_static/js/common-ui-all.min.js"></script>
    <script type="text/javascript" src="../../../_static/js/header-footer.min.js"></script>
    <script type="text/javascript" src="../../../_static/js/jquery-ui.min.js"></script>
    <script type="text/javascript" src="../../../_static/js/CoveoJsSearch.Lazy.min.js"></script>
    <script type="text/javascript" src="../../../_static/js/linkid.js"></script>
    <script type="text/javascript" src="../../../_static/js/Searchbox.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/common-ui-all.min.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/header-footer.min.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/pro.min.css" media="all" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
	</head>
	<body>
		<div class="xilinx-bs3"/>
		<div class="root responsivegrid">
			<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 aem-Grid--large--16 aem-Grid--xlarge--16 aem-Grid--xxlarge--16 aem-Grid--xxxlarge--16 ">
				<div class="xilinxExperienceFragments experiencefragment aem-GridColumn aem-GridColumn--default--12">
					<div class="xf-content-height">
						<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
							<div class="header parbase aem-GridColumn aem-GridColumn--default--12">
								<noindex>
									<header data-component="header">
										<nav class="navbar navbar-default aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid main-nav">
													<div class="row">
														<div class="col-xs-12">
															<div class="logo-column">
																<div class="logo">
																	<a href="https://www.xilinx.com/">
																	<img src="https://www.xilinx.com/etc.clientlibs/site/clientlibs/xilinx/all/resources/imgs/header/xilinx-header-logo.svg" title="Xilinx Inc"/>
																	</a>
																</div>
															</div>
															<div class="navbar-column">
																<div class="navbar navbar-collapse collapse" id="xilinx-main-menu">
																	<div class="mobile-search-container">
																		<div id="headerSearchBox" class="headerSearch"
																			data-component="header-search"
																			data-redirect-if-empty="false"
																			data-coveo-access-token="xxa237d4dd-f0aa-47fc-9baa-af9121851b33"
																			data-coveo-organization-id="xilinxcomprode2rjoqok">
																			<div class='coveo-search-section'>
																				<div class="CoveoAnalytics" data-search-hub="Site"></div>
																				<ul class="dropdown-menu options">
																					<li class="option" data-label="All" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-search-hub="Site">
																						<a href="#">
																						All</a>
																					</li>
																					<li data-label="Silicon Devices" data-action-link="https://www.xilinx.com//products/silicon-devices/si-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Silicon Devices</a>
																					</li>
																					<li data-label="Boards and Kits" data-action-link="https://www.xilinx.com//products/boards-and-kits/bk-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Boards and Kits</a>
																					</li>
																					<li data-label="Intellectual Property" data-action-link="https://www.xilinx.com//products/intellectual-property/ip-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Intellectual Property</a>
																					</li>
																					<li data-label="Support" class="option" data-action-link="https://www.xilinx.com/search/support-keyword-search.html" data-search-hub="Support">
																						<a href="#">
																						Support</a>
																						<ul>
																							<li data-label="Documentation" data-action-link="https://www.xilinx.com//support/documentation-navigation/documentation-keyword-search.html" data-search-hub="Document">
																								<a href="#">
																								Documentation</a>
																							</li>
																							<li data-label="Knowledge Base" data-action-link="https://www.xilinx.com//support/answer-navigation/answer-keyword-search.html" data-search-hub="AnswerRecord">
																								<a href="#">
																								Knowledge Base</a>
																							</li>
																							<li data-label="Community Forums" data-action-link="https://www.xilinx.com/search/forums-keyword-search.html" data-search-hub="Forums">
																								<a href="#">
																								Community Forums</a>
																							</li>
																						</ul>
																					</li>
																					<li data-label="Partners" data-action-link="https://www.xilinx.com//alliance/member-keyword-search.html" data-search-hub="Partner">
																						<a href="#">
																						Partners</a>
																					</li>
																					<li data-label="Videos" data-action-link="https://www.xilinx.com/video/video-keyword-search.html" data-search-hub="Video">
																						<a href="#">
																						Videos</a>
																					</li>
																					<li data-label="Press" data-action-link="https://www.xilinx.com/search/press-keyword-search.html" data-search-hub="Press">
																						<a href="#">
																						Press</a>
																					</li>
																				</ul>
																				<a href="#" class="btn dropdown-toggle value" data-toggle="dropdown"></a>
																				<div class="CoveoSearchbox" data-id="coveosearchbox" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-placeholder="Search Xilinx"></div>
																			</div>
																		</div>
																	</div>
																	<ul class="nav navbar-nav nav-justified">
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/applications.html">
																			Applications</a>
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/products/silicon-devices.html">
																			Products</a>
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://developer.xilinx.com/">
																			Developers</a>
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/support.html">
																			Support</a>
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/about/company-overview.html">
																			About</a>
																		</li>
																	</ul>
																</div>
															</div>
															<script type="text/javascript" src="../../../_static/js/gtm.js"></script>
															<!--<div class="mini-nav">
																<button type="button" data-function="xilinx-mobile-menu" id="nav-toggle" class="navbar-toggle collapsed visible-xs-block" aria-expanded="false">
																<span></span>
																<span></span>
																<span></span>
																<span></span>
																</button>
																<ul class="list-inline">
																	<li class="dropdown user-menu">
																		<button data-toggle="dropdown">
																		<span class="sr-only">Account</span>
																		<span class="fas fa-user"></span>
																		</button>
																		<ul class="dropdown-menu">
																			<li>
																				<a href="https://www.xilinx.com/myprofile/subscriptions.html">
																				My Account</a>
																			</li>
																			<li>
																				<a href="https://www.xilinx.com/registration/create-account.html">
																				Create Account</a>
																			</li>
																			<li>
																				<a href="https://www.xilinx.com/bin/protected/en/signout">
																				Sign Out</a>
																			</li>
																		</ul>
																	</li>
																	<li class="hidden-xs">
																		<button data-function="search-toggle">
																		<span class="sr-only">Search</span>
																		<span class="far fa-search"></span>
																		</button>
																	</li>
																</ul>
															</div>
															-->
															<div class="search-container">
																<div id="headerSearchBox" class="headerSearch"
																	data-component="header-search"
																	data-redirect-if-empty="false"
																	data-coveo-access-token="xxa237d4dd-f0aa-47fc-9baa-af9121851b33"
																	data-coveo-organization-id="xilinxcomprode2rjoqok">
																	<div class='coveo-search-section'>
																		<div class="CoveoAnalytics" data-search-hub="Site"></div>
																		<ul class="dropdown-menu options">
																			<li class="option" data-label="All" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-search-hub="Site">
																				<a href="#">
																				All</a>
																			</li>
																			<li data-label="Silicon Devices" data-action-link="https://www.xilinx.com/products/silicon-devices/si-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Silicon Devices</a>
																			</li>
																			<li data-label="Boards and Kits" data-action-link="https://www.xilinx.com/products/boards-and-kits/bk-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Boards and Kits</a>
																			</li>
																			<li data-label="Intellectual Property" data-action-link="https://www.xilinx.com/products/intellectual-property/ip-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Intellectual Property</a>
																			</li>
																			<li data-label="Support" class="option" data-action-link="https://www.xilinx.com/search/support-keyword-search.html" data-search-hub="Support">
																				<a href="#">
																				Support</a>
																				<ul>
																					<li data-label="Documentation" data-action-link="https://www.xilinx.com/support/documentation-navigation/documentation-keyword-search.html" data-search-hub="Document">
																						<a href="#">
																						Documentation</a>
																					</li>
																					<li data-label="Knowledge Base" data-action-link="https://www.xilinx.com/support/answer-navigation/answer-keyword-search.html" data-search-hub="AnswerRecord">
																						<a href="#">
																						Knowledge Base</a>
																					</li>
																					<li data-label="Community Forums" data-action-link="https://www.xilinx.com/search/forums-keyword-search.html" data-search-hub="Forums">
																						<a href="#">
																						Community Forums</a>
																					</li>
																				</ul>
																			</li>
																			<li data-label="Partners" data-action-link="https://www.xilinx.com/alliance/member-keyword-search.html" data-search-hub="Partner">
																				<a href="#">
																				Partners</a>
																			</li>
																			<li data-label="Videos" data-action-link="https://www.xilinx.com/video/video-keyword-search.html" data-search-hub="Video">
																				<a href="#">
																				Videos</a>
																			</li>
																			<li data-label="Press" data-action-link="https://www.xilinx.com/search/press-keyword-search.html" data-search-hub="Press">
																				<a href="#">
																				Press</a>
																			</li>
																		</ul>
																		<a href="#" class="btn dropdown-toggle value" data-toggle="dropdown"></a>
																		<div class="CoveoSearchbox" data-id="coveosearchbox" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-placeholder="Search Xilinx"></div>
																	</div>
																</div>
																<button data-function="search-toggle">
																<span class="sr-only">Search</span>
																<span class="far fa-times"></span>
																</button>
															</div>
														</div>
													</div>
												</div>
											</div>
										</nav>
									</header>
								</noindex>
							</div>
						</div>
					</div>
				</div>
				<div class="parsys aem-GridColumn--xxxlarge--none aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
						<div class="container-fluid">
							<div class="row">
							<div class="col-xs-12">
   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home" alt="Documentation Home"> Vitis In-Depth Tutorials
          

          
          </a>

          
            
            
              <div class="version">
                2020.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

      
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
            
            
            
              
            
            
              <p class="caption"><span class="caption-text">日本語版</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Vitis-Tutorials/master/docs-jp/README.html">Master</a></li>
</ul>
<p class="caption"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../Getting_Started/Vitis/README.html">Vitis Flow 101 Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Getting_Started/Vitis_HLS/README.html">Vitis HLS Analysis and Optimization</a></li>
</ul>
<p class="caption"><span class="caption-text">Machine Learning</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../Machine_Learning/README.html">Introduction to Machine Learning with Vitis AI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Machine_Learning/README.html#design-tutorials">Design Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Machine_Learning/README.html#feature-tutorials">Feature Tutorials</a></li>
</ul>
<p class="caption"><span class="caption-text">Acceleration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../Hardware_Accelerators/README.html">Introduction to Vitis Hardware Accelerators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Hardware_Accelerators/README.html#design-tutorials">Design Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Hardware_Accelerators/README.html#feature-tutorials">Feature Tutorials</a></li>
</ul>
<p class="caption"><span class="caption-text">AI Engine Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../README.html">AI Engine Development</a></li>
</ul>
<p class="caption"><span class="caption-text">Platform Creation Tutorial</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../Vitis_Platform_Creation/README.html">Platform Creation</a></li>
</ul>
<p class="caption"><span class="caption-text">XRT and Vitis System Optimization</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../Runtime_and_System_Optimization/README.html">Xilinx Runtime (XRT) and Vitis System Optimization Tutorials</a></li>
</ul>
<p class="caption"><span class="caption-text">Versions</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Vitis-Tutorials/2020-1/docs/README.html">2020.1</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/Xilinx/Vitis-Tutorials/blob/Vitis-Tutorials-2019.2-Hotfix1/README.md">2019.2</a></li>
</ul>

            
			
			<p class="caption"><span class="caption-text">This Page</span></p>
				<ul class="current">
				  <li class="toctree-l1"><a href="../../../_sources/AI_Engine_Development/Feature_Tutorials/06-versal-system-design-clocking-tutorial/README.md.txt"
						rel="nofollow">Show Source</a></li>
				</ul>
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Vitis In-Depth Tutorials</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Introduction</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/AI_Engine_Development/Feature_Tutorials/06-versal-system-design-clocking-tutorial/README.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <table class="sphinxhide">
 <tr>
   <td align="center"><img src="https://www.xilinx.com/content/dam/xilinx/imgs/press/media-kits/corporate/xilinx-logo.png" width="30%"/><h1>2020.2 Versal™ AI Engine</h1>
   </td>
 </tr>
 <tr>
 <td align="center"><h1>Versal System Design Clocking</h1>
 </td>
 </tr>
</table><div class="section" id="introduction">
<h1>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h1>
<p>Developing an accelerated AI Engine design for the VCK190, can be done using the Vitis™ compiler (<code class="docutils literal notranslate"><span class="pre">v++</span></code>). This compiler can be used to compile programmable logic kernels (PL kernels), and connect these PL kernels to the AI Engine and PS device.</p>
<p>In this tutorial you will learn clocking concepts for the Vitis compiler via how to define clocking for ADF Graph PL kernels, PLIO kernels by using clocking automation functionality. The design being used is a simple classifier design:</p>
<p><img alt="Design diagram" src="../../../_images/event_noinfo.PNG" /></p>
<p>Pre-requisites for this tutorial are:</p>
<ul class="simple">
<li><p>Familiarity with the <code class="docutils literal notranslate"><span class="pre">aiecompiler</span></code> flow</p></li>
<li><p>Familiarity with the <code class="docutils literal notranslate"><span class="pre">gcc</span></code> style command-line compilation</p></li>
</ul>
<p>In the design the following clocking steps are used:</p>
<p>| Kernel Location | Compile Setting |
| — | — |
| Interpolator &amp; Classifier | AI Engine Frequency (1GHz) |
| <code class="docutils literal notranslate"><span class="pre">polar_clip</span></code> | 200MHz (<code class="docutils literal notranslate"><span class="pre">aiecompiler</span></code>, <code class="docutils literal notranslate"><span class="pre">v++</span> <span class="pre">-c</span></code>, &amp; <code class="docutils literal notranslate"><span class="pre">v++</span> <span class="pre">-l</span></code>)
| <code class="docutils literal notranslate"><span class="pre">mm2s</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">s2mm</span></code> | 150MHz and 100MHz (<code class="docutils literal notranslate"><span class="pre">v++</span> <span class="pre">-c</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">v++</span> <span class="pre">-l</span></code>) |
For more detailed info on this, look for <em>Table 40</em> of UG1076.</p>
<p><strong>IMPORTANT</strong>: Before beginning the tutorial make sure you have read and followed the <em>Vitis Software Platform Release Notes</em> (v2020.2) for setting up software and installing the platform. Also, the variable <code class="docutils literal notranslate"><span class="pre">PLATFORM_REPO_PATHS</span></code> is used to find the platform installation path. Set this variable appropriately.</p>
<p>This tutorial targets the VCK190 ES board (see https://www.xilinx.com/products/boards-and-kits/vck190.html). This board is currently available via early access. If you have already purchased this board, download the necessary files from the lounge and ensure you have the correct licenses installed. If you do not have a board and ES license please contact your Xilinx sales contact.</p>
</div>
<div class="section" id="objectives">
<h1>Objectives<a class="headerlink" href="#objectives" title="Permalink to this headline">¶</a></h1>
<p>You will learn the following:</p>
<ul class="simple">
<li><p>Clocking of the PL kernel in the ADF Graph</p></li>
<li><p>CLocking of PL kernels outside the ADF Graph</p></li>
<li><p>Introduction of datawidth converters, clock-domain crossing, and FIFOs in <code class="docutils literal notranslate"><span class="pre">v++</span></code></p></li>
</ul>
</div>
<div class="section" id="step-1-building-adf-graph">
<h1>Step 1 - Building ADF Graph<a class="headerlink" href="#step-1-building-adf-graph" title="Permalink to this headline">¶</a></h1>
<p>The ADF graph has a PL kernel associated with it, <code class="docutils literal notranslate"><span class="pre">polar_clip</span></code>. The <code class="docutils literal notranslate"><span class="pre">aiecompiler</span></code> will bring in the interfaces for connectivity (for <code class="docutils literal notranslate"><span class="pre">aiesimulator</span></code> purpose only). You will have to compile this PL Kernel with <code class="docutils literal notranslate"><span class="pre">v++</span></code> for emulation and hardware builds. For clocking PL kernels inside the ADF Graph, this info is necessary, and the <code class="docutils literal notranslate"><span class="pre">--pl-freq</span></code> is used to determine the appropriate frequency (in MHz).</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>aiecompiler -target<span class="o">=</span>hw -I ./aie <span class="se">\</span>
    --platform<span class="o">=</span><span class="nv">$PLATFORM_REPO_PATHS</span>/xilinx_vck190_es1_base_202020_1/xilinx_vck190_es1_base_202020_1.xpfm <span class="se">\</span>
    --pl-freq<span class="o">=</span><span class="m">200</span> ./aie/graph.cpp --workdir<span class="o">=</span>./Work
</pre></div>
</div>
<p>or</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make aie
</pre></div>
</div>
<p>| Flag | Description |
| —- | ———– |
| –target | Target how the compiler will build the graph. Default is <code class="docutils literal notranslate"><span class="pre">hw</span></code> |
| –include | All the typical include files needed to build the graph |
| –pl-freq | Sets all PL kernels in the graph to this frequency in MHz |
| –workdir | The location of where the Work directory will be created |</p>
<p><strong>Note</strong>: Building PL kernels can be an iterative process.</p>
</div>
<div class="section" id="step-1-clocking-for-pl-kernels-in-adf-graph">
<h1>Step 1 - Clocking for PL Kernels in ADF Graph<a class="headerlink" href="#step-1-clocking-for-pl-kernels-in-adf-graph" title="Permalink to this headline">¶</a></h1>
<p>After the graph knows the clocking the PL Kernel is using, you’ll have to make sure the kernel is compiled with the same frequency (this is to make sure the kernel is optimized to the specified frequency). Notice in the next command the <code class="docutils literal notranslate"><span class="pre">--hls.clock</span></code>. This is used to handle the new frequency, and is explained more <em>Versal ACAP AI Engine Programming Environment - Chapter 13</em>.</p>
<ol>
<li><p>Run the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>v++ -c --platform <span class="nv">$PLATFORM_REPO_PATHS</span>/xilinx_vck190_es1_base_202020_1/xilinx_vck190_es1_base_202020_1.xpfm --hls.clock <span class="m">200000000</span>:polar_clip -k polar_clip <span class="se">\</span>
    ./pl_kernels/polar_clip.cpp -o polar_clip.xo --save-temps
</pre></div>
</div>
<p>Notice that the <code class="docutils literal notranslate"><span class="pre">--hls.clock</span></code> is missing in this command. This is because the clocking is pre-defined in the graph from the <code class="docutils literal notranslate"><span class="pre">aiecompiler</span></code>.</p>
<p>|Switch/flag|Description|
|  —  |  —  |
|<code class="docutils literal notranslate"><span class="pre">-c</span></code>|Tells v++ to just compile the kernel|
|<code class="docutils literal notranslate"><span class="pre">--platform/-f</span></code>|Specifies the path to an extensible platform|
|<code class="docutils literal notranslate"><span class="pre">-k</span></code>|The kernel name. This has to match the function name in the corresponding file defining the kernel.|
|<code class="docutils literal notranslate"><span class="pre">-o</span></code>|The output. Because you are building a kernel, the output must be <code class="docutils literal notranslate"><span class="pre">.xo</span></code>|
|<code class="docutils literal notranslate"><span class="pre">--save-temps/-s</span></code>|Saves the generated output process in the <code class="docutils literal notranslate"><span class="pre">_x</span></code> directory|</p>
</li>
</ol>
<p>When complete, you will have a <code class="docutils literal notranslate"><span class="pre">libadf.a</span></code> and <code class="docutils literal notranslate"><span class="pre">polar_clip.xo</span></code> files ready to use with <code class="docutils literal notranslate"><span class="pre">v++</span></code>. A key point to this <code class="docutils literal notranslate"><span class="pre">polar_clip</span></code> kernel is that it is considered a free running kernel. This means that the host application will never be able to control it, and it is already running and waiting for data at launch. As mentioned in the <strong>Overview</strong>, data will exit the AI Engine, go to the <code class="docutils literal notranslate"><span class="pre">polar_clip</span></code>, and then return to the AI Engine.</p>
</div>
<div class="section" id="step-2-clocking-the-plio-kernels">
<h1>Step 2 - Clocking the PLIO Kernels<a class="headerlink" href="#step-2-clocking-the-plio-kernels" title="Permalink to this headline">¶</a></h1>
<p>An ADF graph communicates with the PL fabric through the means of inputs and outputs defined in the graph. These specific interfaces need to be hooked up to what is called a programmable logic input/output (PLIO) kernel.</p>
<p>In this design you will use two of these kernels called: <strong>MM2S</strong> and <strong>S2MM</strong>. These are AXI memory-mapped to AXI4-Stream HLS designs to handle mapping from DDR and streaming the data to the AI Engine. Clocking of these PLIO kernels are separate from the ADF Graph and you’d specify them when compiling the kernel, and when you link the design together.</p>
<p>Run the following commands:
<code class="docutils literal notranslate"><span class="pre">bash</span> <span class="pre">v++</span> <span class="pre">-c</span> <span class="pre">--platform</span> <span class="pre">$PLATFORM_REPO_PATHS/xilinx_vck190_es1_base_202020_1/xilinx_vck190_es1_base_202020_1.xpfm</span> <span class="pre">-k</span> <span class="pre">mm2s</span> <span class="pre">./pl_kernels/mm2s.cpp</span> <span class="pre">\</span> <span class="pre">--hls.clock</span> <span class="pre">150000000:mm2s</span> <span class="pre">-o</span> <span class="pre">mm2s.xo</span> <span class="pre">--save-temps</span> <span class="pre">v++</span> <span class="pre">-c</span> <span class="pre">--platform</span> <span class="pre">$PLATFORM_REPO_PATHS/xilinx_vck190_es1_base_202020_1/xilinx_vck190_es1_base_202020_1.xpfm</span> <span class="pre">-k</span> <span class="pre">s2mm</span> <span class="pre">./pl_kernels/s2mm.cpp</span> <span class="pre">\</span> <span class="pre">--hls.clock</span> <span class="pre">150000000:s2mm</span> <span class="pre">-o</span> <span class="pre">s2mm.xo</span> <span class="pre">--save-temps</span> </code></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Or this command:
```bash
make kernels
```
</pre></div>
</div>
<p>A brief explanation of the <code class="docutils literal notranslate"><span class="pre">v++</span></code> options:</p>
<p>| Flag/Switch | Description |
| — | —|
| <code class="docutils literal notranslate"><span class="pre">-c</span></code> | Tells <code class="docutils literal notranslate"><span class="pre">v++</span></code> to run the compiler.|
| <code class="docutils literal notranslate"><span class="pre">--platform</span></code> | (required) The platform to be compiled towards.|
| <code class="docutils literal notranslate"><span class="pre">-k</span></code> | (required) Kernel name.|
| <code class="docutils literal notranslate"><span class="pre">--hls.clock</span></code> | Tells the Vitis compiler to use a specific clock defined by a 9-digit number (in the previous example above the clock is 100 MHz). Specifying this will help with the compiler make optimizations based on kernel timing.|
| <code class="docutils literal notranslate"><span class="pre">-o</span></code> | (required) The output, which will always be .xo.|
| <code class="docutils literal notranslate"><span class="pre">--save-temps</span></code> | (optional) Will create a folder structure and save the compilation of the kernel.|</p>
<p>For additional information, see <a class="reference external" href="https://www.xilinx.com/html_docs/xilinx2020_2/vitis_doc/vitiscommandcompiler.html">Vitis Compiler Command</a>.</p>
<p>Once completed, you will have the <code class="docutils literal notranslate"><span class="pre">mm2s.xo</span></code> and <code class="docutils literal notranslate"><span class="pre">s2mm.xo</span></code> files ready to be used by <code class="docutils literal notranslate"><span class="pre">v++</span></code>. The host application will communicate with these kernels to read/write data into memory.</p>
</div>
<div class="section" id="step-3-v-linker-building-the-system">
<h1>Step 3 - <code class="docutils literal notranslate"><span class="pre">v++</span></code> linker – Building the System<a class="headerlink" href="#step-3-v-linker-building-the-system" title="Permalink to this headline">¶</a></h1>
<p>Now that you have a compiled graph (<code class="docutils literal notranslate"><span class="pre">libadf.a</span></code>), the PLIO kernels (<code class="docutils literal notranslate"><span class="pre">mm2s.xo</span></code> and <code class="docutils literal notranslate"><span class="pre">s2mm.xo</span></code>), and the PL kernel for the graph (<code class="docutils literal notranslate"><span class="pre">polar_clip.xo</span></code>), you can link everything up for the VCK190 platform.</p>
<p>A few of things to remember in this step:</p>
<ol class="simple">
<li><p>For PLIO kernels, you need to specify their connectivity for the system.</p></li>
<li><p>Specify the clocking per PL/PLIO Kernel</p></li>
<li><p>You need to determine the <code class="docutils literal notranslate"><span class="pre">TARGET</span></code>: <em>hw</em> or <em>hw_emu</em>.</p></li>
</ol>
<p>To link kernels up to the platform and AI Engine, you will need to look at the <code class="docutils literal notranslate"><span class="pre">system.cfg</span></code> file. For this design the config file looks like this:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[connectivity]</span>
<span class="na">nk</span><span class="o">=</span><span class="s">mm2s:1:mm2s</span>
<span class="na">nk</span><span class="o">=</span><span class="s">s2mm:1:s2mm</span>
<span class="na">stream_connect</span><span class="o">=</span><span class="s">mm2s.s:ai_engine_0.Datain</span>
<span class="na">stream_connect</span><span class="o">=</span><span class="s">ai_engine_0.Dataout:s2mm.s</span>
</pre></div>
</div>
<p>Here you may notice some connectivity and clocking options.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">nk</span></code> This defines your PL kernels as such: <code class="docutils literal notranslate"><span class="pre">&lt;kernel&gt;:&lt;count&gt;:&lt;naming&gt;</span></code>. For this design, you only have one of each <code class="docutils literal notranslate"><span class="pre">s2mm</span></code> and <code class="docutils literal notranslate"><span class="pre">mm2s</span></code> kernels.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">stream_connect</span></code> – This tells <code class="docutils literal notranslate"><span class="pre">v++</span></code> how to hook up the previous two kernels to the AI Engine instance. Remember, AI Engine only handles stream interfaces. You can also define a FIFO on this line by adding a depth value to the end.</p></li>
</ul>
<p>There are many more options available for <code class="docutils literal notranslate"><span class="pre">v++</span></code>. For a full list, see the documentation <a class="reference external" href="https://www.xilinx.com/html_docs/xilinx2020_2/vitis_doc/vitiscommandcompiler.html">here</a>.</p>
<ol>
<li><p>Modify the <code class="docutils literal notranslate"><span class="pre">system.cfg</span></code> file so that the second <code class="docutils literal notranslate"><span class="pre">stream_connect</span></code> has a stream depth of <code class="docutils literal notranslate"><span class="pre">1024</span></code>. Replace the line with <code class="docutils literal notranslate"><span class="pre">ai_engine_0.Dataout</span></code> line with this: <code class="docutils literal notranslate"><span class="pre">stream_connect=ai_engine_0.Dataout:s2mm.s:1024</span></code></p>
<ul class="simple">
<li><p>Keep this file open for now.</p></li>
</ul>
</li>
<li><p>The data output of the AI Engine is at 32-bit, and at a high clock frequency. To reduce the possibilities of dropping data, you can attach the <code class="docutils literal notranslate"><span class="pre">s2mm</span></code> kernel to the AI Engine with a larger datawidth (eg. 64-bits) and the clock frequency to <code class="docutils literal notranslate"><span class="pre">s2mm</span></code> to keep relative bandwidth the same. To do this the Vitis Compiler will auto instantiate a Clock Converter block and Datawidth Converter block to make sure connectivity is achieved.</p>
<ul class="simple">
<li><p>Open the <code class="docutils literal notranslate"><span class="pre">s2mm.cpp</span></code> in <code class="docutils literal notranslate"><span class="pre">./pl_kernels</span></code> to see that the line <code class="docutils literal notranslate"><span class="pre">23</span></code> has 64-bit defined for both input and output.</p></li>
</ul>
</li>
<li><p>Because the <code class="docutils literal notranslate"><span class="pre">s2mm</span></code> kernel is running slower than the AI Engine output, you need to override the clock provided to it in <strong>Step 2</strong>. That was just for kernel compilation, and linking is to make sure that clock is connected correctly. In the <code class="docutils literal notranslate"><span class="pre">system.cfg</span></code> file uncomment these lines:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[clock]</span>
<span class="na">freqHz</span><span class="o">=</span><span class="s">100000000:s2mm.ap_clk</span>
<span class="na">tolerance</span><span class="o">=</span><span class="s">1000000:s2mm.ap_clk</span>
</pre></div>
</div>
<p>Here you are telling the <code class="docutils literal notranslate"><span class="pre">v++</span></code> linker to override the default clock frequency to 100MHz for the <code class="docutils literal notranslate"><span class="pre">s2mm</span></code> kernel, and setting the clock tolerance to 1MHz. By setting a tolerance you are giving the linker a better chance to make sure a clock can be generated and meet your bandwidth.</p>
</li>
<li><p>With the changes made you can now run the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>v++ --link --target hw --platform <span class="nv">$PLATFORM_REPO_PATHS</span>/xilinx_vck190_es1_base_202020_1/xilinx_vck190_es1_base_202020_1.xpfm s2mm.xo <span class="se">\</span>
    mm2s.xo polar_clip.xo ./aie/libadf.a --config system.cfg <span class="se">\</span>
    --save-temps -o tutorial1.xclbin 
</pre></div>
</div>
<p>| Flag/Switch | Description |
| — | — |
| <code class="docutils literal notranslate"><span class="pre">--link</span></code> | Tells v++ that it will be linking a design, so only the *.xo and libadf.a files are valid inputs |
| <code class="docutils literal notranslate"><span class="pre">--target</span></code> | Tells v++ how far of a build it should go, hardware (which will build down to a bitstream) or hardware emulation (which will build the emulation models) |
| <code class="docutils literal notranslate"><span class="pre">--platform</span></code> |  Same from the previous two steps |
| <code class="docutils literal notranslate"><span class="pre">--config</span></code> | This allows you to simplify the <code class="docutils literal notranslate"><span class="pre">v++</span></code> command-line if it gets too unruly and have items in an ini style file. |</p>
</li>
<li><p>When the linking is complete you can view what the design looks like in the Vivado® tools. Navigate to <code class="docutils literal notranslate"><span class="pre">_x/link/vivado/vpl</span></code>.</p>
<ol class="simple">
<li><p>Run the command in the terminal: <code class="docutils literal notranslate"><span class="pre">vivado</span> <span class="pre">-source</span> <span class="pre">openprj.tcl</span></code></p></li>
<li><p>When the tool is open, locate the button on the left in the Flow Navigator and click, “Open Block Design”. You should see an output similar to the following figure. (The following figure has reduced nets visible to see the added FIFO, Datawidth Converter, and Clock Converter).</p></li>
</ol>
<p><img alt="IPI Diagram" src="../../../_images/vivado_ipi.PNG" /></p>
<p><strong>IMPORTANT: Do not change anything in this view. This is only for demonstration purposes.</strong></p>
<ul class="simple">
<li><p>From the changes made above, you will notice a new clock, a Datawidth Converter, Clock Converter, and a new FIFO on the <code class="docutils literal notranslate"><span class="pre">s2mm</span></code> kernel.</p>
<ul>
<li><p>Do note that if you change a kernel or connectivity you have to re-run v++ linker.</p></li>
</ul>
</li>
</ul>
</li>
</ol>
<p><strong>NOTE: Any change to the <code class="docutils literal notranslate"><span class="pre">system.cfg</span></code> file can also be done on the command-line. Make sure to familiarize yourself with the Vitis compiler options by referring to the documentation <a class="reference external" href="https://www.xilinx.com/html_docs/xilinx2020_2/vitis_doc/vitiscommandcompiler.html">here</a>.</strong></p>
<p><strong>IMPORTANT: Clocking for ADF Graph and PL Kernels follow a few rules. One, PL Kernels that are inside the ADF Graph will have to have their clock specified in three locations: Graph creation, <code class="docutils literal notranslate"><span class="pre">v++</span></code> kernel compilation, and lastly in <code class="docutils literal notranslate"><span class="pre">v++</span></code> linker. For PL Kernels outside the ADF Graph, only: <code class="docutils literal notranslate"><span class="pre">v++</span></code> kernel compilation and <code class="docutils literal notranslate"><span class="pre">v++</span></code> linker.</strong></p>
</div>
<div class="section" id="step-4-compiling-host-code">
<h1>Step 4 - Compiling Host Code<a class="headerlink" href="#step-4-compiling-host-code" title="Permalink to this headline">¶</a></h1>
<p>When the <code class="docutils literal notranslate"><span class="pre">v++</span></code> linker is complete, you can compile the host code that will run on the Linux that comes with the platform. Compiling code for the design requires the location of the <strong>SYSROOT</strong>, or representation of the root file system, that can be used to cross-compile the host code.</p>
<ol>
<li><p>Open <code class="docutils literal notranslate"><span class="pre">./sw/host.cpp</span></code> and familiarize yourself with the contents. Pay close attention to API calls and the comments provided.</p>
<p>Do take note that <a class="reference external" href="https://xilinx.github.io/XRT/2020.2/html/index.html">XRT</a> (Xilinx Runtime) is used in the host application. This API layer is used to communicate with the programmable logic, specifically the PLIO kernels for reading and writing data. To understand how to use this API in an AI Engine application refer to the “Programming the PS Host Application” of UG1076.</p>
<p>The output size of the kernel run is half of what was allocated earlier. This is something to keep in mind. By changing the <code class="docutils literal notranslate"><span class="pre">s2mm</span></code> kernel from a 32-bit input/output to a 64-bit input/output, the kernel call will be adjusted. If this is not changed, it will hang because XRT is waiting for the full length to be processed when in reality half the count was done (even though all the data will be present). In the <code class="docutils literal notranslate"><span class="pre">host.cpp</span></code> look at line 117 and 118 and comment them out. You should have uncommented the following line:</p>
<div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">xrtRunHandle</span> <span class="n">s2mm_rhdl</span> <span class="o">=</span> <span class="n">xrtKernelRun</span><span class="p">(</span><span class="n">s2mm_khdl</span><span class="p">,</span> <span class="n">out_bohdl</span><span class="p">,</span> <span class="k">nullptr</span><span class="p">,</span> <span class="n">sizeOut</span><span class="o">/</span><span class="mi">2</span><span class="p">);</span>
</pre></div>
</div>
</li>
<li><p>Open the <code class="docutils literal notranslate"><span class="pre">Makefile</span></code>, and familiarize yourself with the contents. Take note of the <code class="docutils literal notranslate"><span class="pre">GCC_FLAGS</span></code>, and <code class="docutils literal notranslate"><span class="pre">GCC_LLIBS</span></code>.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">GCC_FLAGS</span></code> Should be self-explanatory that you will be compiling this code with C++14.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GCC_LLIBS</span></code> Has the list of all the specific libraries you will be compiling and linking with. This is the minimum list of libraries needed to compile an AI Engine application for Linux.</p></li>
</ul>
</li>
<li><p>Close the makefile and run the command: <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">host</span></code>.</p></li>
</ol>
<p>With the host application fully compiled, you can now move to packaging the entire system.</p>
</div>
<div class="section" id="step-5-packaging-design-and-running-on-board">
<h1>Step 5 - Packaging Design and Running on Board<a class="headerlink" href="#step-5-packaging-design-and-running-on-board" title="Permalink to this headline">¶</a></h1>
<p>To run the design on hardware using an SD card, you need to package all the files created. For a Linux application, you must make sure that the generated <code class="docutils literal notranslate"><span class="pre">.xclbin</span></code>, <code class="docutils literal notranslate"><span class="pre">libadf.a</span></code>, and all Linux info from the platform are in an easy to copy directory.</p>
<ol>
<li><p>Open the <code class="docutils literal notranslate"><span class="pre">Makefile</span></code> with your editor of choice, and familiarize yourself with the contents specific to the <code class="docutils literal notranslate"><span class="pre">package</span></code> task.</p></li>
<li><p>In an easier to read command-line view, here is the command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>v++ --package --target hw --platform <span class="nv">$PLATFORM_REPO_PATHS</span>/xilinx_vck190_base_202020_1/xilinx_vck190_base_202020_1.xpfm <span class="se">\</span>
    --package.rootfs <span class="si">${</span><span class="nv">ROOTFS</span><span class="si">}</span> <span class="se">\</span>
	--package.kernel_image <span class="si">${</span><span class="nv">IMAGE</span><span class="si">}</span> <span class="se">\</span>
	--package.boot_mode<span class="o">=</span>sd <span class="se">\</span>
	--package.image_format<span class="o">=</span>ext4 <span class="se">\</span>
	--package.defer_aie_run <span class="se">\</span>
	--package.sd_file host.exe <span class="se">\</span>
    tutorial1.xclbin libadf.a
</pre></div>
</div>
<p><strong>NOTE:</strong> Remember to change the <code class="docutils literal notranslate"><span class="pre">${ROOTFS}</span></code> and <code class="docutils literal notranslate"><span class="pre">${IMAGE}</span></code> to the proper paths.</p>
<p>Here you are invoking the packaging capabilities of v++ and defining how it needs to package your design.</p>
<p>| Switch/Flag | Description |
| — | — |
| <code class="docutils literal notranslate"><span class="pre">--package.rootfs</span></code> | This specifies the root file system to be used. In the case of the tutorial it is using the pre-built one from the platform. |
| <code class="docutils literal notranslate"><span class="pre">--package.kernel_image</span></code> | This is the Linux kernel image to be used. This is also a using a pre-built one from the platform. |
| <code class="docutils literal notranslate"><span class="pre">--package.boot_mode</span></code> | Used to specify how the design is to be booted. For this tutorial an sd_card will be used, and it will create a directory with all the contents needed to boot from one. |
| <code class="docutils literal notranslate"><span class="pre">--package.image_format</span></code> | Tells the packager the format of the Kernel image and root file system. For Linux, this should be <code class="docutils literal notranslate"><span class="pre">ext4</span></code>. |
| <code class="docutils literal notranslate"><span class="pre">--package.defer_aie_run</span></code> | This tells the packager than when building the boot system to program the AI Engine, but to stop execution. In some designs, you do not want the AI Engine to run until the application is fully loaded. |
| <code class="docutils literal notranslate"><span class="pre">--package.sd_file</span></code> | Specify this to sell the packager what additional files need to be copied to the sd_card directory and image. |</p>
</li>
<li><p>Run the command: <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">package</span></code></p></li>
<li><p>When the packaging is complete do an <code class="docutils literal notranslate"><span class="pre">cd</span> <span class="pre">./sw</span> <span class="pre">&amp;&amp;</span> <span class="pre">ls</span></code> and notice that several new files were created, including the <code class="docutils literal notranslate"><span class="pre">sd_card</span></code> directory.</p></li>
<li><p>Format the SD card with the <code class="docutils literal notranslate"><span class="pre">sd_card.img</span></code> file.</p></li>
</ol>
<p>When running the VCK190 board, make sure you have the right onboard switches flipped for booting from the SD card.</p>
<ol>
<li><p>Insert the SD card and turn on the board.</p></li>
<li><p>In an attached monitor and keyboard, wait for the Linux command prompt to be available.</p></li>
<li><p>Run the following commands:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>dmesg -n <span class="m">4</span> <span class="o">&amp;&amp;</span> <span class="nb">echo</span> <span class="s2">&quot;Hide DRM messages...&quot;</span>
<span class="nb">cd</span> /mnt/sd-mmcblk0p1
<span class="nb">export</span> <span class="nv">XILINX_XRT</span><span class="o">=</span>/usr
</pre></div>
</div>
</li>
<li><p>To run your application enter the command: <code class="docutils literal notranslate"><span class="pre">./host.exe</span> <span class="pre">a.xclbin</span></code></p></li>
<li><p>You should see a <strong>TEST PASSED</strong> which means that the application ran successfully!</p></li>
</ol>
<p><strong>IMPORTANT</strong>: To rerun the application you need to power cycle the board.</p>
</div>
<div class="section" id="challenge-optional">
<h1>Challenge (Optional)<a class="headerlink" href="#challenge-optional" title="Permalink to this headline">¶</a></h1>
<div class="section" id="build-the-design-for-hardware-emulation">
<h2>Build the design for Hardware Emulation<a class="headerlink" href="#build-the-design-for-hardware-emulation" title="Permalink to this headline">¶</a></h2>
<p>Modifying the target for both <strong>Step 3</strong> and <strong>Step 4</strong> link and package a design for hardware emulation and run such emulation with the generated script, <code class="docutils literal notranslate"><span class="pre">launch_hw_emu.sh</span></code>.</p>
</div>
</div>
<div class="section" id="summary">
<h1>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h1>
<p>In this tutorial you learned the following:</p>
<ul class="simple">
<li><p>Adjusted clocking for PL Kernels and PLIO Kernels</p></li>
<li><p>How to modify the <code class="docutils literal notranslate"><span class="pre">v++</span></code> linker options through command-line and the config file</p></li>
<li><p>Learned how datawidth converters, clock-domain crossing, and FIFOs are inserted in <code class="docutils literal notranslate"><span class="pre">v++</span></code></p></li>
<li><p>How to run an AI Engine application on a VCK190 board</p></li>
</ul>
<p align="center"><sup>&copy;  Copyright 2020 Xilinx, Inc.</sup></p><p>Licensed under the Apache License, Version 2.0 (the “License”);</p>
<p>you may not use this file except in compliance with the License.</p>
<p>You may obtain a copy of the License at</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">apache</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">licenses</span><span class="o">/</span><span class="n">LICENSE</span><span class="o">-</span><span class="mf">2.0</span>
</pre></div>
</div>
<p>Unless required by applicable law or agreed to in writing, software</p>
<p>distributed under the License is distributed on an “AS IS” BASIS,</p>
<p>WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</p>
<p>See the License for the specific language governing permissions and</p>
<p>limitations under the License.</p>
<p align="center"><sup>XD004</sup></p></div>


           </div>
           
          </div>
          <footer>
<!-- Atalwar: Moved the footer code to layout.html to resolve conflict with the Xilinx template -->
</footer>

        </div>
      </div>


	  <!-- Sphinx Page Footer block -->
  

  <hr/>

  <div role="contentinfo" class="copyright">
    <p class="footerinfo">

    </p>
	<br>
  </div>
      </div>
    </section>


  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

   <script type="text/javascript">
    jQuery(function() { Search.loadIndex("searchindex.js"); });
  </script>

  <script type="text/javascript" id="searchindexloader"></script>


  
  
    
  



  <!--  Xilinx template footer block -->
							</div>
						</div>
					</div>
				</div>
				<div class="xilinxExperienceFragments experiencefragment aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
					<div class="xf-content-height">
						<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
							<div class="footer parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
								<noindex>
                  <!-- make footer fixed - NileshP -->
                  <style>
                        .footer {
                        position: fixed;
                        left: 0;
                        bottom: 0;
                        width: 100%;
                        }
                  </style>
                  <!-- make footer fixed NileshP-->
									<footer>
										<div class="aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid sub-footer">
													<div class="row">
														<div class="footerSocial parbase">
															<div class="col-md-push-6 col-lg-push-6 col-md-6 col-lg-6">
																<ul class="list-inline pull-right social-menu">
																	<li>
																		<a href="https://www.linkedin.com/company/xilinx">
																		<span class="linkedin icon"></span>
																		<span class="sr-only">Connect on LinkedIn</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.twitter.com/XilinxInc">
																		<span class="twitter icon"></span>
																		<span class="sr-only">Follow us on Twitter</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.facebook.com/XilinxInc">
																		<span class="facebook icon"></span>
																		<span class="sr-only">Connect on Facebook</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.youtube.com/XilinxInc">
																		<span class="youtube icon"></span>
																		<span class="sr-only">Watch us on YouTube</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.xilinx.com/registration/subscriber-signup.html">
																		<span class="newsletter icon"></span>
																		<span class="sr-only">Subscribe to Newsletter</span>
																		</a>
																	</li>
																</ul>
															</div>
														</div>
														<div class="col-md-pull-6 col-lg-pull-6 col-md-6 col-lg-6">
															<span class="copyright">
                                  
                                  &copy; 2020–2021, Xilinx, Inc.
                              </span>
															<ul class="list-inline sub-menu">
																<li>
																	<a href="https://www.xilinx.com/about/privacy-policy.html">Privacy</a>
																</li>
																<li>
																	<a href="https://www.xilinx.com/about/legal.html">Legal</a>
																</li>
																<li>
																	<a href="https://www.xilinx.com/about/contact.html">Contact</a>
																</li>
															</ul>
														</div>
													</div>
												</div>
											</div>
										</div>
									</footer>
								</noindex>
							</div>
						</div>
					</div>
				</div>
				<div class="quicklinks parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
					<noindex>
						<span class="quickLinks">
							<ul>
								<li>
									<a href="#top" class="btn backToTop">
									<span class="fas fa-angle-up" aria-hidden="true"></span>
									</a>
								</li>
							</ul>
						</span>
					</noindex>
				</div>
			</div>
		</div>
		<script>window.CQ = window.CQ || {}</script>
		<script src="https://static.cloud.coveo.com/searchui/v2.4382/js/CoveoJsSearch.Lazy.min.js"></script>
		<script>
			var underscoreSetup = function () {
			  _.templateSettings.interpolate = /\{\{=([^-][\S\s]+?)\}\}/g;
			  _.templateSettings.evaluate = /\{\{([^-=][\S\s]+?)\}\}/g;
			  _.templateSettings.escape = /\{\{-([^=][\S\s]+?)\}\}/g;
			}

			underscoreSetup();
		</script>
	</body>
</html>