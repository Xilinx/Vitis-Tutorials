


<!DOCTYPE HTML>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
	<head>
		<meta charset="utf-8">
		
		<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
		<link rel="stylesheet" href="https://static.cloud.coveo.com/searchui/v2.4382/css/CoveoFullSearch.css"/>
		<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<meta name="description"/>
		<meta name="keywords"/>
		<meta property="og:title" content=""/>
		<meta property="og:description"/>
		<!-- favicon -->
		<link rel="icon" type="image/vnd.microsoft.icon" href="../../../../_static/favicon.ico"/>
		<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="../../../../_static/favicon.ico"/>
		<!-- Fonts -->
		<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet" type="text/css"/>

  
  
  
  

  
      <script type="text/javascript" src="../../../../_static/js/jquery.min.js"></script>
	  <script type="text/javascript" src="../../../../_static/js/gtm.js"></script>
  <script type="text/javascript" src="../../../../_static/js/modernizr.min.js"></script>
    <script type="text/javascript" src="../../../../_static/js/d3dd8c60ed.js"></script>
    <script type="text/javascript" src="../../../../_static/js/common-ui-all.min.js"></script>
    <script type="text/javascript" src="../../../../_static/js/jquery-ui.min.js"></script>
    <script type="text/javascript" src="../../../../_static/js/CoveoJsSearch.Lazy.min.js"></script>
    <script type="text/javascript" src="../../../../_static/js/linkid.js"></script>
    <script type="text/javascript" src="../../../../_static/js/Searchbox.min.js"></script>
	<script type="text/javascript" src="../../../../_static/js/header-footer.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/css/common-ui-all.min.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/css/header-footer.min.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/css/pro.min.css" media="all" />
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" /> 
	</head>
	<body>
		<div class="xilinx-bs3"/>
		<div class="root responsivegrid">
			<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 aem-Grid--large--16 aem-Grid--xlarge--16 aem-Grid--xxlarge--16 aem-Grid--xxxlarge--16 ">
				<div class="xilinxExperienceFragments experiencefragment aem-GridColumn aem-GridColumn--default--12">
					<div class="xf-content-height">
						<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
							<div class="header parbase aem-GridColumn aem-GridColumn--default--12">
								<noindex>
									<header data-component="header">
										<nav class="navbar navbar-default aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid main-nav">
													<div class="row">
														<div class="col-xs-12">
															<div class="logo-column">
																<div class="logo">
																	<a href="https://www.xilinx.com/">
																	<img src="https://github.com/Xilinx/Image-Collateral/blob/main/xilinx-header-logo.svg?raw=true" title="Xilinx Inc"/>
																	</a>
																</div>
															</div>
															<div class="navbar-column">
																<div class="navbar navbar-collapse collapse" id="xilinx-main-menu">
																	<div class="mobile-search-container">
																		<div id="headerSearchBox" class="headerSearch"
																			data-component="header-search"
																			data-redirect-if-empty="false"
																			data-coveo-access-token="xxa237d4dd-f0aa-47fc-9baa-af9121851b33"
																			data-coveo-organization-id="xilinxcomprode2rjoqok">
																			<div class='coveo-search-section'>
																				<div class="CoveoAnalytics" data-search-hub="Site"></div>
																				<ul class="dropdown-menu options">
																					<li class="option" data-label="All" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-search-hub="Site">
																						<a href="#">
																						All</a>
																					</li>
																					<li data-label="Silicon Devices" data-action-link="https://www.xilinx.com//products/silicon-devices/si-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Silicon Devices</a>
																					</li>
																					<li data-label="Boards and Kits" data-action-link="https://www.xilinx.com//products/boards-and-kits/bk-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Boards and Kits</a>
																					</li>
																					<li data-label="Intellectual Property" data-action-link="https://www.xilinx.com//products/intellectual-property/ip-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Intellectual Property</a>
																					</li>
																					<li data-label="Support" class="option" data-action-link="https://www.xilinx.com/search/support-keyword-search.html" data-search-hub="Support">
																						<a href="#">
																						Support</a>
																						<ul>
																							<li data-label="Documentation" data-action-link="https://www.xilinx.com//support/documentation-navigation/documentation-keyword-search.html" data-search-hub="Document">
																								<a href="#">
																								Documentation</a>
																							</li>
																							<li data-label="Knowledge Base" data-action-link="https://www.xilinx.com//support/answer-navigation/answer-keyword-search.html" data-search-hub="AnswerRecord">
																								<a href="#">
																								Knowledge Base</a>
																							</li>
																							<li data-label="Community Forums" data-action-link="https://www.xilinx.com/search/forums-keyword-search.html" data-search-hub="Forums">
																								<a href="#">
																								Community Forums</a>
																							</li>
																						</ul>
																					</li>
																					<li data-label="Partners" data-action-link="https://www.xilinx.com//alliance/member-keyword-search.html" data-search-hub="Partner">
																						<a href="#">
																						Partners</a>
																					</li>
																					<li data-label="Videos" data-action-link="https://www.xilinx.com/video/video-keyword-search.html" data-search-hub="Video">
																						<a href="#">
																						Videos</a>
																					</li>
																					<li data-label="Press" data-action-link="https://www.xilinx.com/search/press-keyword-search.html" data-search-hub="Press">
																						<a href="#">
																						Press</a>
																					</li>
																				</ul>
																				<a href="#" class="btn dropdown-toggle value" data-toggle="dropdown"></a>
																				<div class="CoveoSearchbox" data-id="coveosearchbox" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-placeholder="Search Xilinx"></div>
																			</div>
																		</div>
																	</div>
																	<ul class="nav navbar-nav nav-justified">
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/applications.html">
																			Applications</a>
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/products/silicon-devices.html">
																			Products</a>
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://developer.xilinx.com/">
																			Developers</a>
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/support.html">
																			Support</a>
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/about/company-overview.html">
																			About</a>
																		</li>
																	</ul>
																</div>
															</div>
															<script type="text/javascript" src="../../../../_static/js/gtm.js"></script>
															<!--<div class="mini-nav">
																<button type="button" data-function="xilinx-mobile-menu" id="nav-toggle" class="navbar-toggle collapsed visible-xs-block" aria-expanded="false">
																<span></span>
																<span></span>
																<span></span>
																<span></span>
																</button>
																<ul class="list-inline">
																	<li class="dropdown user-menu">
																		<button data-toggle="dropdown">
																		<span class="sr-only">Account</span>
																		<span class="fas fa-user"></span>
																		</button>
																		<ul class="dropdown-menu">
																			<li>
																				<a href="https://www.xilinx.com/myprofile/subscriptions.html">
																				My Account</a>
																			</li>
																			<li>
																				<a href="https://www.xilinx.com/registration/create-account.html">
																				Create Account</a>
																			</li>
																			<li>
																				<a href="https://www.xilinx.com/bin/protected/en/signout">
																				Sign Out</a>
																			</li>
																		</ul>
																	</li>
																	<li class="hidden-xs">
																		<button data-function="search-toggle">
																		<span class="sr-only">Search</span>
																		<span class="far fa-search"></span>
																		</button>
																	</li>
																</ul>
															</div>
															-->
															<div class="search-container">
																<div id="headerSearchBox" class="headerSearch"
																	data-component="header-search"
																	data-redirect-if-empty="false"
																	data-coveo-access-token="xxa237d4dd-f0aa-47fc-9baa-af9121851b33"
																	data-coveo-organization-id="xilinxcomprode2rjoqok">
																	<div class='coveo-search-section'>
																		<div class="CoveoAnalytics" data-search-hub="Site"></div>
																		<ul class="dropdown-menu options">
																			<li class="option" data-label="All" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-search-hub="Site">
																				<a href="#">
																				All</a>
																			</li>
																			<li data-label="Silicon Devices" data-action-link="https://www.xilinx.com/products/silicon-devices/si-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Silicon Devices</a>
																			</li>
																			<li data-label="Boards and Kits" data-action-link="https://www.xilinx.com/products/boards-and-kits/bk-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Boards and Kits</a>
																			</li>
																			<li data-label="Intellectual Property" data-action-link="https://www.xilinx.com/products/intellectual-property/ip-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Intellectual Property</a>
																			</li>
																			<li data-label="Support" class="option" data-action-link="https://www.xilinx.com/search/support-keyword-search.html" data-search-hub="Support">
																				<a href="#">
																				Support</a>
																				<ul>
																					<li data-label="Documentation" data-action-link="https://www.xilinx.com/support/documentation-navigation/documentation-keyword-search.html" data-search-hub="Document">
																						<a href="#">
																						Documentation</a>
																					</li>
																					<li data-label="Knowledge Base" data-action-link="https://www.xilinx.com/support/answer-navigation/answer-keyword-search.html" data-search-hub="AnswerRecord">
																						<a href="#">
																						Knowledge Base</a>
																					</li>
																					<li data-label="Community Forums" data-action-link="https://www.xilinx.com/search/forums-keyword-search.html" data-search-hub="Forums">
																						<a href="#">
																						Community Forums</a>
																					</li>
																				</ul>
																			</li>
																			<li data-label="Partners" data-action-link="https://www.xilinx.com/alliance/member-keyword-search.html" data-search-hub="Partner">
																				<a href="#">
																				Partners</a>
																			</li>
																			<li data-label="Videos" data-action-link="https://www.xilinx.com/video/video-keyword-search.html" data-search-hub="Video">
																				<a href="#">
																				Videos</a>
																			</li>
																			<li data-label="Press" data-action-link="https://www.xilinx.com/search/press-keyword-search.html" data-search-hub="Press">
																				<a href="#">
																				Press</a>
																			</li>
																		</ul>
																		<a href="#" class="btn dropdown-toggle value" data-toggle="dropdown"></a>
																		<div class="CoveoSearchbox" data-id="coveosearchbox" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-placeholder="Search Xilinx"></div>
																	</div>
																</div>
																<button data-function="search-toggle">
																<span class="sr-only">Search</span>
																<span class="far fa-times"></span>
																</button>
															</div>
														</div>
													</div>
												</div>
											</div>
										</nav>
									</header>
								</noindex>
							</div>
						</div>
					</div>
				</div>
				<div class="parsys aem-GridColumn--xxxlarge--none aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
						<div class="container-fluid">
							<div class="row">
							<div class="col-xs-12">
   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../../index.html" class="icon icon-home" alt="Documentation Home"> Vitis™ Tutorials
          

          
          </a>

          
            
            
              <div class="version">
                2021.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

      
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
            
            
            
              
            
            
              <p class="caption"><span class="caption-text">日本語版</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Vitis-Tutorials/master/docs-jp/index.html">Master</a></li>
</ul>
<p class="caption"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../Getting_Started/Vitis-Getting-Started.html">Getting Started</a></li>
</ul>
<p class="caption"><span class="caption-text">Acceleration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../Hardware_Acceleration/Hardware-Acceleration.html">Hardware Acceleration</a></li>
</ul>
<p class="caption"><span class="caption-text">AI Engine</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../AI_Engine_Development.html">AI Engine Development</a></li>
</ul>
<p class="caption"><span class="caption-text">Platforms</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../Vitis_Platform_Creation/Vitis_Platform_Creation.html">Vitis Platform Creation</a></li>
</ul>
<p class="caption"><span class="caption-text">Other Versions</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Vitis-Tutorials/2021-1/build/html/index.html">2021.1</a></li>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Vitis-Tutorials/2020-2/docs/index.html">2020.2</a></li>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Vitis-Tutorials/2020-1/docs/README.html">2020.1</a></li>
</ul>

            
			
			<p class="caption"><span class="caption-text">This Page</span></p>
				<ul class="current">
				  <li class="toctree-l1"><a href="../../../../_sources/docs/AI_Engine_Development/Feature_Tutorials/09-debug-walkthrough/Debug5_bc.md.txt"
						rel="nofollow">Show Source</a></li>
				</ul>
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">Vitis™ Tutorials</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>xbutil</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../../_sources/docs/AI_Engine_Development/Feature_Tutorials/09-debug-walkthrough/Debug5_bc.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <table>
 <tr>
   <td align="center"><img src="https://www.xilinx.com/content/dam/xilinx/imgs/press/media-kits/corporate/xilinx-logo.png" width="30%"/><h1>AI Engine Debug Walkthrough Tutorial - From Simulation to Hardware</h1>
   </td>
 </tr>
 <tr>
 <td align="center"><h1>AI Engine/PL Kernel Debug with XRT Utilities</h1>
 </td>
 </tr>
</table><p><a class="reference external" href="#xbutil">xbutil</a></p>
<ul class="simple">
<li><p><a class="reference external" href="#xbutil-limitations">xbutil limitations</a></p></li>
</ul>
<p><a class="reference external" href="#XRT-error-codes">XRT error codes</a></p>
<ul class="simple">
<li><p><a class="reference external" href="#Asynchronous-error">Asynchronous error</a></p></li>
<li><p><a class="reference external" href="#Synchronous-error">Synchronous error</a></p></li>
</ul>
<div class="section" id="xbutil">
<h1>xbutil<a class="headerlink" href="#xbutil" title="Permalink to this headline">¶</a></h1>
<p>The utility, <code class="docutils literal notranslate"><span class="pre">xbutil</span></code> is supported for PL/AI Engine kernels debug. It provides information for PL/AI Engine kernels.</p>
<p>To use the tools, binary container, for example, xclbin is required to be loaded first then issue commands to obtain information from, or, configure the kernels.</p>
<p>Command examples are as follows:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>xbutil program -d <span class="m">0000</span>:00:00.0 -u a.xclbin
xbutil examine -d <span class="m">0000</span>:00:00.0 -r aie
</pre></div>
</div>
<p>Step 1: Load binary container</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>xbutil program -d <span class="m">0000</span>:00:00.0 -u a.xclbin
</pre></div>
</div>
<img src="images/bc_run.png" width="600"><p>Step 2: Get detailed status information for the device. Where TYPE can be aie, aieshim, all, debug-ip-status, dynamic-regions, error, host, memory, pcie-info, platform.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>xbutil examine -d <span class="m">0000</span>:00:00.0 -r TYPE
</pre></div>
</div>
<p>A help string is provided by xbutil.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@versal-rootfs-common-2021_2:/mnt/sd-mmcblk0p1# xbutil examine --help

DESCRIPTION: This <span class="nb">command</span> will <span class="s1">&#39;examine&#39;</span> the state of the system/device and will generate a report
             of interest <span class="k">in</span> a text or JSON format.

USAGE: xbutil examine <span class="o">[</span>-h<span class="o">]</span> <span class="o">[</span>-d arg<span class="o">]</span> <span class="o">[</span>-r arg<span class="o">]</span> <span class="o">[</span>-f arg<span class="o">]</span> <span class="o">[</span>-o arg<span class="o">]</span>

OPTIONS:
  -d, --device       - The Bus:Device.Function <span class="o">(</span>e.g., <span class="m">0000</span>:d8:00.0<span class="o">)</span> device of interest.
  -r, --report       - The <span class="nb">type</span> of report to be produced. Reports currently available are:
                         aie             - AIE metadata <span class="k">in</span> xclbin
                         aieshim         - AIE shim tile status
                         all             - All known reports are produced
                         debug-ip-status - Status of Debug IPs present <span class="k">in</span> xclbin loaded on device
                         dynamic-regions - Information about the xclbin and the compute units
                         error           - Asyncronus Error present on the device
                         host            - Host information
                         memory          - Memory information present on the device
                         pcie-info       - Pcie information of the device
                         platform        - Platforms flashed on the device
  -f, --format       - Report output format. Valid values are:
                         JSON        - Latest JSON schema
                         JSON-2020.2 - JSON <span class="m">2020</span>.2 schema
  -o, --output       - Direct the output to the given file
  -h, --help         - Help to use this sub-command

GLOBAL OPTIONS:
  --verbose          - Turn on verbosity
  --batch            - Enable batch mode <span class="o">(</span>disables escape characters<span class="o">)</span>
  --force            - When possible, force an operation
</pre></div>
</div>
<p>The following images show a few examples:</p>
<img src="images/bc_run2.png" width="600">
<img src="images/bc_run3.png" width="600">
<img src="images/bc_run3_1.png" width="600"><p>Note for <code class="docutils literal notranslate"><span class="pre">xbutil</span> <span class="pre">examine</span> <span class="pre">-d</span> <span class="pre">0000:00:00.0</span> <span class="pre">-r</span> <span class="pre">aie</span></code> command</p>
<ol class="simple">
<li><p>The “iteration memory address” is the core status register raw value of each tile.</p></li>
<li><p>Each tile’s information such as program counter values, stack pointer are provided.</p></li>
<li><p>MM2S and S2MM states are available.</p></li>
</ol>
<div class="section" id="xbutil-limitations">
<h2>xbutil Limitations<a class="headerlink" href="#xbutil-limitations" title="Permalink to this headline">¶</a></h2>
<ol class="simple">
<li><p>Commands not applicable to the VCK190 platform:</p></li>
</ol>
<ul class="simple">
<li><p>validate: This command is for DFX base platform.</p></li>
<li><p>reset: Requires clearer definitions for VCK190 platforms. For example, reset command to PS/PL/AI Engine are under review.</p></li>
<li><p>top: A useful command, however, subcommands/options are being determined.</p></li>
</ul>
<ol class="simple">
<li><p>Utility could show false errors that are no harm to prior-loaded xclbin.</p></li>
</ol>
</div>
</div>
<div class="section" id="xrt-error-codes">
<h1>XRT Error Codes<a class="headerlink" href="#xrt-error-codes" title="Permalink to this headline">¶</a></h1>
<div class="section" id="asynchronous-error">
<h2>Asynchronous Error<a class="headerlink" href="#asynchronous-error" title="Permalink to this headline">¶</a></h2>
<p>An error that occurs asynchronously. It may or may not be related to the XRT function call or the application which is running.</p>
<div class="section" id="report-mechanism-with-xrt-apis">
<h3>Report Mechanism with XRT APIs<a class="headerlink" href="#report-mechanism-with-xrt-apis" title="Permalink to this headline">¶</a></h3>
<p>Asynchronous errors are cached in driver subsystems and can be accessed by user application through APIs.
Asynchronous errors retrieved from the driver are encoded errors defined in <code class="docutils literal notranslate"><span class="pre">xrt_error_code.h</span></code> which is shared between user space and kernel space.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>xrt_error_code.h
/**
 * xrtErrorCode layout
 *
 * This layout is internal to XRT <span class="o">(</span>akin to a POSIX error code<span class="o">)</span>,
 * it is populated by driver and consumed by XRT implementation where
 * it is translated into an actual error / info / warning that is propagated
 * to the end user.
 *
 * <span class="m">63</span> - <span class="m">48</span>  <span class="m">47</span> - <span class="m">40</span>   <span class="m">39</span> - <span class="m">32</span>   <span class="m">31</span> - <span class="m">24</span>   <span class="m">16</span> - <span class="m">23</span>    <span class="m">15</span> - <span class="m">0</span>
 * --------------------------------------------------------
 * <span class="p">|</span>    <span class="p">|</span>    <span class="p">|</span>    <span class="p">|</span>    <span class="p">|</span>    <span class="p">|</span>    <span class="p">|</span>    <span class="p">|</span>    <span class="p">|</span>    <span class="p">|</span>    <span class="p">|</span>----<span class="p">|</span> xrtErrorNum
 * <span class="p">|</span>    <span class="p">|</span>    <span class="p">|</span>    <span class="p">|</span>    <span class="p">|</span>    <span class="p">|</span>    <span class="p">|</span>    <span class="p">|</span>    <span class="p">|</span>----<span class="p">|</span>---------- xrtErrorDriver
 * <span class="p">|</span>    <span class="p">|</span>    <span class="p">|</span>    <span class="p">|</span>    <span class="p">|</span>    <span class="p">|</span>    <span class="p">|</span>----<span class="p">|</span>-------------------- xrtErrorSeverity
 * <span class="p">|</span>    <span class="p">|</span>    <span class="p">|</span>    <span class="p">|</span>    <span class="p">|</span>----<span class="p">|</span>------------------------------ xrtErrorModule
 * <span class="p">|</span>    <span class="p">|</span>    <span class="p">|</span>----<span class="p">|</span>---------------------------------------- xrtErrorClass
 * <span class="p">|</span>----<span class="p">|</span>-------------------------------------------------- reserved
 */
typedef uint64_t xrtErrorCode<span class="p">;</span>
</pre></div>
</div>
<p>Error Code APIs:
The API header file <code class="docutils literal notranslate"><span class="pre">xrt_error.h</span></code> defines the APIs for accessing current cached errors.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>///// C APIs, will have simplified C++ equivalents.
/**
 * xrtErrorGetLast - Get the last error code and its timestamp of a given error class.
 *
 * @handle:       Device handle.
 * @class:        Error Class <span class="k">for</span> the last error to get.
 * @error:        Returned XRT error code.
 * @timestamp:    The timestamp when the error generated.
 *
 * Return:        <span class="m">0</span> on success or appropriate XRT error code.
 */
int
xrtErrorGetLast<span class="o">(</span>xclDeviceHandle handle, xrtErrorClass class, xrtErrorCode *error, uint64_t *timestamp<span class="o">)</span><span class="p">;</span>

/**
 * xrtErrorGetString - Get the description string of a given error code.
 *
 * @handle:       Device handle.
 * @error:        XRT error code.
 * @out:          Preallocated output buffer <span class="k">for</span> the error string.
 * @len:          Length of output buffer.
 * @out_len:      Optional output of length of message.
 *
 * Return:        <span class="m">0</span> on success or appropriate XRT error code.
 *
 * Specifying out_len <span class="k">while</span> passing nullptr <span class="k">for</span> output buffer will <span class="k">return</span> the message length,
 * which can <span class="k">then</span> be used to allocate the output buffer itself.
 */
int
xrtErrorGetString<span class="o">(</span>xclDeviceHandle handle, xrtErrorCode error, char* out, size_t len, size_t* <span class="nv">out_len</span><span class="o">=</span><span class="m">0</span><span class="o">)</span><span class="p">;</span>
</pre></div>
</div>
<p>Example using XRT APIs:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>xrtGraphHandle ghdl<span class="p">;</span>
<span class="nv">ghdl</span> <span class="o">=</span> xrtGraphOpen<span class="o">(</span>dhdl, top-&gt;m_header.uuid, <span class="s2">&quot;dut&quot;</span><span class="o">)</span><span class="p">;</span>
<span class="nv">rval</span> <span class="o">=</span> xrtGraphRun<span class="o">(</span>ghdl, <span class="m">100</span><span class="o">)</span><span class="p">;</span>
<span class="k">if</span> <span class="o">(</span>rval !<span class="o">=</span> <span class="m">0</span><span class="o">)</span>
<span class="o">{</span>   
    std::cout &lt;&lt; <span class="s2">&quot;RUN error = 0x%x\n&quot;</span> <span class="s">&lt;&lt; rval &lt;&lt; std::endl;</span>
<span class="s">}</span>
<span class="s">rval</span> <span class="o">=</span> xrtGraphWait<span class="o">(</span>ghdl, <span class="m">0</span><span class="o">)</span><span class="p">;</span>
<span class="k">if</span> <span class="o">(</span>rval !<span class="o">=</span> <span class="m">0</span><span class="o">)</span>
<span class="o">{</span>
    std::cout &lt;&lt; <span class="s2">&quot;WAIT error = 0x%x\n&quot;</span> <span class="s">&lt;&lt; rval &lt;&lt; std::endl;</span>

<span class="s">    if (rval</span> <span class="o">==</span> -ETIME<span class="o">)</span>
    <span class="o">{</span>
        /* <span class="nb">wait</span> <span class="k">for</span> Graph <span class="k">done</span> timeout */
        xrtErrorCode errCode<span class="p">;</span>
        uint64_t timestamp<span class="p">;</span>

        <span class="nv">rval</span> <span class="o">=</span> xrtErrorGetLast<span class="o">(</span>dhdl, XRT_ERROR_CLASS_AIE, <span class="p">&amp;</span>errCode, <span class="p">&amp;</span>timestamp<span class="o">)</span><span class="p">;</span>
        <span class="k">if</span> <span class="o">(</span><span class="nv">rval</span> <span class="o">==</span> <span class="m">0</span><span class="o">)</span>
        <span class="o">{</span>
            size_t len<span class="p">;</span>
            std::vector&lt;char&gt; buf<span class="o">(</span><span class="m">256</span><span class="o">)</span><span class="p">;</span>
            <span class="k">if</span> <span class="o">(</span>xrtErrorGetString<span class="o">(</span>dhdl, errCode, buf.data<span class="o">()</span>, buf.size<span class="o">()</span>, <span class="p">&amp;</span>len<span class="o">))</span>
            <span class="o">{</span>
                std::cout &lt;&lt; <span class="s2">&quot;xrtErrorGetString() error!&quot;</span> <span class="s">&lt;&lt; std::endl;</span>
<span class="s">            } else {</span>
<span class="s">                std</span>::cout <span class="s">&lt;&lt; buf.data() &lt;&lt; std::endl;</span>
<span class="s">            }</span>
<span class="s">        }</span>
<span class="s">    }</span>
<span class="s">}</span>

<span class="s">/* more code can b</span>e added here to check other error class */
</pre></div>
</div>
<p>Step 1: Replace <code class="docutils literal notranslate"><span class="pre">host.cpp</span></code> with <code class="docutils literal notranslate"><span class="pre">host.cpp.error_code</span></code> that is available from this tutorial.</p>
<p>Step 2: Compile the <code class="docutils literal notranslate"><span class="pre">host.cpp</span></code> code and package to <code class="docutils literal notranslate"><span class="pre">sd_card.img</span></code> by issuing the following commands.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cp <span class="si">${</span><span class="nv">PROJECT_PATH</span><span class="si">}</span>/sw/host.cpp.error_code <span class="si">${</span><span class="nv">PROJECT_PATH</span><span class="si">}</span>/sw/host.cpp
<span class="nb">cd</span> <span class="si">${</span><span class="nv">PROJECT_PATH</span><span class="si">}</span>
make host.exe
make package
</pre></div>
</div>
<p>Step 3: Burn the generated <code class="docutils literal notranslate"><span class="pre">sd_card.img</span></code> to the SD card, insert SD card into SD card slot of the VCK190 board and power up.</p>
<p>Step 4: After VCK190 is powered up and booted up complete, run the binaries.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> /mnt/sd-mmcblk0p1
./host.exe a.xclbin
</pre></div>
</div>
<p>Step 5: Expected result is as follows.</p>
<img src="images/bc_err0.png" width="600"></div>
<div class="section" id="report-mechanism-with-xbutil">
<h3>Report Mechanism with xbutil<a class="headerlink" href="#report-mechanism-with-xbutil" title="Permalink to this headline">¶</a></h3>
<p>Issue command <code class="docutils literal notranslate"><span class="pre">xbutil2</span> <span class="pre">examine</span> <span class="pre">--report</span> <span class="pre">error</span></code> or/and with formatted output <code class="docutils literal notranslate"><span class="pre">xbutil2</span> <span class="pre">examine</span> <span class="pre">--report</span> <span class="pre">error</span> <span class="pre">--format</span> <span class="pre">JSON-2020.2</span></code> to VCK190 console to get output from console.</p>
<img src="images/bc_err.png" width="600"></div>
</div>
<div class="section" id="synchronous-error">
<h2>Synchronous Error<a class="headerlink" href="#synchronous-error" title="Permalink to this headline">¶</a></h2>
<p>Synchronous errors are errors that can be detected during the XRT runtime function call.</p>
<div class="section" id="report-mechanism">
<h3>Report Mechanism<a class="headerlink" href="#report-mechanism" title="Permalink to this headline">¶</a></h3>
<ol class="simple">
<li><p>Return system error (POSIX) code from</p></li>
</ol>
<ul class="simple">
<li><p>Kernel driver IOCTL call.</p></li>
<li><p>System libraries including shim level library, for example, xrt_core, AI Engine driver, FPGA manager, etc.</p></li>
<li><p>On error, ioctl returns -1 and errno contains the system error code.</p></li>
</ul>
<ol class="simple">
<li><p>Translate returned POSIX error code into an XRT specific error which is returned to end user.</p></li>
</ol>
<ul class="simple">
<li><p>In C++ APIs the error is propagated as an xrt::error exception embedded with a description of the error and the XRT error.</p></li>
<li><p>In C APIs an exception message is printed and the XRT error code is returned to end-user.</p></li>
</ul>
<ol class="simple">
<li><p>The verbosity and target (display) of error reporting are following the message infrastructure already used.
For example:</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">rval</span> <span class="o">=</span> xclSyncBO<span class="o">(</span>devHandle, boHandle, XCL_BO_SYNC_BO_TO_DEVICE, size, offset<span class="o">)</span><span class="p">;</span>  // Syncronous error captured by xclSyncBO call
<span class="k">if</span> <span class="o">(</span>rval !<span class="o">=</span> <span class="m">0</span><span class="o">)</span> <span class="o">{</span>                                                                //    -EINVAL:     Invalid arguments, e.g. invalid sync  dir, invalid size or offset
    /* code to handle xclSyncBO fail */                                         //    -ENOENT:     No such file or directory, e.g.  invalid bo handle       
<span class="o">}</span>                                                                               //    -EOPNOTSUPP: Operation not supported, e.g. BO is  not syncable
                                                                                //    -EBUSY:      Device or resource busy, e.g. No  available DMA channel
                                                                                //    -ENOMEM:     Out of memory, e.g. No available free memory <span class="k">for</span> sync BO
                                                                                //    -EIO:        I/O error, e.g. DMA error
                                                                                // <span class="s2">&quot;dmesg&quot;</span> or look at system log file <span class="o">(</span>/var/log/syslog<span class="o">)</span>  might give you more information
</pre></div>
</div>
<p>Note: Supported error codes are listed in <a class="reference external" href="https://www.xilinx.com/member/versal_ai_core_docs_ea.html">UG1076 Versal ACAP AI Engine Programming Environment</a>.</p>
</div>
</div>
</div>
<div class="section" id="support">
<h1>Support<a class="headerlink" href="#support" title="Permalink to this headline">¶</a></h1>
<p>GitHub issues will be used for tracking requests and bugs. For questions go to <a class="reference external" href="https://support.xilinx.com/">support.xilinx.com</a>.</p>
</div>
<div class="section" id="license">
<h1>License<a class="headerlink" href="#license" title="Permalink to this headline">¶</a></h1>
<p>Licensed under the Apache License, Version 2.0 (the “License”);
you may not use this file except in compliance with the License.
You may obtain a copy of the License at</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">apache</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">licenses</span><span class="o">/</span><span class="n">LICENSE</span><span class="o">-</span><span class="mf">2.0</span>
</pre></div>
</div>
<p>Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an “AS IS” BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.</p>
<p align="center"><sup>XD005 | &copy; Copyright 2021 Xilinx, Inc.</sup></p></div>


           </div>
           
          </div>
          <footer>
<!-- Atalwar: Moved the footer code to layout.html to resolve conflict with the Xilinx template -->
</footer>

        </div>
      </div>


	  <!-- Sphinx Page Footer block -->
  

  <hr/>

  <div role="contentinfo" class="copyright">
    <p class="footerinfo">
      <span class="lastupdated">
        Last updated on January 18, 2022.
      </span>

    </p>
	<br>
  </div>
      </div>
    </section>


  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

   <script type="text/javascript">
    jQuery(function() { Search.loadIndex("searchindex.js"); });
  </script>

  <script type="text/javascript" id="searchindexloader"></script>


  
  
    
  



  <!--  Xilinx template footer block -->
							</div>
						</div>
					</div>
				</div>
				<div class="xilinxExperienceFragments experiencefragment aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
					<div class="xf-content-height">
						<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
							<div class="footer parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
								<noindex>
                  <!-- make footer fixed - NileshP -->
                  <style>
                        .footer {
                        position: fixed;
                        left: 0;
                        bottom: 0;
                        width: 100%;
                        }
                  </style>
                  <!-- make footer fixed NileshP-->
									<footer>
										<div class="aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid sub-footer">
													<div class="row">
														<div class="footerSocial parbase">
															<div class="col-md-push-6 col-lg-push-6 col-md-6 col-lg-6">
																<ul class="list-inline pull-right social-menu">
																	<li>
																		<a href="https://www.linkedin.com/company/xilinx">
																		<span class="linkedin icon"></span>
																		<span class="sr-only">Connect on LinkedIn</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.twitter.com/XilinxInc">
																		<span class="twitter icon"></span>
																		<span class="sr-only">Follow us on Twitter</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.facebook.com/XilinxInc">
																		<span class="facebook icon"></span>
																		<span class="sr-only">Connect on Facebook</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.youtube.com/XilinxInc">
																		<span class="youtube icon"></span>
																		<span class="sr-only">Watch us on YouTube</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.xilinx.com/registration/subscriber-signup.html">
																		<span class="newsletter icon"></span>
																		<span class="sr-only">Subscribe to Newsletter</span>
																		</a>
																	</li>
																</ul>
															</div>
														</div>
														<div class="col-md-pull-6 col-lg-pull-6 col-md-6 col-lg-6">
															<span class="copyright">
                                  
                                  &copy; 2019-2022, Xilinx, Inc.
                              </span>
															<ul class="list-inline sub-menu">
																<li>
																	<a href="https://www.xilinx.com/about/privacy-policy.html">Privacy</a>
																</li>
																<li>
																	<a href="https://www.xilinx.com/about/legal.html">Legal</a>
																</li>
																<li>
																	<a href="https://www.xilinx.com/about/contact.html">Contact</a>
																</li>
															</ul>
														</div>
													</div>
												</div>
											</div>
										</div>
									</footer>
								</noindex>
							</div>
						</div>
					</div>
				</div>
				<div class="quicklinks parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
					<noindex>
						<span class="quickLinks">
							<ul>
								<li>
									<a href="#top" class="btn backToTop">
									<span class="fas fa-angle-up" aria-hidden="true"></span>
									</a>
								</li>
							</ul>
						</span>
					</noindex>
				</div>
			</div>
		</div>
		<script>window.CQ = window.CQ || {}</script>
		<script src="https://static.cloud.coveo.com/searchui/v2.4382/js/CoveoJsSearch.Lazy.min.js"></script>
		<script>
			var underscoreSetup = function () {
			  _.templateSettings.interpolate = /\{\{=([^-][\S\s]+?)\}\}/g;
			  _.templateSettings.evaluate = /\{\{([^-=][\S\s]+?)\}\}/g;
			  _.templateSettings.escape = /\{\{-([^=][\S\s]+?)\}\}/g;
			}

			underscoreSetup();
		</script>
	</body>
</html>