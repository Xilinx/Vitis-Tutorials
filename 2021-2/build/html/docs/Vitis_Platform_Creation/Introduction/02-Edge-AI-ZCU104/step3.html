


<!DOCTYPE HTML>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
	<head>
		<meta charset="utf-8">
		
		<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
		<link rel="stylesheet" href="https://static.cloud.coveo.com/searchui/v2.4382/css/CoveoFullSearch.css"/>
		<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<meta name="description"/>
		<meta name="keywords"/>
		<meta property="og:title" content=""/>
		<meta property="og:description"/>
		<!-- favicon -->
		<link rel="icon" type="image/vnd.microsoft.icon" href="../../../../_static/favicon.ico"/>
		<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="../../../../_static/favicon.ico"/>
		<!-- Fonts -->
		<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet" type="text/css"/>

	
		<!-- Google Tag Manager -->
	<script type="text/plain" class="optanon-category-C0002">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
	new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-5RHQV7');</script>
	<!-- End Google Tag Manager -->
	
        <!-- Google Tag Manager -->
        <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5RHQV7" height="0" width="0" style="display:none;visibility:hidden" class="optanon-category-C0002"></iframe></noscript>
        <!-- End Google Tag Manager -->	

  
  
  
  

  
      <script type="text/javascript" src="../../../../_static/js/jquery.min.js"></script>
	  <script type="text/javascript" src="../../../../_static/js/gtm.js"></script>
  <script type="text/javascript" src="../../../../_static/js/modernizr.min.js"></script>
    <script type="text/javascript" src="../../../../_static/js/d3dd8c60ed.js"></script>
    <script type="text/javascript" src="../../../../_static/js/common-ui-all.min.js"></script>
    <script type="text/javascript" src="../../../../_static/js/jquery-ui.min.js"></script>
    <script type="text/javascript" src="../../../../_static/js/CoveoJsSearch.Lazy.min.js"></script>
    <script type="text/javascript" src="../../../../_static/js/linkid.js"></script>
    <script type="text/javascript" src="../../../../_static/js/Searchbox.min.js"></script>
    <script type="text/javascript" src="../../../../_static/js/header-footer.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/css/common-ui-all.min.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/css/header-footer.min.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/css/pro.min.css" media="all" />
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" /> 
	</head>
	<body>
		<div class="xilinx-bs3"/>
		<div class="root responsivegrid">
			<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 aem-Grid--large--16 aem-Grid--xlarge--16 aem-Grid--xxlarge--16 aem-Grid--xxxlarge--16 ">
 <div class="xilinxExperienceFragments experiencefragment aem-GridColumn aem-GridColumn--default--12">

    
    

    



<div class="xf-content-height">
    

<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
    
    <div class="header parbase aem-GridColumn aem-GridColumn--default--12"><noindex>
	<header data-component="header" class="site-header">
		<nav class="navbar navbar-default">
			<div class="container-fluid main-nav">
				<div class="row">
					<div class="navbar-column col-xs-4 col-sm-5">
						<ul class="nav navbar-nav hidden-xs">
							<li>
									<button onclick="window.location.href=&#39;https://www.xilinx.com/applications.html&#39;;">Solutions</button>
								</li>
							<li>
									<button onclick="window.location.href=&#39;https://www.xilinx.com/products/silicon-devices.html&#39;;">Products</button>
								</li>
							<li>
									<button onclick="window.location.href=&#39;https://www.xilinx.com/about/company-overview.html&#39;;">Company</button>
								</li>
							</ul>
							
						<ul class="nav navbar-nav hidden-sm hidden-md hidden-lg">
							<li>
									<button data-target="#header-container-0" data-function="toggle">Solutions</button>
								</li>
							<li>
									<button data-target="#header-container-1" data-function="toggle">Products</button>
								</li>
							<li>
									<button data-target="#header-container-2" data-function="toggle">Company</button>
								</li>
							</ul>
							
						<div id="header-container-0" class="menu-container">
								<div class="navbar-nav-container">
									<ul class="nav navbar-nav">
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/applications.html&#39;;">Solutions</button>
												</li>
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/products/silicon-devices.html&#39;;">Products</button>
												</li>
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/about/company-overview.html&#39;;">Company</button>
												</li>
										</ul>
									<button data-function="close-menu">
										<span class="fal fa-times" aria-hidden="true"></span>
									</button>
								</div>
							</div>
							<div id="header-container-1" class="menu-container">
								<div class="navbar-nav-container">
									<ul class="nav navbar-nav">
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/applications.html&#39;;">Solutions</button>
												</li>
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/products/silicon-devices.html&#39;;">Products</button>
												</li>
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/about/company-overview.html&#39;;">Company</button>
												</li>
										</ul>
									<button data-function="close-menu">
										<span class="fal fa-times" aria-hidden="true"></span>
									</button>
								</div>
							</div>
							<div id="header-container-2" class="menu-container">
								<div class="navbar-nav-container">
									<ul class="nav navbar-nav">
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/applications.html&#39;;">Solutions</button>
												</li>
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/products/silicon-devices.html&#39;;">Products</button>
												</li>
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/about/company-overview.html&#39;;">Company</button>
												</li>
										</ul>
									<button data-function="close-menu">
										<span class="fal fa-times" aria-hidden="true"></span>
									</button>
								</div>
							</div>
							</div>
					<div class="logo-column col-xs-4 col-sm-2">
						<div class="logo">
							<a target="_blank" href="https://www.xilinx.com/">
								<img src="https://github.com/Xilinx/Image-Collateral/blob/main/xilinx-header-logo.svg?raw=true" title="Xilinx Inc"/>
							</a>
						</div>
					</div>

				</div>
			</div>
			</nav></header></noindex></div>
		
	
</div>

    
</div>
</div>

<div class="calloutBanner parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16"><div class="callout-banner">
    Xilinx is now a part of <a target="_blank" href="https://www.amd.com/en/corporate/xilinx-acquisition">AMD</a> |  <a target="_blank" href="https://www.amd.com/en/corporate/privacy">Learn More</a>
</div>
</div>
				<div class="parsys aem-GridColumn--xxxlarge--none aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
						<div class="container-fluid">
							<div class="row">
							<div class="col-xs-12">
   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../../index.html" class="icon icon-home" alt="Documentation Home"> Vitis™ Tutorials
          

          
          </a>

          
            
            
              <div class="version">
                2021.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

      
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
            
            
            
              
            
            
              <p class="caption"><span class="caption-text">日本語版</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Vitis-Tutorials/master/docs-jp/index.html">Master</a></li>
</ul>
<p class="caption"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../Getting_Started/Vitis-Getting-Started.html">Getting Started</a></li>
</ul>
<p class="caption"><span class="caption-text">Acceleration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../Hardware_Acceleration/Hardware-Acceleration.html">Hardware Acceleration</a></li>
</ul>
<p class="caption"><span class="caption-text">AI Engine</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../AI_Engine_Development/AI_Engine_Development.html">AI Engine Development</a></li>
</ul>
<p class="caption"><span class="caption-text">Platforms</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Vitis_Platform_Creation.html">Vitis Platform Creation</a></li>
</ul>
<p class="caption"><span class="caption-text">Other Versions</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Vitis-Tutorials/2021-1/build/html/index.html">2021.1</a></li>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Vitis-Tutorials/2020-2/docs/index.html">2020.2</a></li>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Vitis-Tutorials/2020-1/docs/README.html">2020.1</a></li>
</ul>

            
			
			<p class="caption"><span class="caption-text">This Page</span></p>
				<ul class="current">
				  <li class="toctree-l1"><a href="../../../../_sources/docs/Vitis_Platform_Creation/Introduction/02-Edge-AI-ZCU104/step3.md.txt"
						rel="nofollow">Show Source</a></li>
				</ul>
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">Vitis™ Tutorials</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Step 3: Create the Vitis Platform</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../../_sources/docs/Vitis_Platform_Creation/Introduction/02-Edge-AI-ZCU104/step3.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <!--
# Copyright 2020 Xilinx Inc.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
--><div class="section" id="step-3-create-the-vitis-platform">
<h1>Step 3: Create the Vitis Platform<a class="headerlink" href="#step-3-create-the-vitis-platform" title="Permalink to this headline">¶</a></h1>
<div class="section" id="prepare-files-for-platform-packaging">
<h2>Prepare Files for Platform Packaging<a class="headerlink" href="#prepare-files-for-platform-packaging" title="Permalink to this headline">¶</a></h2>
<ol>
<li><p>We would store all the necessary files for Vitis platform creation flow. Here we name it <code class="docutils literal notranslate"><span class="pre">zcu104_custom_pkg</span> </code>. Then we create a <code class="docutils literal notranslate"><span class="pre">pfm</span></code> folder inside to hold platform creation source components.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mkdir</span> <span class="n">zcu104_custom_pkg</span>
<span class="n">cd</span> <span class="n">zcu104_custom_pkg</span>
<span class="n">mkdir</span> <span class="n">pfm</span>
</pre></div>
</div>
<p>After this step, your directory hierarchy looks like this.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">zcu104_custom_platform</span> <span class="c1"># Vivado Project Directory</span>
<span class="o">-</span> <span class="n">zcu104_custom_plnx</span>     <span class="c1"># PetaLinux Project Directory</span>
<span class="o">-</span> <span class="n">zcu104_custom_pkg</span>      <span class="c1"># Platform Packaging Directory</span>
  <span class="o">-</span> <span class="n">pfm</span>                  <span class="c1"># Platform Packaging Sources</span>
</pre></div>
</div>
</li>
<li><p>Install sysroot:</p>
<ul class="simple">
<li><p>Go to <PetaLinux Project>/images/linux directory.</p></li>
<li><p>Type <code class="docutils literal notranslate"><span class="pre">./sdk.sh</span> <span class="pre">-d</span> <span class="pre">&lt;Install</span> <span class="pre">Target</span> <span class="pre">Dir&gt;</span></code> to install PetaLinux SDK. use the <code class="docutils literal notranslate"><span class="pre">-d</span></code> option to provide a full pathname to the output directory <strong>zcu104_custom_pkg</strong> (This is an example ) and confirm.</p></li>
<li><p>Note: The environment variable <strong>LD_LIBRARY_PATH</strong> must not be set when running this command</p></li>
</ul>
<p>We would install Vitis AI library into this rootfs during test phase.</p>
</li>
<li><p>Create <code class="docutils literal notranslate"><span class="pre">boot</span></code> directory and <code class="docutils literal notranslate"><span class="pre">sd_dir</span></code> directory inside pfm directory</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> zcu104_custom_pkg/pfm
mkdir boot
mkdir sd_dir
</pre></div>
</div>
<p>After this step, your directory hierarchy looks like this.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">zcu104_custom_platform</span> <span class="c1"># Vivado Project Directory</span>
<span class="o">-</span> <span class="n">zcu104_custom_plnx</span>     <span class="c1"># PetaLinux Project Directory</span>
<span class="o">-</span> <span class="n">zcu104_custom_pkg</span>      <span class="c1"># Platform Packaging Directory</span>
  <span class="o">-</span> <span class="n">sysroots</span>             <span class="c1"># Extracted Sysroot Directory</span>
  <span class="o">-</span> <span class="n">pfm</span>                  <span class="c1"># Platform Packaging Sources</span>
    <span class="o">-</span> <span class="n">boot</span>               <span class="c1"># Platform boot components</span>
    <span class="o">-</span> <span class="n">sd_dir</span>             <span class="c1"># Files to be put in FAT32 partition of SD card</span>
</pre></div>
</div>
<p>When creating the Vitis platform, we will give boot directory for boot components and sd_dir for FAT32 partition contents in SD card.</p>
</li>
<li><p>Prepare for the boot components</p>
<p>Copy the generated Linux software boot components from <strong>&lt;your_petalinux_dir&gt;/images/linux directory</strong> to the <strong>&lt;full_pathname_to_zcu104_custom_pkg&gt;/pfm/boot</strong> directory to prepare for running the Vitis platform packaging flow:</p>
<ul class="simple">
<li><p>zynqmp_fsbl.elf</p></li>
<li><p>pmufw.elf</p></li>
<li><p>bl31.elf</p></li>
<li><p>u-boot-dtb.elf: rename to <strong>u-boot.elf</strong></p></li>
<li><p>system.dtb</p></li>
</ul>
<blockquote>
<div><p>Note: These files are the sources of creating BOOT.BIN, and will be used during emulation.</p>
</div></blockquote>
<blockquote>
<div><p>Note: The u-boot.elf generated by PetaLinux removed the device tree info from the elf from 2021.1. U-boot-dtb.elf is generated for compatible usages. To use the Vitis 2021.1 auto-generated BIF and <code class="docutils literal notranslate"><span class="pre">qemu_args.txt</span></code> files, that were created to simplify the platform creation process, we can rename u-boot-dtb.elf to u-boot.elf in boot directory. Thus u-boot can work properly in both hardware and emulation. In next release, Vitis auto-generated qemu_args.txt will update to use the u-boot.elf without dtb and the standalone system.dtb file for emulation.</p>
</div></blockquote>
</li>
<li><p>Prepare <strong>sd_dir</strong> directory. Contents in this directory will be packaged to FAT32 partition by v++ package tool.</p>
<ul class="simple">
<li><p>Copy the generated Linux software components from <strong>&lt;your_petalinux_dir&gt;/images/linux directory</strong> to the <strong>&lt;full_pathname_to_zcu104_custom_pkg&gt;/pfm/sd_dir</strong> directory.</p>
<ul>
<li><p>boot.scr: script for u-boot initialization.</p></li>
<li><p>system.dtb: the device tree blob that Linux reads during boot to understand system setup.</p></li>
</ul>
</li>
</ul>
</li>
</ol>
</div>
<div class="section" id="create-a-vitis-platform">
<h2>Create a Vitis Platform<a class="headerlink" href="#create-a-vitis-platform" title="Permalink to this headline">¶</a></h2>
<p>We can create a Vitis platform with Vitis IDE or with XSCT command line. Vitis IDE can create the platform if your design only contains one XSA. If your design has to XSA (hw and hw-emu), please use XSCT to create the platform.</p>
<details><summary><strong>Click here to expand the detailed steps using Vitis IDE to create a Vitis platform</strong></summary>  
First we create a Vitis platform project with the XSA file generated by Vivado from Step 1.<ol>
<li><p>Launch Vitis IDE</p>
<ul class="simple">
<li><p>Go to the <strong>zcu104_custom_pkg</strong> folder you created:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">&lt;</span><span class="n">full_pathname_to_zcu104_custom_pkg</span><span class="o">&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Launch Vitis by typing <code class="docutils literal notranslate"><span class="pre">vitis</span> <span class="pre">&amp;</span></code> in the console.</p></li>
<li><p>Select <strong>zcu104_custom_pkg</strong> folder as workspace directory.</p></li>
</ul>
</li>
<li><p>Create a new platform project</p>
<ul class="simple">
<li><p>Select menu <strong>File &gt; New &gt; Platform Project</strong> to create a platform project.</p></li>
<li><p>Enter the project name. For this example, type <code class="docutils literal notranslate"><span class="pre">zcu104_custom</span></code>. Click <strong>Next</strong>.</p></li>
<li><p>In the Platform page,</p>
<ul>
<li><p>Click <strong>Browse</strong> button, select the XSA file generated by the Vivado. In this case, it is <code class="docutils literal notranslate"><span class="pre">zcu104_custom_platform.xsa</span></code>.</p></li>
<li><p>Set the operating system to <strong>linux</strong>.</br></p></li>
<li><p>Set the processor to <strong>psu_cortexa53</strong>.</br></p></li>
<li><p>Architecture: <strong>64-bit</strong></br></p></li>
<li><p><strong>Uncheck</strong> option <strong>Generate boot components</strong>, because we’ll use PetaLinux generated boot components.</br></p></li>
<li><p>Click <strong>Finish</strong>.</p></li>
</ul>
</li>
</ul>
</li>
<li><p>Setup software settings in Platform Settings view.</p>
<ul>
<li><p>Click the <strong>linux on psu_cortexa53</strong> domain, browse to the locations and select the directory or file needed to complete the dialog box for the following:</p></li>
<li><p><strong>Bif file</strong>: Click the drop down icon and select <strong>Generate BIF</strong>.</p>
<blockquote>
<div><p>Note: The file names in <code class="docutils literal notranslate"><span class="pre">&lt;&gt;</span></code> are placeholders. Vitis will replace the placeholders with the relative path to platform during platform packaging. V++ packager, which runs when building the final application would expand it further to the full path during image packaging. Filename placeholders point to the files in boot components directory. The filenames in boot directory need to match with placeholders in BIF file. <code class="docutils literal notranslate"><span class="pre">&lt;bitstream&gt;</span></code> is a reserved keyword. V++ packager will replace it with the final system bit file.</p>
</div></blockquote>
</li>
<li><p><strong>Boot Components Directory</strong>: Browse to <strong>zcu104_custom_pkg/pfm/boot</strong> and click OK.</p></li>
<li><p><strong>FAT32 Partition Directory</strong>: Browse to <strong>zcu104_custom_pkg/pfm/sd_dir</strong> and click OK.</p></li>
</ul>
<p><img alt="vitis_linux_config.png" src="../../../../_images/vitis_linux_config1.png" /></p>
<p>Note: Starting from 2020.2, Vitis will setup default QEMU arguments to enable Vitis platform emulation. If there are additional QEMU settings, please write your own qemu_args.txt and set the file name in <strong>QEMU Arguments</strong> field.</p>
</li>
<li><p>Click <strong>zcu104_custom</strong> project in the Vitis Explorer view, click the <strong>Build</strong> button to generate the platform.</p>
<p><img alt="missing image" src="../../../../_images/build_vitis_platform1.png" /></p>
<p><strong>Note: The generated platform is placed in the export directory. BSP and source files are also provided for re-building the FSBL and PMU if desired and are associated with the platform. The platform is ready to be used for application development.</strong></p>
<p><img alt="missing image" src="../../../../_images/vitis_platform_output1.png" /></p>
<p>If you’d create an Vitis application in the same workspace as this platform, you can find this platform available in the platform selection page in platform creation wizard. If you’d like to reuse this platform in another workspace, add its path to PLATFORM_REPO_PATHS environment variable before launching Vitis GUI, or use “Add” button in platform selection page of Vitis GUI to add its path.</p>
</li>
</ol>
</details><details><summary><strong>Click here to expand the detailed steps using XSCT to create a Vitis platform</strong></summary>  <p>Create a tcl file with XSCT commands. For example, here is the main parts of <a class="reference external" href="./ref_files/step3_pfm/xsct_create_pfm.tcl">xsct_create_pfm.tcl</a></p>
<div class="highlight-Tcl notranslate"><div class="highlight"><pre><span></span># Create a platform project
platform create -name zcu104_custom_platform \
    -desc &quot;A custom platform ZCU104 platform&quot; \
    -hw &lt;Hardware&gt;.xsa \
    -hw_emu &lt;Hardware_Emulation&gt;.xsa \
    -out &lt;Output_Directory&gt; \
    -no-boot-bsp 

# If you don&#39;t need to support hardware emulation, you can omit the option -hw_emu and its value.

# Add Linux domain
domain create -name xrt -proc psu_cortexa53 -os linux -arch {64-bit} -runtime {ocl} -sd-dir {./sd_dir}  -bootmode {sd}
domain config -boot {./boot}
domain config -generate-bif
domain config -qemu-data ./boot

platform write
platform generate
</pre></div>
</div>
<blockquote>
<div><p>Note: Please replace the file name and directory name in the script with your project file location.</p>
</div></blockquote>
<blockquote>
<div><p>Note: If you don’t need to support hardware emulation, you can omit the option <code class="docutils literal notranslate"><span class="pre">-hw_emu</span></code> and its value for the command <code class="docutils literal notranslate"><span class="pre">platform</span> <span class="pre">create</span></code>.</p>
</div></blockquote>
<p>The <code class="docutils literal notranslate"><span class="pre">platform</span> <span class="pre">create</span></code> command needs the following input values:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">-name</span></code>: Platform name</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-hw</span></code>: Hardware XSA file location</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-hw_emu</span></code>: Hardware emulation XSA file location</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-out</span></code>: platform output path</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-sd-dir</span></code>: the directory that contains the files to be included in the FAT32 partition of the SD card image.</p></li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">domain</span></code> command will setup the Linux domain with SD boot mode. It will use files in <code class="docutils literal notranslate"><span class="pre">./sd_dir</span></code> to form the FAT32 partition of the SD card image and files in <code class="docutils literal notranslate"><span class="pre">./boot</span></code> directory to genreate boot.bin.</p>
<p>You can pass the values to the script directly by replacing the variable with the actual value, or define them in the header of the tcl script, or pass the value to XSCT when calling this script.</p>
<p>Here’s an example of calling XSCT if you hard code all contents in xsct_create_pfm.tcl.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>xsct xsct_create_pfm.tcl
</pre></div>
</div>
<p>To support better generalization, the example <a class="reference external" href="./ref_files/step3_pfm/Makefile">Makefile</a> and <a class="reference external" href="./ref_files/step3_pfm/xsct_create_pfm.tcl">xsct_create_pfm.tcl</a> in ref_files directory use variables to represent the file names and directory location. Please refer to them if you would like to get more programability in your scripts.</p>
</details></div>
<div class="section" id="fast-track">
<h2>Fast Track<a class="headerlink" href="#fast-track" title="Permalink to this headline">¶</a></h2>
<p>Scripts are provided to create the Vitis platform. To use these scripts, please run the following steps.</p>
<ol>
<li><p>Run build</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># cd to the step directory, e.g.</span>
<span class="n">cd</span> <span class="n">step3_pfm</span>
<span class="n">make</span> <span class="nb">all</span>
</pre></div>
</div>
</li>
<li><p>To clean the generated files, please run</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make clean
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="next-step">
<h2>Next Step<a class="headerlink" href="#next-step" title="Permalink to this headline">¶</a></h2>
<p>Next let’s try to <a class="reference internal" href="step4.html"><span class="doc">build some applications on this platform and test them.</span></a></p>
<p align="center"><sup>Copyright&copy; 2021 Xilinx</sup></p></div>
</div>


           </div>
           
          </div>
          <footer>
<!-- Atalwar: Moved the footer code to layout.html to resolve conflict with the Xilinx template -->
</footer>

        </div>
      </div>


	  <!-- Sphinx Page Footer block -->
  

  <hr/>

  <div role="contentinfo" class="copyright">
    <p class="footerinfo">
      <span class="lastupdated">
        Last updated on February 10, 2022.
      </span>

    </p>
	<br>
  </div>
      </div>
    </section>


  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

   <script type="text/javascript">
    jQuery(function() { Search.loadIndex("searchindex.js"); });
  </script>

  <script type="text/javascript" id="searchindexloader"></script>


  
  
    
  



  <!--  Xilinx template footer block -->
							</div>
						</div>
					</div>
				</div>
				<div class="xilinxExperienceFragments experiencefragment aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
					<div class="xf-content-height">
						<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
							<div class="footer parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
								<noindex>
                  <!-- make footer fixed - NileshP -->
                  <style>
                        .footer {
                        position: fixed;
                        left: 0;
                        bottom: 0;
                        width: 100%;
                        }
                  </style>
                  <!-- make footer fixed NileshP-->
									<footer>
										<div class="aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid sub-footer">
													<div class="row">
														<div class="footerSocial parbase">
														
															<div class="col-md-push-6 col-lg-push-6 col-md-6 col-lg-6">
																<div class="lang-select dropup hidden-md hidden-lg">
		<button data-toggle="dropdown">
			<span class="fas fa-globe" aria-hidden="true"></span>
			<span>
				
					English
				</span>
		<span class="far fa-angle-down" aria-hidden="true"></span>
	</button>
	<ul class="dropdown-menu">
		<li>
				<a target="_blank" href="https://japan.xilinx.com/" target="_self">
					日本語
				</a>
			</li>
		<li>
				<a target="_blank" href="https://china.xilinx.com/" target="_self">
					简体中文
				</a>
			</li>
		</ul>
	</div>
																<ul class="list-inline pull-right social-menu">
																	<li>
																		<a target="_blank" href="https://www.linkedin.com/company/xilinx">
																		<span class="linkedin icon"></span>
																		<span class="sr-only">Connect on LinkedIn</span>
																		</a>
																	</li>
																	<li>
																		<a target="_blank" href="https://www.twitter.com/XilinxInc">
																		<span class="twitter icon"></span>
																		<span class="sr-only">Follow us on Twitter</span>
																		</a>
																	</li>
																	<li>
																		<a target="_blank" href="https://www.facebook.com/XilinxInc">
																		<span class="facebook icon"></span>
																		<span class="sr-only">Connect on Facebook</span>
																		</a>
																	</li>
																	<li>
																		<a target="_blank" href="https://www.youtube.com/XilinxInc">
																		<span class="youtube icon"></span>
																		<span class="sr-only">Watch us on YouTube</span>
																		</a>
																	</li>
																	<li>
																		<a target="_blank" href="https://www.xilinx.com/registration/subscriber-signup.html">
																		<span class="newsletter icon"></span>
																		<span class="sr-only">Subscribe to Newsletter</span>
																		</a>
																	</li>
																</ul>
																	<div class="lang-select dropup hidden-xs hidden-sm">
	<button data-toggle="dropdown">
		<span class="fas fa-globe" aria-hidden="true"></span>
		<span>
			
				English
			</span>
		<span class="far fa-angle-down" aria-hidden="true"></span>
	</button>
	<ul class="dropdown-menu">
		<li>
				<a target="_blank" href="https://japan.xilinx.com/" target="_self">
					日本語
				</a>
			</li>
		<li>
				<a target="_blank" href="https://china.xilinx.com/" target="_self">
					简体中文
				</a>
			</li>
		</ul>
	</div>
															</div>
														</div>
														<div class="col-md-pull-5 col-lg-pull-5 col-md-5 col-lg-5">
															<span class="copyright">©2022 Advanced Micro Devices, Inc</span>
														</div>

													</div>
													                    <div class="movethisrowtoleft row">
                        <div class="col-xs-24">
                            <ul class="sub-menu">
                                <li><a target="_blank" href="https://www.amd.com/en/corporate/copyright">Terms and Conditions</a></li>
                                <li><a target="_blank" href="https://www.amd.com/en/corporate/privacy">Privacy</a></li>
                                <li><a target="_blank" href="https://www.amd.com/en/corporate/cookies">Cookie Policy</a></li>
                                <li><a target="_blank" href="https://www.amd.com/en/corporate/trademarks">Trademarks</a></li>
                                <li><a target="_blank" href="https://www.amd.com/system/files/documents/statement-human-trafficking-forced-labor.pdf">Statement on Forced Labor</a></li>
                                <li><a target="_blank" href="https://www.amd.com/en/corporate/competition">Fair and Open Competition</a></li>
                                <li><a target="_blank" href="https://www.amd.com/system/files/documents/amd-uk-tax-strategy.pdf">UK Tax Strategy</a></li>
								<li><a target="_blank" href="https://docs.xilinx.com/v/u/9x6YvZKuWyhJId7y7RQQKA">Inclusive Terminology</a></li>
                                <li><a href="#cookiessettings" class="ot-sdk-show-settings">Cookies Settings</a></li>
                            </ul>
                        </div>
                    </div>
												</div>
											</div>
										</div>
									</footer>
								</noindex>
							</div>
						</div>
					</div>
				</div>
<div class="backToTop parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16"><noindex>
    <span data-component="backToTopButton" class="backToTopButton loaded">
        <ul>
            <li>
                <a href="https://www.author.xilinx.com/xx/rebrand/amd/en-amd-xilinx-header-footer.html#top" class="btn top">
                    <span class="fas fa-angle-up" aria-hidden="true"></span>
                </a>
            </li>
        </ul>
    </span>
</noindex></div>
			</div>
		</div>


		<script>window.CQ = window.CQ || {}</script>
		<script src="https://static.cloud.coveo.com/searchui/v2.4382/js/CoveoJsSearch.Lazy.min.js"></script>
		<script>
			var underscoreSetup = function () {
			  _.templateSettings.interpolate = /\{\{=([^-][\S\s]+?)\}\}/g;
			  _.templateSettings.evaluate = /\{\{([^-=][\S\s]+?)\}\}/g;
			  _.templateSettings.escape = /\{\{-([^=][\S\s]+?)\}\}/g;
			}

			underscoreSetup();
		</script>
	</body>
</html>