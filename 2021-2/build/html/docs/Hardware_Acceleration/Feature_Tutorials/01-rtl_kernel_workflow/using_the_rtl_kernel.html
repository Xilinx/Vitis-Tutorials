


<!DOCTYPE HTML>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
	<head>
		<meta charset="utf-8">
		
		<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
		<link rel="stylesheet" href="https://static.cloud.coveo.com/searchui/v2.4382/css/CoveoFullSearch.css"/>
		<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<meta name="description"/>
		<meta name="keywords"/>
		<meta property="og:title" content=""/>
		<meta property="og:description"/>
		<!-- favicon -->
		<link rel="icon" type="image/vnd.microsoft.icon" href="../../../../_static/favicon.ico"/>
		<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="../../../../_static/favicon.ico"/>
		<!-- Fonts -->
		<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet" type="text/css"/>

  
  
  
  

  
      <script type="text/javascript" src="../../../../_static/js/jquery.min.js"></script>
	  <script type="text/javascript" src="../../../../_static/js/gtm.js"></script>
  <script type="text/javascript" src="../../../../_static/js/modernizr.min.js"></script>
    <script type="text/javascript" src="../../../../_static/js/d3dd8c60ed.js"></script>
    <script type="text/javascript" src="../../../../_static/js/common-ui-all.min.js"></script>
    <script type="text/javascript" src="../../../../_static/js/jquery-ui.min.js"></script>
    <script type="text/javascript" src="../../../../_static/js/CoveoJsSearch.Lazy.min.js"></script>
    <script type="text/javascript" src="../../../../_static/js/linkid.js"></script>
	    <script type="text/javascript" src="../../../../_static/js/header-footer.min.js"></script>
    <script type="text/javascript" src="../../../../_static/js/Searchbox.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/css/common-ui-all.min.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/css/header-footer.min.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/css/pro.min.css" media="all" />
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" /> 
	</head>
	<body>
		<div class="xilinx-bs3"/>
		<div class="root responsivegrid">
			<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 aem-Grid--large--16 aem-Grid--xlarge--16 aem-Grid--xxlarge--16 aem-Grid--xxxlarge--16 ">
				<div class="xilinxExperienceFragments experiencefragment aem-GridColumn aem-GridColumn--default--12">
					<div class="xf-content-height">
						<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
							<div class="header parbase aem-GridColumn aem-GridColumn--default--12">
								<noindex>
									<header data-component="header">
										<nav class="navbar navbar-default aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid main-nav">
													<div class="row">
														<div class="col-xs-12">
															<div class="logo-column">
																<div class="logo">
																	<a href="https://www.xilinx.com/">
																	<img src="https://github.com/Xilinx/Image-Collateral/blob/main/xilinx-header-logo.svg?raw=true" title="Xilinx Inc"/>
																	</a>
																</div>
															</div>
															<div class="navbar-column">
																<div class="navbar navbar-collapse collapse" id="xilinx-main-menu">
																	<div class="mobile-search-container">
																		<div id="headerSearchBox" class="headerSearch"
																			data-component="header-search"
																			data-redirect-if-empty="false"
																			data-coveo-access-token="xxa237d4dd-f0aa-47fc-9baa-af9121851b33"
																			data-coveo-organization-id="xilinxcomprode2rjoqok">
																			<div class='coveo-search-section'>
																				<div class="CoveoAnalytics" data-search-hub="Site"></div>
																				<ul class="dropdown-menu options">
																					<li class="option" data-label="All" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-search-hub="Site">
																						<a href="#">
																						All</a>
																					</li>
																					<li data-label="Silicon Devices" data-action-link="https://www.xilinx.com//products/silicon-devices/si-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Silicon Devices</a>
																					</li>
																					<li data-label="Boards and Kits" data-action-link="https://www.xilinx.com//products/boards-and-kits/bk-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Boards and Kits</a>
																					</li>
																					<li data-label="Intellectual Property" data-action-link="https://www.xilinx.com//products/intellectual-property/ip-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Intellectual Property</a>
																					</li>
																					<li data-label="Support" class="option" data-action-link="https://www.xilinx.com/search/support-keyword-search.html" data-search-hub="Support">
																						<a href="#">
																						Support</a>
																						<ul>
																							<li data-label="Documentation" data-action-link="https://www.xilinx.com//support/documentation-navigation/documentation-keyword-search.html" data-search-hub="Document">
																								<a href="#">
																								Documentation</a>
																							</li>
																							<li data-label="Knowledge Base" data-action-link="https://www.xilinx.com//support/answer-navigation/answer-keyword-search.html" data-search-hub="AnswerRecord">
																								<a href="#">
																								Knowledge Base</a>
																							</li>
																							<li data-label="Community Forums" data-action-link="https://www.xilinx.com/search/forums-keyword-search.html" data-search-hub="Forums">
																								<a href="#">
																								Community Forums</a>
																							</li>
																						</ul>
																					</li>
																					<li data-label="Partners" data-action-link="https://www.xilinx.com//alliance/member-keyword-search.html" data-search-hub="Partner">
																						<a href="#">
																						Partners</a>
																					</li>
																					<li data-label="Videos" data-action-link="https://www.xilinx.com/video/video-keyword-search.html" data-search-hub="Video">
																						<a href="#">
																						Videos</a>
																					</li>
																					<li data-label="Press" data-action-link="https://www.xilinx.com/search/press-keyword-search.html" data-search-hub="Press">
																						<a href="#">
																						Press</a>
																					</li>
																				</ul>
																				<a href="#" class="btn dropdown-toggle value" data-toggle="dropdown"></a>
																				<div class="CoveoSearchbox" data-id="coveosearchbox" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-placeholder="Search Xilinx"></div>
																			</div>
																		</div>
																	</div>
																	<ul class="nav navbar-nav nav-justified">
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/applications.html">
																			Applications</a>
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/products/silicon-devices.html">
																			Products</a>
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://developer.xilinx.com/">
																			Developers</a>
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/support.html">
																			Support</a>
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/about/company-overview.html">
																			About</a>
																		</li>
																	</ul>
																</div>
															</div>
															<script type="text/javascript" src="../../../../_static/js/gtm.js"></script>
															<!--<div class="mini-nav">
																<button type="button" data-function="xilinx-mobile-menu" id="nav-toggle" class="navbar-toggle collapsed visible-xs-block" aria-expanded="false">
																<span></span>
																<span></span>
																<span></span>
																<span></span>
																</button>
																<ul class="list-inline">
																	<li class="dropdown user-menu">
																		<button data-toggle="dropdown">
																		<span class="sr-only">Account</span>
																		<span class="fas fa-user"></span>
																		</button>
																		<ul class="dropdown-menu">
																			<li>
																				<a href="https://www.xilinx.com/myprofile/subscriptions.html">
																				My Account</a>
																			</li>
																			<li>
																				<a href="https://www.xilinx.com/registration/create-account.html">
																				Create Account</a>
																			</li>
																			<li>
																				<a href="https://www.xilinx.com/bin/protected/en/signout">
																				Sign Out</a>
																			</li>
																		</ul>
																	</li>
																	<li class="hidden-xs">
																		<button data-function="search-toggle">
																		<span class="sr-only">Search</span>
																		<span class="far fa-search"></span>
																		</button>
																	</li>
																</ul>
															</div>
															-->
															<div class="search-container">
																<div id="headerSearchBox" class="headerSearch"
																	data-component="header-search"
																	data-redirect-if-empty="false"
																	data-coveo-access-token="xxa237d4dd-f0aa-47fc-9baa-af9121851b33"
																	data-coveo-organization-id="xilinxcomprode2rjoqok">
																	<div class='coveo-search-section'>
																		<div class="CoveoAnalytics" data-search-hub="Site"></div>
																		<ul class="dropdown-menu options">
																			<li class="option" data-label="All" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-search-hub="Site">
																				<a href="#">
																				All</a>
																			</li>
																			<li data-label="Silicon Devices" data-action-link="https://www.xilinx.com/products/silicon-devices/si-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Silicon Devices</a>
																			</li>
																			<li data-label="Boards and Kits" data-action-link="https://www.xilinx.com/products/boards-and-kits/bk-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Boards and Kits</a>
																			</li>
																			<li data-label="Intellectual Property" data-action-link="https://www.xilinx.com/products/intellectual-property/ip-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Intellectual Property</a>
																			</li>
																			<li data-label="Support" class="option" data-action-link="https://www.xilinx.com/search/support-keyword-search.html" data-search-hub="Support">
																				<a href="#">
																				Support</a>
																				<ul>
																					<li data-label="Documentation" data-action-link="https://www.xilinx.com/support/documentation-navigation/documentation-keyword-search.html" data-search-hub="Document">
																						<a href="#">
																						Documentation</a>
																					</li>
																					<li data-label="Knowledge Base" data-action-link="https://www.xilinx.com/support/answer-navigation/answer-keyword-search.html" data-search-hub="AnswerRecord">
																						<a href="#">
																						Knowledge Base</a>
																					</li>
																					<li data-label="Community Forums" data-action-link="https://www.xilinx.com/search/forums-keyword-search.html" data-search-hub="Forums">
																						<a href="#">
																						Community Forums</a>
																					</li>
																				</ul>
																			</li>
																			<li data-label="Partners" data-action-link="https://www.xilinx.com/alliance/member-keyword-search.html" data-search-hub="Partner">
																				<a href="#">
																				Partners</a>
																			</li>
																			<li data-label="Videos" data-action-link="https://www.xilinx.com/video/video-keyword-search.html" data-search-hub="Video">
																				<a href="#">
																				Videos</a>
																			</li>
																			<li data-label="Press" data-action-link="https://www.xilinx.com/search/press-keyword-search.html" data-search-hub="Press">
																				<a href="#">
																				Press</a>
																			</li>
																		</ul>
																		<a href="#" class="btn dropdown-toggle value" data-toggle="dropdown"></a>
																		<div class="CoveoSearchbox" data-id="coveosearchbox" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-placeholder="Search Xilinx"></div>
																	</div>
																</div>
																<button data-function="search-toggle">
																<span class="sr-only">Search</span>
																<span class="far fa-times"></span>
																</button>
															</div>
														</div>
													</div>
												</div>
											</div>
										</nav>
									</header>
								</noindex>
							</div>
						</div>
					</div>
				</div>
				<div class="parsys aem-GridColumn--xxxlarge--none aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
						<div class="container-fluid">
							<div class="row">
							<div class="col-xs-12">
   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../../index.html" class="icon icon-home" alt="Documentation Home"> Vitis™ Tutorials
          

          
          </a>

          
            
            
              <div class="version">
                2021.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

      
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
            
            
            
              
            
            
              <p class="caption"><span class="caption-text">日本語版</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Vitis-Tutorials/master/docs-jp/index.html">Master</a></li>
</ul>
<p class="caption"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../Getting_Started/Vitis-Getting-Started.html">Getting Started</a></li>
</ul>
<p class="caption"><span class="caption-text">Acceleration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Hardware-Acceleration.html">Hardware Acceleration</a></li>
</ul>
<p class="caption"><span class="caption-text">AI Engine</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../AI_Engine_Development/AI_Engine_Development.html">AI Engine Development</a></li>
</ul>
<p class="caption"><span class="caption-text">Platforms</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../Vitis_Platform_Creation/Vitis_Platform_Creation.html">Vitis Platform Creation</a></li>
</ul>
<p class="caption"><span class="caption-text">Other Versions</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Vitis-Tutorials/2021-1/build/html/index.html">2021.1</a></li>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Vitis-Tutorials/2020-2/docs/index.html">2020.2</a></li>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Vitis-Tutorials/2020-1/docs/README.html">2020.1</a></li>
</ul>

            
			
			<p class="caption"><span class="caption-text">This Page</span></p>
				<ul class="current">
				  <li class="toctree-l1"><a href="../../../../_sources/docs/Hardware_Acceleration/Feature_Tutorials/01-rtl_kernel_workflow/using_the_rtl_kernel.md.txt"
						rel="nofollow">Show Source</a></li>
				</ul>
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">Vitis™ Tutorials</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Using the RTL Kernel in a Vitis IDE Project</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../../_sources/docs/Hardware_Acceleration/Feature_Tutorials/01-rtl_kernel_workflow/using_the_rtl_kernel.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <table class="sphinxhide">
 <tr>
   <td align="center"><img src="https://www.xilinx.com/content/dam/xilinx/imgs/press/media-kits/corporate/xilinx-logo.png" width="30%"/><h1>Vitis™ Application Acceleration Development Flow Tutorials</h1>
   </td>
 </tr>
 <tr>
 <td>
 </td>
 </tr>
</table><div class="section" id="using-the-rtl-kernel-in-a-vitis-ide-project">
<h1>Using the RTL Kernel in a Vitis IDE Project<a class="headerlink" href="#using-the-rtl-kernel-in-a-vitis-ide-project" title="Permalink to this headline">¶</a></h1>
<ol class="simple">
<li><p>Change directory to the tutorial folder: <code class="docutils literal notranslate"><span class="pre">cd</span> <span class="pre">./01-rtl_kernel_workflow/reference_files</span></code></p></li>
<li><p>Create a new workspace folder called <code class="docutils literal notranslate"><span class="pre">work1</span></code></p></li>
<li><p>Launch the Vitis IDE, by entering the following command:</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">vitis</span> <span class="o">-</span><span class="n">workspace</span> <span class="n">work1</span>
</pre></div>
</div>
<ol class="simple">
<li><p>The Vitis IDE opens. Select <strong>File &gt; New &gt; Application Project</strong></p></li>
</ol>
<p>The New Vitis Application Project window opens.</p>
<p><img alt="New Application Project" src="../../../../_images/rtl_kernel-new_application_project.png" /></p>
<ol class="simple">
<li><p>The New Application Project wizard is displayed, with the overview page showing a brief overview of the process. Click <strong>Next</strong>.</p></li>
<li><p>The Plaform page is displayed. Select <code class="docutils literal notranslate"><span class="pre">xilinx_u200_gen3x16_xdma_1_202110_1</span></code>, and then click <strong>Next</strong> to proceed.</p></li>
</ol>
<p><img alt="Platform page" src="../../../../_images/rtl_kernel-platform_page.png" /></p>
<ol class="simple">
<li><p>The Application Project Details page is displayed. Make the following selections:</p>
<ol class="simple">
<li><p>Enter a project name, such as <code class="docutils literal notranslate"><span class="pre">kernelTest</span></code>.</p></li>
<li><p>Create New System Project is enabled, and the System project name is generated from the project name. You can edit it if needed.</p></li>
<li><p>The Processor is selected automatically from the platform you selected.</p></li>
<li><p>Click <strong>Next</strong> to proceed.</p></li>
</ol>
</li>
</ol>
<p><img alt="New Application Project" src="../../../../_images/rtl_kernel-details_page.png" /></p>
<ol class="simple">
<li><p>The Templates page opens, showing application templates you can use to start your project. Select the <strong>Empty Application (XRT Native API)</strong> and click <strong>Finish</strong> to create your Vitis application project.</p></li>
</ol>
<p>The new project wizard closes and opens the Vitis IDE with your new project loaded.</p>
<p><img alt="Default Perspective" src="../../../../_images/rtl_kernel-default_perspective.png" /></p>
<div class="section" id="add-the-hardware-kernel-xo">
<h2>Add the Hardware Kernel (<code class="docutils literal notranslate"><span class="pre">.xo</span></code>)<a class="headerlink" href="#add-the-hardware-kernel-xo" title="Permalink to this headline">¶</a></h2>
<p>You must add the recently generated user-managed RTL kernel (<code class="docutils literal notranslate"><span class="pre">Vadd_A_B.xo</span></code>) and host code (<code class="docutils literal notranslate"><span class="pre">user-host.cpp</span></code>) into the project.</p>
<ol class="simple">
<li><p>Select the <code class="docutils literal notranslate"><span class="pre">kernelTest_kernels</span></code> project in the <strong>Explorer</strong> view, and right-click and select the <strong>Import Sources</strong> command. Browse to the  <code class="docutils literal notranslate"><span class="pre">rtl_kernel/rtl_kernel.srcs/sources_1/imports/xo</span></code> folder and select the <code class="docutils literal notranslate"><span class="pre">Vadd_A_B.xo</span></code> kernel file to add to the project as shown below. Click <strong>Finish</strong> to close the dialog box and add the kernel.</p></li>
</ol>
<p><img alt="Add RTL Kernel" src="../../../../_images/add_rtl_kernel.png" /></p>
<ol class="simple">
<li><p>Select and open the <code class="docutils literal notranslate"><span class="pre">kernelTest_kernels.prj</span></code> project file in the <strong>Hardware Kernel Project Settings</strong> view, and select the <strong>Add Hardware Function</strong> command. Select the  <code class="docutils literal notranslate"><span class="pre">Vadd_A_B.xo</span></code> folder and select the <code class="docutils literal notranslate"><span class="pre">Vadd_A_B</span></code> kernel as shown in the image below. Click <strong>OK</strong> to close the dialog box and add the hardware function to the project.</p></li>
</ol>
<p><img alt="Add RTL Kernel" src="../../../../_images/add_rtl_kernel-hw-function.png" /></p>
<ol class="simple">
<li><p>Select the <code class="docutils literal notranslate"><span class="pre">kernelTest</span></code> project in the <strong>Explorer</strong> view, and right-click and select the <strong>Import Sources</strong> command. Browse to the  <code class="docutils literal notranslate"><span class="pre">src/host</span></code> folder and select the <code class="docutils literal notranslate"><span class="pre">user-managed.cpp</span></code> file to add to the project as shown below. Click <strong>Finish</strong> to close the dialog box and add the host code.</p></li>
</ol>
<blockquote>
<div><p><strong>TIP:</strong> There is also an xrt-host file tha can be used to connect to an ap_ctrl_hs version of the RTL kernel.</p>
</div></blockquote>
<p><img alt="Add RTL Kernel" src="../../../../_images/add_rtl_kernel-host.png" /></p>
<ol class="simple">
<li><p>The Vitis IDE opens. Select <strong>File</strong> &gt; <strong>New</strong> &gt; <strong>Application Project</strong>.<br />The New Vitis Application Project window opens.</p></li>
</ol>
<p><img alt="New Application Project" src="../../../../_images/rtl_kernel-new_application_project.png" /></p>
<ol class="simple">
<li><p>The New Application Project wizard is displayed, with the overview page showing a brief overview of the process. Click <strong>Next</strong>.</p></li>
<li><p>The Plaform page is displayed. Select <code class="docutils literal notranslate"><span class="pre">xilinx_u200_gen3x16_xdma_1_202110_1</span></code>, and then click <strong>Next</strong> to proceed.</p></li>
</ol>
<p><img alt="Platform page" src="../../../../_images/rtl_kernel-platform_page.png" /></p>
<ol class="simple">
<li><p>The Application Project Details page is displayed. Make the following selections:</p>
<ol class="simple">
<li><p>Enter a project name, such as <code class="docutils literal notranslate"><span class="pre">kernelTest</span></code>.</p></li>
<li><p>Create New System Project is enabled, and the System project name is generated from the project name. You can edit it if needed.</p></li>
<li><p>The Processor is selected automatically from the platform you selected.</p></li>
<li><p>Click <strong>Next</strong> to proceed.</p></li>
</ol>
</li>
</ol>
<p><img alt="New Application Project" src="../../../../_images/rtl_kernel-details_page.png" /></p>
<ol class="simple">
<li><p>The Templates page opens, showing application templates you can use to start your project. Select the <strong>Empty Application (XRT Native API)</strong> and click <strong>Finish</strong> to create your Vitis application project.</p></li>
</ol>
<p>The new project wizard closes and opens the Vitis IDE with your new project loaded.</p>
<p><img alt="Default Perspective" src="../../../../_images/rtl_kernel-default_perspective.png" /></p>
</div>
<div class="section" id="id1">
<h2>Add the Hardware Kernel (<code class="docutils literal notranslate"><span class="pre">.xo</span></code>)<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>You must add the recently generated user-managed RTL kernel (<code class="docutils literal notranslate"><span class="pre">Vadd_A_B.xo</span></code>) and host code (<code class="docutils literal notranslate"><span class="pre">user-host.cpp</span></code>) into the project.</p>
<ol class="simple">
<li><p>Select the <code class="docutils literal notranslate"><span class="pre">kernelTest_kernels</span></code> project in the <strong>Explorer</strong> view, and right-click and select the <strong>Import Sources</strong> command. Browse to the  <code class="docutils literal notranslate"><span class="pre">rtl_kernel/rtl_kernel.srcs/sources_1/imports/xo</span></code> folder and select the <code class="docutils literal notranslate"><span class="pre">Vadd_A_B.xo</span></code> kernel file to add to the project as shown below. Click <strong>Finish</strong> to close the dialog box and add the kernel.</p></li>
</ol>
<p><img alt="Add RTL Kernel" src="../../../../_images/add_rtl_kernel.png" /></p>
<ol class="simple">
<li><p>Select and open the <code class="docutils literal notranslate"><span class="pre">kernelTest_kernels.prj</span></code> project file in the <strong>Hardware Kernel Project Settings</strong> view, and select the <strong>Add Hardware Function</strong> command. Select the  <code class="docutils literal notranslate"><span class="pre">Vadd_A_B.xo</span></code> folder and select the <code class="docutils literal notranslate"><span class="pre">Vadd_A_B</span></code> kernel as shown in the image below. Click <strong>OK</strong> to close the dialog box and add the hardware function to the project.</p></li>
</ol>
<p><img alt="Add RTL Kernel" src="../../../../_images/add_rtl_kernel-hw-function.png" /></p>
<ol class="simple">
<li><p>Select the <code class="docutils literal notranslate"><span class="pre">kernelTest</span></code> project in the <strong>Explorer</strong> view, and right-click and select the <strong>Import Sources</strong> command. Browse to the  <code class="docutils literal notranslate"><span class="pre">src/host</span></code> folder and select the <code class="docutils literal notranslate"><span class="pre">user-managed.cpp</span></code> file to add to the project as shown below. Click <strong>Finish</strong> to close the dialog box and add the host code.</p></li>
</ol>
<blockquote>
<div><p><strong>TIP:</strong> There is also an xrt-host file tha can be used to connect to an ap_ctrl_hs version of the RTL kernel.</p>
</div></blockquote>
<p><img alt="Add RTL Kernel" src="../../../../_images/add_rtl_kernel-host.png" /></p>
</div>
<div class="section" id="build-the-project">
<h2>Build the Project<a class="headerlink" href="#build-the-project" title="Permalink to this headline">¶</a></h2>
<p>With the host application code (<code class="docutils literal notranslate"><span class="pre">host.cpp</span></code>) and the RTL kernel code (<code class="docutils literal notranslate"><span class="pre">Vadd_A_B.xo</span></code>) added to the project, you are ready to build and run the project.</p>
<ol class="simple">
<li><p>In the <strong>Hardware Kernel Project Settings</strong> view select the <strong>Active build Configuration:</strong> and set it to <strong>Hardware Emulation</strong>. The Hardware Emulation target is useful for:</p>
<ul class="simple">
<li><p>Verifying the functionality of the logic that will go into the FPGA.</p></li>
<li><p>Retrieving the initial performance estimates of the accelerator and host application.</p></li>
</ul>
</li>
</ol>
<p>Note that the RTL kernel does not support software emulation.</p>
<blockquote>
<div><p><strong>IMPORTANT:</strong> You can add a C-model for software emulation to XRT-managed kernels as explained at <a class="reference external" href="https://docs.xilinx.com/r/en-US/ug1393-vitis-application-acceleration/Adding-C-Models-to-RTL-Kernels">Adding C-Models to RTL Kernels</a>. However, this is not supported for user-managed kernels.</p>
</div></blockquote>
<ol>
<li><p>In the Assistant view, select the top-level system project <code class="docutils literal notranslate"><span class="pre">kernelTest_system</span></code> and click the <strong>Build</strong> command <img alt="Build Command" src="../../../../_images/icon_build.png" /> to build the active Emulation-HW build configuration.</p>
<p>The different elements of the Vitis application project are built: the processor code (<code class="docutils literal notranslate"><span class="pre">host.cpp</span></code>), the HW link project to link the RTL kernel (.xo) to the target platform, and the top-level system project to package the design.</p>
<blockquote>
<div><p><strong>TIP</strong>: Because the RTL kernel is imported as an <code class="docutils literal notranslate"><span class="pre">.xo</span></code> file, the kernel does not need to be compiled.</p>
</div></blockquote>
</li>
<li><p>In the Assistant view, select the <strong>Run</strong> button, and select <strong>Run Configurations</strong>.</p></li>
<li><p>Select the <code class="docutils literal notranslate"><span class="pre">System</span> <span class="pre">Project</span> <span class="pre">Debug</span></code> configuration and click the <strong>New launch configuration</strong> command <img alt="Launch Config" src="../../../../_images/icon-new-launch-config.png" /> to create a new configuration for the run.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">SystemDebugger_kernelTest_system</span></code> configuration is created.</p>
<p>The host program takes the <code class="docutils literal notranslate"><span class="pre">xclbin</span></code> file as an input argument, which you must provide in the Program Arguments list.</p>
</li>
<li><p>Select <strong>Edit</strong> next to <code class="docutils literal notranslate"><span class="pre">Program</span> <span class="pre">Arguments</span></code>.</p>
<p>The Vitis IDE can automatically search and include the <code class="docutils literal notranslate"><span class="pre">xclbin</span></code> file when the <strong>Automatically update arguments</strong> is enabled.</p>
</li>
<li><p>Click <strong>OK</strong> to add the arguments.</p></li>
<li><p>In the <code class="docutils literal notranslate"><span class="pre">Run</span> <span class="pre">Configurations</span></code> dialog box click <strong>Apply</strong> and then click <strong>Run</strong> to run the configuration, and then verify the results.</p></li>
</ol>
<p>The Console window in the Vitis IDE displays <strong>TEST PASSED</strong>. You have built and run the application using your user-managed RTL kernel.</p>
<div class="section" id="optional-build-and-run-the-hardware-on-the-target-platform">
<h3>(Optional) Build and Run the Hardware on the Target Platform<a class="headerlink" href="#optional-build-and-run-the-hardware-on-the-target-platform" title="Permalink to this headline">¶</a></h3>
<ol class="simple">
<li><p>In the Vitis Application Project Settings, change <strong>Active build configuration</strong> to <strong>Hardware</strong>.<br />In the system configuration, the kernel code is implemented onto the FPGA, resulting in a binary that will run on the selected platform card.</p></li>
<li><p>If you have an available hardware platform, build and run the hardware build, and then verify the results.</p></li>
</ol>
</div>
</div>
<div class="section" id="makefile-use">
<h2>Makefile Use<a class="headerlink" href="#makefile-use" title="Permalink to this headline">¶</a></h2>
<p>There is a Makefile included in the <code class="docutils literal notranslate"><span class="pre">01-rtl_kernel_workflow/reference-files</span></code> folder. You can use this file to make the following targets:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>   <span class="n">make</span> <span class="n">run</span> <span class="n">TARGET</span><span class="o">=&lt;</span><span class="n">hw_emu</span> <span class="o">|</span> <span class="n">hw</span><span class="o">&gt;</span> <span class="n">HOST</span><span class="o">=</span><span class="n">user</span>
</pre></div>
</div>
<p>The Makefile will:</p>
<ol class="simple">
<li><p>Build a Vivado project to package the RTL design IP, and package a user-managed kernel (<code class="docutils literal notranslate"><span class="pre">.xo</span></code>)</p></li>
<li><p>Use the Vitis compiler (<code class="docutils literal notranslate"><span class="pre">v++</span></code>) to link the kernel to the target platform and generate the `.xlcbin’ file</p></li>
<li><p>Compile the XRT native API host application <code class="docutils literal notranslate"><span class="pre">./src/host/user-host.cpp</span></code></p></li>
<li><p>If necessary generate the emulation platform and setup the emulation environment</p></li>
<li><p>Run the application and kernel</p></li>
</ol>
<blockquote>
<div><p><strong>TIP:</strong> You can use the Makefile <code class="docutils literal notranslate"><span class="pre">-n</span></code> option to generate the command lines without running the commands: <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">run</span> <span class="pre">TARGET=hw_emu</span> <span class="pre">HOST=user</span> <span class="pre">-n</span></code></p>
</div></blockquote>
</div>
</div>
<div class="section" id="summary">
<h1>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h1>
<p>In this tutorial you have used the <strong>Package IP/Package_XO</strong> flow to create a user-managed RTL kernel. You packaged the RTL IP project into the compiled XO file needed by the Vitis compiler. You added the RTL kernel to an application project, coupled with the host code, and built and ran the Hardware Emulation configuration.  In the Vitis IDE, a binary container was created using the XO file, and a <code class="docutils literal notranslate"><span class="pre">xclbin</span></code> file was compiled.</p>
</br>
<hr/>
<p align="center" class="sphinxhide"><b><a href="/README.md">Return to Getting Started Pathway</a> — <a href="./README.md">Return to Start of Tutorial</a></b></p><p align="center" class="sphinxhide"><sup>Copyright&copy; 2020 Xilinx</sup></p></div>


           </div>
           
          </div>
          <footer>
<!-- Atalwar: Moved the footer code to layout.html to resolve conflict with the Xilinx template -->
</footer>

        </div>
      </div>


	  <!-- Sphinx Page Footer block -->
  

  <hr/>

  <div role="contentinfo" class="copyright">
    <p class="footerinfo">
      <span class="lastupdated">
        Last updated on January 18, 2022.
      </span>

    </p>
	<br>
  </div>
      </div>
    </section>


  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

   <script type="text/javascript">
    jQuery(function() { Search.loadIndex("searchindex.js"); });
  </script>

  <script type="text/javascript" id="searchindexloader"></script>


  
  
    
  



  <!--  Xilinx template footer block -->
							</div>
						</div>
					</div>
				</div>
				<div class="xilinxExperienceFragments experiencefragment aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
					<div class="xf-content-height">
						<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
							<div class="footer parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
								<noindex>
                  <!-- make footer fixed - NileshP -->
                  <style>
                        .footer {
                        position: fixed;
                        left: 0;
                        bottom: 0;
                        width: 100%;
                        }
                  </style>
                  <!-- make footer fixed NileshP-->
									<footer>
										<div class="aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid sub-footer">
													<div class="row">
														<div class="footerSocial parbase">
															<div class="col-md-push-6 col-lg-push-6 col-md-6 col-lg-6">
																<ul class="list-inline pull-right social-menu">
																	<li>
																		<a href="https://www.linkedin.com/company/xilinx">
																		<span class="linkedin icon"></span>
																		<span class="sr-only">Connect on LinkedIn</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.twitter.com/XilinxInc">
																		<span class="twitter icon"></span>
																		<span class="sr-only">Follow us on Twitter</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.facebook.com/XilinxInc">
																		<span class="facebook icon"></span>
																		<span class="sr-only">Connect on Facebook</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.youtube.com/XilinxInc">
																		<span class="youtube icon"></span>
																		<span class="sr-only">Watch us on YouTube</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.xilinx.com/registration/subscriber-signup.html">
																		<span class="newsletter icon"></span>
																		<span class="sr-only">Subscribe to Newsletter</span>
																		</a>
																	</li>
																</ul>
															</div>
														</div>
														<div class="col-md-pull-6 col-lg-pull-6 col-md-6 col-lg-6">
															<span class="copyright">
                                  
                                  &copy; 2019-2022, Xilinx, Inc.
                              </span>
															<ul class="list-inline sub-menu">
																<li>
																	<a target="_blank" href="https://docs.xilinx.com/v/u/9x6YvZKuWyhJId7y7RQQKA">Inclusive Terminology</a>
																</li>
																<li>
																	<a href="https://www.xilinx.com/about/privacy-policy.html">Privacy</a>
																</li>
																<li>
																	<a href="https://www.xilinx.com/about/legal.html">Legal</a>
																</li>
																<li>
																	<a href="https://www.xilinx.com/about/contact.html">Contact</a>
																</li>
															</ul>
														</div>
													</div>
												</div>
											</div>
										</div>
									</footer>
								</noindex>
							</div>
						</div>
					</div>
				</div>
				<div class="quicklinks parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
					<noindex>
						<span class="quickLinks">
							<ul>
								<li>
									<a href="#top" class="btn backToTop">
									<span class="fas fa-angle-up" aria-hidden="true"></span>
									</a>
								</li>
							</ul>
						</span>
					</noindex>
				</div>
			</div>
		</div>
		<script>window.CQ = window.CQ || {}</script>
		<script src="https://static.cloud.coveo.com/searchui/v2.4382/js/CoveoJsSearch.Lazy.min.js"></script>
		<script>
			var underscoreSetup = function () {
			  _.templateSettings.interpolate = /\{\{=([^-][\S\s]+?)\}\}/g;
			  _.templateSettings.evaluate = /\{\{([^-=][\S\s]+?)\}\}/g;
			  _.templateSettings.escape = /\{\{-([^=][\S\s]+?)\}\}/g;
			}

			underscoreSetup();
		</script>
	</body>
</html>