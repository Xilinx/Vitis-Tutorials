<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
<!-- OneTrust Cookies Consent Notice start for xilinx.github.io -->

<script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-document-language="true" type="text/javascript" charset="UTF-8" data-domain-script="03af8d57-0a04-47a6-8f10-322fa00d8fc7" ></script>
<script type="text/javascript">
function OptanonWrapper() { }
</script>
<!-- OneTrust Cookies Consent Notice end for xilinx.github.io -->
  <title>Step 1: Hardware Settings for Vitis Platform &mdash; Vitis™ Tutorials 2020.2 documentation</title>
      <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/_static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../../_static/doctools.js"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
            <a href="../../../../index.html" class="icon icon-home"> Vitis™ Tutorials
            <img src="../../../../_static/xilinx-header-logo.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                2020.2
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">日本語版</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Vitis-Tutorials/master/docs-jp/README.html">Master</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Getting Started Pathway</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../Getting_Started/Vitis/README.html">Vitis Flow 101 Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Getting_Started/Vitis_HLS/README.html">Vitis HLS Analysis and Optimization</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Hardware Accelerators</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../Hardware_Accelerators/Introduction/README.html">Introduction to Vitis Hardware Accelerators Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Hardware_Accelerators/Design_Tutorials/02-bloom/README.html">Optimizing Accelerated FPGA Applications: Bloom Filter Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Hardware_Accelerators/Design_Tutorials/01-convolution-tutorial/README.html">Accelerating Video Convolution Filtering Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Hardware_Accelerators/Design_Tutorials/03-rtl_stream_kernel_integration/README.html">Mixed Kernels Design Tutorial with AXI Stream and Vitis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Hardware_Accelerators/Design_Tutorials/04-traveling-salesperson/README.html">The Travelling Salesman Problem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Hardware_Accelerators/Design_Tutorials/05-bottom_up_rtl_kernel/README.html">Bottom-up RTL Kernel Flow with Vitis for Acceleration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Hardware_Accelerators/Feature_Tutorials/01-rtl_kernel_workflow/README.html">Getting Started with RTL Kernels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Hardware_Accelerators/Feature_Tutorials/02-mixing-c-rtl-kernels/README.html">Mixing C++ and RTL Kernels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Hardware_Accelerators/Feature_Tutorials/03-dataflow_debug_and_optimization/README.html">Vitis HLS Analysis and Optimization</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Runtime and System Optimization</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../Runtime_and_System_Optimization/Design_Tutorials/01-host-code-opt/README.html">Host Code Optimization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Runtime_and_System_Optimization/Design_Tutorials/02-ivas-ml/README.html">IVAS ZCU104 ML Acceleration Reference Release</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Runtime_and_System_Optimization/Feature_Tutorials/01-mult-ddr-banks/README.html">Using Multiple DDR Banks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Runtime_and_System_Optimization/Feature_Tutorials/02-using-multiple-cu/README.html">Using Multiple Compute Units</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Runtime_and_System_Optimization/Feature_Tutorials/03-controlling-vivado-implementation/README.html">Controlling Vivado Implementation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Runtime_and_System_Optimization/Feature_Tutorials/04-using-hbm/README.html">Using HBM</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Vitis Platform Creation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../01-Overview/README.html">Platform Creation Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../02-Edge-AI-ZCU104/README.html">Vitis Custom Embedded Platform Creation Example on ZCU104</a></li>
<li class="toctree-l1"><a class="reference internal" href="README.html">Versal Custom Platform Creation Tutorial</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Versions</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Vitis-Tutorials/">Main</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: black" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">Vitis™ Tutorials</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Step 1: Hardware Settings for Vitis Platform</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../_sources/docs/Vitis_Platform_Creation/Introduction/03_Edge_VCK190/step1.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <!-- 
# Copyright 2020 Xilinx Inc.
# 
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
--><table width="100%">
 <tr width="100%">
    <td align="center"><img src="https://raw.githubusercontent.com/Xilinx/Image-Collateral/main/xilinx-logo.png" width="30%"/><h1>Versal Custom Platform Creation Tutorial</h1>
    </td>
 </tr>
</table><div class="section" id="step-1-hardware-settings-for-vitis-platform">
<h1>Step 1: Hardware Settings for Vitis Platform<a class="headerlink" href="#step-1-hardware-settings-for-vitis-platform" title="Permalink to this heading">¶</a></h1>
<p>The Versal Extensible Platform Example has setup the platform properties. We will review these properties in this step.</p>
<p>For a custom board platform, you will need to setup these properties manually. They can be set in GUI or Tcl. We will discuss the setup flow in detail.</p>
<div class="section" id="review-the-versal-extensible-platform-example-platform-setup">
<h2>Review the Versal Extensible Platform Example Platform Setup<a class="headerlink" href="#review-the-versal-extensible-platform-example-platform-setup" title="Permalink to this heading">¶</a></h2>
<ol>
<li><p>Launch Vivado and open the design we created in step 0 if you haven’t</p>
<ul class="simple">
<li><p>Make sure the block design is open. If not, click <strong>Open Block Design</strong> in <strong>Flow Navigator</strong></p></li>
</ul>
</li>
<li><p>Export block diagram tcl to cross check the tcl commands</p>
<ul class="simple">
<li><p>Click <strong>File -&gt; Export -&gt; Export Block Diagram</strong></p></li>
<li><p>Check the Tcl file location and click <strong>OK</strong></p></li>
<li><p>Open the exported tcl file</p></li>
</ul>
</li>
<li><p>Go to Platform Setup tab.</p>
<ul class="simple">
<li><p>If it’s not open, click menu Window -&gt; Platform Setup to open it.</p></li>
</ul>
</li>
<li><p>Review the AXI port settings</p>
<ul class="simple">
<li><p>In axi_noc_ddr4, S01_AXI to S27_AXI are enabled. <strong>SP Tag</strong> is set to <strong>DDR</strong></p></li>
</ul>
<p><img alt="Vivado Platform Setup: axi_noc_ddr4 AXI Slave" src="../../../../_images/vivado_platform_setup.png" /></p>
<p>The corresponding setting in tcl is</p>
<div class="highlight-tcl notranslate"><div class="highlight"><pre><span></span><span class="nv">set_property</span><span class="w"> </span>PFM.AXI_PORT<span class="w"> </span><span class="k">{</span><span class="nv">S00_AXI</span><span class="w"> </span><span class="k">{</span><span class="nv">memport</span><span class="w"> </span><span class="s2">&quot;S_AXI_NOC&quot;</span><span class="w"> </span>sptag<span class="w"> </span><span class="s2">&quot;DDR&quot;</span><span class="k">}</span><span class="w"> </span>S01_AXI<span class="w"> </span><span class="k">{</span><span class="nv">memport</span><span class="w"> </span><span class="s2">&quot;S_AXI_NOC&quot;</span><span class="w"> </span>sptag<span class="w"> </span><span class="s2">&quot;DDR&quot;</span><span class="k">}</span><span class="w"> </span>S02_AXI<span class="w"> </span><span class="k">{</span><span class="nv">memport</span><span class="w"> </span><span class="s2">&quot;S_AXI_NOC&quot;</span><span class="w"> </span>sptag<span class="w"> </span><span class="s2">&quot;DDR&quot;</span><span class="k">}</span><span class="w"> </span>S03_AXI<span class="w"> </span><span class="k">{</span><span class="nv">memport</span><span class="w"> </span><span class="s2">&quot;S_AXI_NOC&quot;</span><span class="w"> </span>sptag<span class="w"> </span><span class="s2">&quot;DDR&quot;</span><span class="k">}</span><span class="w"> </span>S04_AXI<span class="w"> </span><span class="k">{</span><span class="nv">memport</span><span class="w"> </span><span class="s2">&quot;S_AXI_NOC&quot;</span><span class="w"> </span>sptag<span class="w"> </span><span class="s2">&quot;DDR&quot;</span><span class="k">}</span><span class="w"> </span>S05_AXI<span class="w"> </span><span class="k">{</span><span class="nv">memport</span><span class="w"> </span><span class="s2">&quot;S_AXI_NOC&quot;</span><span class="w"> </span>sptag<span class="w"> </span><span class="s2">&quot;DDR&quot;</span><span class="k">}</span><span class="w"> </span>S06_AXI<span class="w"> </span><span class="k">{</span><span class="nv">memport</span><span class="w"> </span><span class="s2">&quot;S_AXI_NOC&quot;</span><span class="w"> </span>sptag<span class="w"> </span><span class="s2">&quot;DDR&quot;</span><span class="k">}</span><span class="w"> </span>S07_AXI<span class="w"> </span><span class="k">{</span><span class="nv">memport</span><span class="w"> </span><span class="s2">&quot;S_AXI_NOC&quot;</span><span class="w"> </span>sptag<span class="w"> </span><span class="s2">&quot;DDR&quot;</span><span class="k">}</span><span class="w"> </span>S08_AXI<span class="w"> </span><span class="k">{</span><span class="nv">memport</span><span class="w"> </span><span class="s2">&quot;S_AXI_NOC&quot;</span><span class="w"> </span>sptag<span class="w"> </span><span class="s2">&quot;DDR&quot;</span><span class="k">}</span><span class="w"> </span>S09_AXI<span class="w"> </span><span class="k">{</span><span class="nv">memport</span><span class="w"> </span><span class="s2">&quot;S_AXI_NOC&quot;</span><span class="w"> </span>sptag<span class="w"> </span><span class="s2">&quot;DDR&quot;</span><span class="k">}</span><span class="w"> </span>S10_AXI<span class="w"> </span><span class="k">{</span><span class="nv">memport</span><span class="w"> </span><span class="s2">&quot;S_AXI_NOC&quot;</span><span class="w"> </span>sptag<span class="w"> </span><span class="s2">&quot;DDR&quot;</span><span class="k">}</span><span class="w"> </span>S11_AXI<span class="w"> </span><span class="k">{</span><span class="nv">memport</span><span class="w"> </span><span class="s2">&quot;S_AXI_NOC&quot;</span><span class="w"> </span>sptag<span class="w"> </span><span class="s2">&quot;DDR&quot;</span><span class="k">}</span><span class="w"> </span>S12_AXI<span class="w"> </span><span class="k">{</span><span class="nv">memport</span><span class="w"> </span><span class="s2">&quot;S_AXI_NOC&quot;</span><span class="w"> </span>sptag<span class="w"> </span><span class="s2">&quot;DDR&quot;</span><span class="k">}</span><span class="w"> </span>S13_AXI<span class="w"> </span><span class="k">{</span><span class="nv">memport</span><span class="w"> </span><span class="s2">&quot;S_AXI_NOC&quot;</span><span class="w"> </span>sptag<span class="w"> </span><span class="s2">&quot;DDR&quot;</span><span class="k">}</span><span class="w"> </span>S14_AXI<span class="w"> </span><span class="k">{</span><span class="nv">memport</span><span class="w"> </span><span class="s2">&quot;S_AXI_NOC&quot;</span><span class="w"> </span>sptag<span class="w"> </span><span class="s2">&quot;DDR&quot;</span><span class="k">}</span><span class="w"> </span>S15_AXI<span class="w"> </span><span class="k">{</span><span class="nv">memport</span><span class="w"> </span><span class="s2">&quot;S_AXI_NOC&quot;</span><span class="w"> </span>sptag<span class="w"> </span><span class="s2">&quot;DDR&quot;</span><span class="k">}</span><span class="w"> </span>S16_AXI<span class="w"> </span><span class="k">{</span><span class="nv">memport</span><span class="w"> </span><span class="s2">&quot;S_AXI_NOC&quot;</span><span class="w"> </span>sptag<span class="w"> </span><span class="s2">&quot;DDR&quot;</span><span class="k">}</span><span class="w"> </span>S17_AXI<span class="w"> </span><span class="k">{</span><span class="nv">memport</span><span class="w"> </span><span class="s2">&quot;S_AXI_NOC&quot;</span><span class="w"> </span>sptag<span class="w"> </span><span class="s2">&quot;DDR&quot;</span><span class="k">}</span><span class="w"> </span>S18_AXI<span class="w"> </span><span class="k">{</span><span class="nv">memport</span><span class="w"> </span><span class="s2">&quot;S_AXI_NOC&quot;</span><span class="w"> </span>sptag<span class="w"> </span><span class="s2">&quot;DDR&quot;</span><span class="k">}</span><span class="w"> </span>S19_AXI<span class="w"> </span><span class="k">{</span><span class="nv">memport</span><span class="w"> </span><span class="s2">&quot;S_AXI_NOC&quot;</span><span class="w"> </span>sptag<span class="w"> </span><span class="s2">&quot;DDR&quot;</span><span class="k">}</span><span class="w"> </span>S20_AXI<span class="w"> </span><span class="k">{</span><span class="nv">memport</span><span class="w"> </span><span class="s2">&quot;S_AXI_NOC&quot;</span><span class="w"> </span>sptag<span class="w"> </span><span class="s2">&quot;DDR&quot;</span><span class="k">}</span><span class="w"> </span>S21_AXI<span class="w"> </span><span class="k">{</span><span class="nv">memport</span><span class="w"> </span><span class="s2">&quot;S_AXI_NOC&quot;</span><span class="w"> </span>sptag<span class="w"> </span><span class="s2">&quot;DDR&quot;</span><span class="k">}</span><span class="w"> </span>S22_AXI<span class="w"> </span><span class="k">{</span><span class="nv">memport</span><span class="w"> </span><span class="s2">&quot;S_AXI_NOC&quot;</span><span class="w"> </span>sptag<span class="w"> </span><span class="s2">&quot;DDR&quot;</span><span class="k">}</span><span class="w"> </span>S23_AXI<span class="w"> </span><span class="k">{</span><span class="nv">memport</span><span class="w"> </span><span class="s2">&quot;S_AXI_NOC&quot;</span><span class="w"> </span>sptag<span class="w"> </span><span class="s2">&quot;DDR&quot;</span><span class="k">}</span><span class="w"> </span>S24_AXI<span class="w"> </span><span class="k">{</span><span class="nv">memport</span><span class="w"> </span><span class="s2">&quot;S_AXI_NOC&quot;</span><span class="w"> </span>sptag<span class="w"> </span><span class="s2">&quot;DDR&quot;</span><span class="k">}</span><span class="w"> </span>S25_AXI<span class="w"> </span><span class="k">{</span><span class="nv">memport</span><span class="w"> </span><span class="s2">&quot;S_AXI_NOC&quot;</span><span class="w"> </span>sptag<span class="w"> </span><span class="s2">&quot;DDR&quot;</span><span class="k">}</span><span class="w"> </span>S26_AXI<span class="w"> </span><span class="k">{</span><span class="nv">memport</span><span class="w"> </span><span class="s2">&quot;S_AXI_NOC&quot;</span><span class="w"> </span>sptag<span class="w"> </span><span class="s2">&quot;DDR&quot;</span><span class="k">}</span><span class="w"> </span>S27_AXI<span class="w"> </span><span class="k">{</span><span class="nv">memport</span><span class="w"> </span><span class="s2">&quot;S_AXI_NOC&quot;</span><span class="w"> </span>sptag<span class="w"> </span><span class="s2">&quot;DDR&quot;</span><span class="k">}}</span><span class="w"> </span><span class="k">[</span><span class="nv">get_bd_cells</span><span class="w"> </span><span class="o">/</span>axi_noc_ddr4<span class="k">]</span>
</pre></div>
</div>
<p><strong>Note</strong>: Vitis emulation automation scriopts require that AXI slave interfaces on Versal platforms to have SP Tag as either <strong>DDR</strong> or <strong>LPDDR</strong>.</p>
<p><strong>Note</strong>: It’s a GUI display issue that memport property <strong>S_AXI_NOC</strong> will be displayed as <strong>MIG</strong>. Please use S_AXI_NOC if you’d like to enable more AXI Slave ports.</p>
<ul class="simple">
<li><p>In smartconnect_1, M01_AXI to M15_AXI are enabled. Memport is set to M_AXI_GP. SP Tag is empty. These ports are used to control PL kernels.</p></li>
</ul>
<p><img alt="Vivado Platform Setup: AXI Master" src="../../../../_images/vivado_platform_setup_axi_master.png" /></p>
<p>The corresponding setting in tcl is</p>
<div class="highlight-tcl notranslate"><div class="highlight"><pre><span></span><span class="nv">set_property</span><span class="w"> </span>PFM.AXI_PORT<span class="w"> </span><span class="k">{</span><span class="nv">M01_AXI</span><span class="w"> </span><span class="k">{</span><span class="nv">memport</span><span class="w"> </span><span class="s2">&quot;M_AXI_GP&quot;</span><span class="w"> </span>sptag<span class="w"> </span><span class="s2">&quot;&quot;</span><span class="w"> </span>memory<span class="w"> </span><span class="s2">&quot;&quot;</span><span class="k">}</span><span class="w"> </span>M02_AXI<span class="w"> </span><span class="k">{</span><span class="nv">memport</span><span class="w"> </span><span class="s2">&quot;M_AXI_GP&quot;</span><span class="w"> </span>sptag<span class="w"> </span><span class="s2">&quot;&quot;</span><span class="w"> </span>memory<span class="w"> </span><span class="s2">&quot;&quot;</span><span class="k">}</span><span class="w"> </span>M03_AXI<span class="w"> </span><span class="k">{</span><span class="nv">memport</span><span class="w"> </span><span class="s2">&quot;M_AXI_GP&quot;</span><span class="w"> </span>sptag<span class="w"> </span><span class="s2">&quot;&quot;</span><span class="w"> </span>memory<span class="w"> </span><span class="s2">&quot;&quot;</span><span class="k">}</span><span class="w"> </span>M04_AXI<span class="w"> </span><span class="k">{</span><span class="nv">memport</span><span class="w"> </span><span class="s2">&quot;M_AXI_GP&quot;</span><span class="w"> </span>sptag<span class="w"> </span><span class="s2">&quot;&quot;</span><span class="w"> </span>memory<span class="w"> </span><span class="s2">&quot;&quot;</span><span class="k">}</span><span class="w"> </span>M05_AXI<span class="w"> </span><span class="k">{</span><span class="nv">memport</span><span class="w"> </span><span class="s2">&quot;M_AXI_GP&quot;</span><span class="w"> </span>sptag<span class="w"> </span><span class="s2">&quot;&quot;</span><span class="w"> </span>memory<span class="w"> </span><span class="s2">&quot;&quot;</span><span class="k">}</span><span class="w"> </span>M06_AXI<span class="w"> </span><span class="k">{</span><span class="nv">memport</span><span class="w"> </span><span class="s2">&quot;M_AXI_GP&quot;</span><span class="w"> </span>sptag<span class="w"> </span><span class="s2">&quot;&quot;</span><span class="w"> </span>memory<span class="w"> </span><span class="s2">&quot;&quot;</span><span class="k">}</span><span class="w"> </span>M07_AXI<span class="w"> </span><span class="k">{</span><span class="nv">memport</span><span class="w"> </span><span class="s2">&quot;M_AXI_GP&quot;</span><span class="w"> </span>sptag<span class="w"> </span><span class="s2">&quot;&quot;</span><span class="w"> </span>memory<span class="w"> </span><span class="s2">&quot;&quot;</span><span class="k">}</span><span class="w"> </span>M08_AXI<span class="w"> </span><span class="k">{</span><span class="nv">memport</span><span class="w"> </span><span class="s2">&quot;M_AXI_GP&quot;</span><span class="w"> </span>sptag<span class="w"> </span><span class="s2">&quot;&quot;</span><span class="w"> </span>memory<span class="w"> </span><span class="s2">&quot;&quot;</span><span class="k">}</span><span class="w"> </span>M09_AXI<span class="w"> </span><span class="k">{</span><span class="nv">memport</span><span class="w"> </span><span class="s2">&quot;M_AXI_GP&quot;</span><span class="w"> </span>sptag<span class="w"> </span><span class="s2">&quot;&quot;</span><span class="w"> </span>memory<span class="w"> </span><span class="s2">&quot;&quot;</span><span class="k">}</span><span class="w"> </span>M10_AXI<span class="w"> </span><span class="k">{</span><span class="nv">memport</span><span class="w"> </span><span class="s2">&quot;M_AXI_GP&quot;</span><span class="w"> </span>sptag<span class="w"> </span><span class="s2">&quot;&quot;</span><span class="w"> </span>memory<span class="w"> </span><span class="s2">&quot;&quot;</span><span class="k">}</span><span class="w"> </span>M11_AXI<span class="w"> </span><span class="k">{</span><span class="nv">memport</span><span class="w"> </span><span class="s2">&quot;M_AXI_GP&quot;</span><span class="w"> </span>sptag<span class="w"> </span><span class="s2">&quot;&quot;</span><span class="w"> </span>memory<span class="w"> </span><span class="s2">&quot;&quot;</span><span class="k">}</span><span class="w"> </span>M12_AXI<span class="w"> </span><span class="k">{</span><span class="nv">memport</span><span class="w"> </span><span class="s2">&quot;M_AXI_GP&quot;</span><span class="w"> </span>sptag<span class="w"> </span><span class="s2">&quot;&quot;</span><span class="w"> </span>memory<span class="w"> </span><span class="s2">&quot;&quot;</span><span class="k">}</span><span class="w"> </span>M13_AXI<span class="w"> </span><span class="k">{</span><span class="nv">memport</span><span class="w"> </span><span class="s2">&quot;M_AXI_GP&quot;</span><span class="w"> </span>sptag<span class="w"> </span><span class="s2">&quot;&quot;</span><span class="w"> </span>memory<span class="w"> </span><span class="s2">&quot;&quot;</span><span class="k">}</span><span class="w"> </span>M14_AXI<span class="w"> </span><span class="k">{</span><span class="nv">memport</span><span class="w"> </span><span class="s2">&quot;M_AXI_GP&quot;</span><span class="w"> </span>sptag<span class="w"> </span><span class="s2">&quot;&quot;</span><span class="w"> </span>memory<span class="w"> </span><span class="s2">&quot;&quot;</span><span class="k">}</span><span class="w"> </span>M15_AXI<span class="w"> </span><span class="k">{</span><span class="nv">memport</span><span class="w"> </span><span class="s2">&quot;M_AXI_GP&quot;</span><span class="w"> </span>sptag<span class="w"> </span><span class="s2">&quot;&quot;</span><span class="w"> </span>memory<span class="w"> </span><span class="s2">&quot;&quot;</span><span class="k">}}</span><span class="w"> </span><span class="k">[</span><span class="nv">get_bd_cells</span><span class="w"> </span><span class="o">/</span>smartconnect_1<span class="k">]</span>
</pre></div>
</div>
<p><strong>Note</strong>: SP Tag for AXI Master doesn’t take effect.</p>
</li>
<li><p>Review the Clock settings</p>
<ul class="simple">
<li><p>In Clock tab, clk_out1, clk_out2, clk_out3 from clk_wizard_0 are enabled with id {1,0,2}, frequency {99.999MHz, 149.999MHz, 299.999MHz}.</p></li>
<li><p>clk_out2 is the default clock. V++ linker will use this clock to connect the kernel if link configuration doesn’t specify any clocks.</p></li>
<li><p>The Proc Sys Reset property is set to the synchronous reset signal assosiated with this clock.</p></li>
</ul>
<p><img alt="Vivado Platform Setup: Clock" src="../../../../_images/vivado_platform_setup_clock.png" /></p>
<p>The corresponding setting in tcl is</p>
<div class="highlight-tcl notranslate"><div class="highlight"><pre><span></span><span class="nv">set_property</span><span class="w"> </span>PFM.CLOCK<span class="w"> </span><span class="k">{</span><span class="nv">clk_out1</span><span class="w"> </span><span class="k">{</span><span class="nv">id</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="w"> </span>is_default<span class="w"> </span><span class="s2">&quot;false&quot;</span><span class="w"> </span>proc_sys_reset<span class="w"> </span><span class="s2">&quot;proc_sys_reset_0&quot;</span><span class="w"> </span>status<span class="w"> </span><span class="s2">&quot;fixed&quot;</span><span class="k">}</span><span class="w"> </span>clk_out2<span class="w"> </span><span class="k">{</span><span class="nv">id</span><span class="w"> </span><span class="s2">&quot;0&quot;</span><span class="w"> </span>is_default<span class="w"> </span><span class="s2">&quot;true&quot;</span><span class="w"> </span>proc_sys_reset<span class="w"> </span><span class="s2">&quot;/proc_sys_reset_1&quot;</span><span class="w"> </span>status<span class="w"> </span><span class="s2">&quot;fixed&quot;</span><span class="k">}</span><span class="w"> </span>clk_out3<span class="w"> </span><span class="k">{</span><span class="nv">id</span><span class="w"> </span><span class="s2">&quot;2&quot;</span><span class="w"> </span>is_default<span class="w"> </span><span class="s2">&quot;false&quot;</span><span class="w"> </span>proc_sys_reset<span class="w"> </span><span class="s2">&quot;/proc_sys_reset_2&quot;</span><span class="w"> </span>status<span class="w"> </span><span class="s2">&quot;fixed&quot;</span><span class="k">}}</span><span class="w"> </span><span class="k">[</span><span class="nv">get_bd_cells</span><span class="w"> </span><span class="o">/</span>clk_wizard_0<span class="k">]</span>
</pre></div>
</div>
</li>
<li><p>Review the Interrupt Tab</p>
<ul class="simple">
<li><p>In Interrupt tab, intr port of axi_intc_0 is enabled.</p></li>
</ul>
<p><img alt="Vivado Platform Setup: Interrupt" src="../../../../_images/vivado_platform_setup_irq.png" /></p>
<p>The corresponding setting in tcl is</p>
<div class="highlight-tcl notranslate"><div class="highlight"><pre><span></span><span class="nv">set_property</span><span class="w"> </span>PFM.IRQ<span class="w"> </span><span class="k">{</span><span class="nv">intr</span><span class="w"> </span><span class="k">{</span><span class="nv">id</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span>range<span class="w"> </span><span class="mi">32</span><span class="k">}}</span><span class="w"> </span><span class="k">[</span><span class="nv">get_bd_cells</span><span class="w"> </span><span class="o">/</span>axi_intc_0<span class="k">]</span>
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="review-the-simulation-model">
<h2>Review the Simulation Model<a class="headerlink" href="#review-the-simulation-model" title="Permalink to this heading">¶</a></h2>
<p>The Versal Extensible Platform Example has setup the similation model of each IP properly. We will review the settings in this session. If you created the block design by yourself, please make sure these settings are applied before running emulation on your platform.</p>
<p>Some blocks in the block design has multiple types of simulation models. Vitis emulation requires these blocks to use SystemC TLM (Transaction-level Modeling) model when available. TLM is the default simulation model for CIPS, NOC and AI Engine in Vivado 2020.2. We can review them to make sure they are correct before exporting the hardware.</p>
<ol>
<li><p>Review CIPS simulation model settings</p>
<ul class="simple">
<li><p>In Vivado GUI, select the CIPS instance</p></li>
<li><p>Check the <em><strong>Block Properties</strong></em> window</p></li>
<li><p>In <em><strong>Properties</strong></em> tab, it shows <strong>ALLOWED_SIM_MODELS</strong> is <code class="docutils literal notranslate"><span class="pre">tlm,rtl</span></code>, <strong>SELECTED_SIM_MODEL</strong> is <code class="docutils literal notranslate"><span class="pre">tlm</span></code>. It means this block supports two simulation models. We selected to use <code class="docutils literal notranslate"><span class="pre">tlm</span></code> model.</p></li>
</ul>
<p><img alt="../../../../_images/vivado_cips_tlm.png" src="../../../../_images/vivado_cips_tlm.png" /></p>
</li>
<li><p>Review the simulation model property for NOC and AI Engine in the block diagram.</p></li>
</ol>
</div>
<div class="section" id="export-hardware-xsa">
<h2>Export Hardware XSA<a class="headerlink" href="#export-hardware-xsa" title="Permalink to this heading">¶</a></h2>
<ol>
<li><p>Generate Block Diagram</p>
<ul class="simple">
<li><p>Click <strong>Generate Block Diagram</strong> from Flow Navigator window</p></li>
</ul>
<p><img alt="../../../../_images/vivado_generate_bd.png" src="../../../../_images/vivado_generate_bd.png" /></p>
<ul class="simple">
<li><p>Select <strong>Synthesis Options</strong> to <strong>Global</strong> to save generation time.</p></li>
</ul>
<p><img alt="../../../../_images/vivado_generate_bd_global.png" src="../../../../_images/vivado_generate_bd_global.png" /></p>
<ul class="simple">
<li><p>Click <strong>Generate</strong> button</p></li>
</ul>
<p>Note: Synthesis default option <strong>Out of context per IP</strong> will synthesize each IP in the block diagram. Since we will use pre-synthesis XSA in next steps, we don’t need to synthesize these IPs.</p>
<p>Note: It’s safe to ignore this critical warning. Vitis will connect this signal in the future.</p>
<p><img alt="Intr Critical Warning " src="../../../../_images/vivado_bd_critical_warning.png" /></p>
</li>
<li><p>Export platform with the following scripts</p>
<ul class="simple">
<li><p>Click <strong>File -&gt; Export -&gt; Export Platform</strong>. Alternative ways are: <strong>Flow Navigator</strong> window: <strong>IP Integrator -&gt; Export Platform</strong>, or the <strong>Export Platform</strong> button on the bottom of <strong>Platform Setup</strong> tab.</p></li>
<li><p>Click Next on Export Hardware Platform page</p></li>
<li><p>Select <strong>Hardware and Hardware Emulation</strong>, because there are no un-simulatable IP in the Vivado design. Click Next</p></li>
<li><p>Select <strong>Pre-synthesis</strong>, because we’re not making an DFX platform. Click Next</p></li>
<li><p>Input Name: <strong>VCK190_Custom_Platform</strong>, click Next</p></li>
<li><p>Update file name to <strong>vck190_custom</strong>, click Next.</p></li>
<li><p>Review the summary. Click Finish</p></li>
</ul>
<p>The export step can be done with the following commands as well.</p>
<div class="highlight-tcl notranslate"><div class="highlight"><pre><span></span><span class="c"># Setting platform properties</span>
<span class="nv">set_property</span><span class="w"> </span>pfm_name<span class="w"> </span><span class="k">{</span><span class="nv">xilinx</span><span class="o">:</span>vck190_es:VCK190_Custom_Platform:0.0<span class="k">}</span><span class="w"> </span><span class="k">[</span><span class="nv">get_files</span><span class="w"> </span><span class="o">-</span>norecurse<span class="w"> </span><span class="o">*</span>.bd<span class="k">]</span>
<span class="c"># Platform properties are set by Platform Setup GUI. If you haven&#39;t used Platform Setup GUI, please setup these properties manually.</span>
<span class="nv">set_property</span><span class="w"> </span>platform.default_output_type<span class="w"> </span><span class="s2">&quot;sd_card&quot;</span><span class="w"> </span><span class="k">[</span><span class="nv">current_project</span><span class="k">]</span>
<span class="nv">set_property</span><span class="w"> </span>platform.design_intent.embedded<span class="w"> </span><span class="s2">&quot;true&quot;</span><span class="w"> </span><span class="k">[</span><span class="nv">current_project</span><span class="k">]</span>
<span class="nv">set_property</span><span class="w"> </span>platform.design_intent.server_managed<span class="w"> </span><span class="s2">&quot;false&quot;</span><span class="w"> </span><span class="k">[</span><span class="nv">current_project</span><span class="k">]</span>
<span class="nv">set_property</span><span class="w"> </span>platform.design_intent.external_host<span class="w"> </span><span class="s2">&quot;false&quot;</span><span class="w"> </span><span class="k">[</span><span class="nv">current_project</span><span class="k">]</span>
<span class="nv">set_property</span><span class="w"> </span>platform.design_intent.datacenter<span class="w"> </span><span class="s2">&quot;false&quot;</span><span class="w"> </span><span class="k">[</span><span class="nv">current_project</span><span class="k">]</span>
<span class="c"># Export Expandable XSA with PDI</span>
<span class="nv">write_hw_platform</span><span class="w"> </span><span class="o">-</span>force<span class="w"> </span>.<span class="o">/</span>vck190_custom.xsa
</pre></div>
</div>
</li>
</ol>
<p><em><strong>Now we finish the Hardware platform creation flow, then we should go to the <a class="reference internal" href="step2.html"><span class="doc">Step2: Software platform creation</span></a></strong></em></p>
</div>
</div>
<div class="section" id="references">
<h1>References<a class="headerlink" href="#references" title="Permalink to this heading">¶</a></h1>
<p><a class="reference external" href="https://www.xilinx.com/support/answers/72033.html">AR# 72033: How do I add boards and example designs to my Vivado environment?</a></p>
<p align="center"><sup>Copyright&copy; 2020 Xilinx</sup></p></div>


           </div>
          </div>
          
                  <style>
                        .footer {
                        position: fixed;
                        left: 0;
                        bottom: 0;
                        width: 100%;
                        }
                  </style>
				  
				  <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019-2022, Xilinx, Inc. Xilinx is now a part of AMD.
      <span class="lastupdated">Last updated on August 5, 2022.
      </span></p>
  </div>



										<div class="aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid sub-footer">

													                    <div class="row">
                        <div class="col-xs-24">
                          <p><a target="_blank" href="https://www.amd.com/en/corporate/copyright">Terms and Conditions</a> | <a target="_blank" href="https://www.amd.com/en/corporate/privacy">Privacy</a> | <a target="_blank" href="https://www.amd.com/en/corporate/cookies">Cookie Policy</a> | <a target="_blank" href="https://www.amd.com/en/corporate/trademarks">Trademarks</a> | <a target="_blank" href="https://www.amd.com/system/files/documents/statement-human-trafficking-forced-labor.pdf">Statement on Forced Labor</a> | <a target="_blank" href="https://www.amd.com/en/corporate/competition">Fair and Open Competition</a> | <a target="_blank" href="https://www.amd.com/system/files/documents/amd-uk-tax-strategy.pdf">UK Tax Strategy</a> | <a target="_blank" href="https://docs.xilinx.com/v/u/9x6YvZKuWyhJId7y7RQQKA">Inclusive Terminology</a> | <a href="#cookiessettings" class="ot-sdk-show-settings">Cookies Settings</a></p>
                        </div>
                    </div>
												</div>
											</div>
										</div>
										
</br>


  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>


</body>
</html>