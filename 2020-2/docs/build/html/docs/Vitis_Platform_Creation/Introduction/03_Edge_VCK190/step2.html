<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
<!-- OneTrust Cookies Consent Notice start for xilinx.github.io -->

<script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-document-language="true" type="text/javascript" charset="UTF-8" data-domain-script="03af8d57-0a04-47a6-8f10-322fa00d8fc7" ></script>
<script type="text/javascript">
function OptanonWrapper() { }
</script>
<!-- OneTrust Cookies Consent Notice end for xilinx.github.io -->
  <title>Step 2: Create the Software Components with PetaLinux &mdash; Vitis™ Tutorials 2020.2 documentation</title>
      <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/_static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../../_static/doctools.js"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
            <a href="../../../../index.html" class="icon icon-home"> Vitis™ Tutorials
            <img src="../../../../_static/xilinx-header-logo.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                2020.2
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">日本語版</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Vitis-Tutorials/master/docs-jp/README.html">Master</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Getting Started Pathway</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../Getting_Started/Vitis/README.html">Vitis Flow 101 Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Getting_Started/Vitis_HLS/README.html">Vitis HLS Analysis and Optimization</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Hardware Accelerators</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../Hardware_Accelerators/Introduction/README.html">Introduction to Vitis Hardware Accelerators Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Hardware_Accelerators/Design_Tutorials/02-bloom/README.html">Optimizing Accelerated FPGA Applications: Bloom Filter Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Hardware_Accelerators/Design_Tutorials/01-convolution-tutorial/README.html">Accelerating Video Convolution Filtering Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Hardware_Accelerators/Design_Tutorials/03-rtl_stream_kernel_integration/README.html">Mixed Kernels Design Tutorial with AXI Stream and Vitis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Hardware_Accelerators/Design_Tutorials/04-traveling-salesperson/README.html">The Travelling Salesman Problem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Hardware_Accelerators/Design_Tutorials/05-bottom_up_rtl_kernel/README.html">Bottom-up RTL Kernel Flow with Vitis for Acceleration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Hardware_Accelerators/Feature_Tutorials/01-rtl_kernel_workflow/README.html">Getting Started with RTL Kernels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Hardware_Accelerators/Feature_Tutorials/02-mixing-c-rtl-kernels/README.html">Mixing C++ and RTL Kernels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Hardware_Accelerators/Feature_Tutorials/03-dataflow_debug_and_optimization/README.html">Vitis HLS Analysis and Optimization</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Runtime and System Optimization</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../Runtime_and_System_Optimization/Design_Tutorials/01-host-code-opt/README.html">Host Code Optimization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Runtime_and_System_Optimization/Design_Tutorials/02-ivas-ml/README.html">IVAS ZCU104 ML Acceleration Reference Release</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Runtime_and_System_Optimization/Feature_Tutorials/01-mult-ddr-banks/README.html">Using Multiple DDR Banks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Runtime_and_System_Optimization/Feature_Tutorials/02-using-multiple-cu/README.html">Using Multiple Compute Units</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Runtime_and_System_Optimization/Feature_Tutorials/03-controlling-vivado-implementation/README.html">Controlling Vivado Implementation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Runtime_and_System_Optimization/Feature_Tutorials/04-using-hbm/README.html">Using HBM</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Vitis Platform Creation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../01-Overview/README.html">Platform Creation Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../02-Edge-AI-ZCU104/README.html">Vitis Custom Embedded Platform Creation Example on ZCU104</a></li>
<li class="toctree-l1"><a class="reference internal" href="README.html">Versal Custom Platform Creation Tutorial</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Versions</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Vitis-Tutorials/">Main</a></li>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Vitis-Tutorials/2021-2/build/html/index.html">2021.2</a></li>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Vitis-Tutorials/2021-1/build/html/index.html">2021.1</a></li>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Vitis-Tutorials/2020-1/docs/build/html/README.html">2020.1</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: black" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">Vitis™ Tutorials</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Step 2: Create the Software Components with PetaLinux</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../_sources/docs/Vitis_Platform_Creation/Introduction/03_Edge_VCK190/step2.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <!-- 
# Copyright 2020 Xilinx Inc.
# 
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
--><table width="100%">
 <tr width="100%">
    <td align="center"><img src="https://raw.githubusercontent.com/Xilinx/Image-Collateral/main/xilinx-logo.png" width="30%"/><h1>Versal Custom Platform Creation Tutorial</h1>
    </td>
 </tr>
</table><div class="section" id="step-2-create-the-software-components-with-petalinux">
<h1>Step 2: Create the Software Components with PetaLinux<a class="headerlink" href="#step-2-create-the-software-components-with-petalinux" title="Permalink to this heading">¶</a></h1>
<p>In this step, we’ll create a PetaLinux project that includes Vitis Platform required components.</p>
<div class="section" id="create-the-petalinux-project">
<h2>Create the PetaLinux Project<a class="headerlink" href="#create-the-petalinux-project" title="Permalink to this heading">¶</a></h2>
<ol>
<li><p>Setup PetaLinux environment: <code class="docutils literal notranslate"><span class="pre">source</span> <span class="pre">&lt;petaLinux_tool_install_dir&gt;/settings.sh</span></code></p></li>
<li><p>Create PetaLinux Project with XSA we created in previous step</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>petalinux-create -t project --template versal --force -n petalinux
<span class="nb">cd</span> petalinux
petalinux-config --get-hw-description<span class="o">=</span>&lt;path to xsa directory&gt; --silentconfig
</pre></div>
</div>
<ul class="simple">
<li><p>The created PetaLinux project name is <strong>petalinux</strong>. Please feel free to change the PetaLinux project name with <strong>petalinux-create -n</strong> option.</p></li>
</ul>
</li>
<li><p>Apply VCK190 device tree</p>
<ul class="simple">
<li><p>Run <code class="docutils literal notranslate"><span class="pre">petalinux-config</span></code></p></li>
<li><p>Go to <strong>DTG Settings</strong></p></li>
<li><p>Enter <strong>versal-vck190-reva-x-ebm-02-reva</strong> for <strong>MACHINE_NAME</strong> option (Config option name is CONFIG_SUBSYSTEM_MACHINE_NAME)</p></li>
</ul>
<p>Note: This preset device setting will add ethernet PHY info to device tree. The <a class="reference external" href="https://github.com/Xilinx/u-boot-xlnx/blob/master/arch/arm/dts/versal-vck190-revA-x-ebm-02-revA.dts">device tree source code</a> will be applied to the PetaLinux project. If your VCK190 board version is different, please check the device tree source code directory whether it has a corresponding device tree version for your board and apply it in the PetaLinux project. You can clone the git repository, or use find file feature in github.</p>
<p><img alt="Github Device Tree List" src="../../../../_images/github_find_available_device_tree.png" /></p>
</li>
</ol>
</div>
<div class="section" id="customize-root-file-system-kernel-device-tree-and-u-boot">
<h2>Customize Root File System, Kernel, Device Tree and U-boot<a class="headerlink" href="#customize-root-file-system-kernel-device-tree-and-u-boot" title="Permalink to this heading">¶</a></h2>
<ol>
<li><p>Add user packages by appending the CONFIG_x lines below to the <strong>&lt;your_petalinux_project_dir&gt;/project-spec/meta-user/conf/user-rootfsconfig</strong> file.</p>
<p><strong>Note: This step is not a must but it makes it easier to find and select all required packages in next step.</strong></p>
<p>Packages for base XRT support (required):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CONFIG_packagegroup</span><span class="o">-</span><span class="n">petalinux</span><span class="o">-</span><span class="n">xrt</span>
</pre></div>
</div>
<ul class="simple">
<li><p>XRT package group contains all the packages for Vitis acceleration runtime.</p></li>
</ul>
<p>Packages for on-board acceleration application compiling support (optional):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CONFIG_packagegroup</span><span class="o">-</span><span class="n">petalinux</span><span class="o">-</span><span class="n">xrt</span><span class="o">-</span><span class="n">dev</span>
</pre></div>
</div>
<ul class="simple">
<li><p>package names with <code class="docutils literal notranslate"><span class="pre">-dev</span></code> suffix means header files, dependency libraries and soft links required by compiling environment in Yocto.</p></li>
</ul>
<p>Packages for easy system management (recommended):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CONFIG_dnf</span>
<span class="n">CONFIG_e2fsprogs</span><span class="o">-</span><span class="n">resize2fs</span>
<span class="n">CONFIG_parted</span>
<span class="n">CONFIG_auto</span><span class="o">-</span><span class="n">login</span>
</pre></div>
</div>
<ul class="simple">
<li><p><strong>dnf</strong> is the package management tool</p></li>
<li><p><strong>auto-login</strong> will login as root by default. It’s useful for development and debugging time. Please remove it at production phase.</p></li>
<li><p><strong>parted</strong> and <strong>e2fsprogs-resize2fs</strong> can expand the ext4 partition to use the rest of the SD card.</p></li>
</ul>
</li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">petalinux-config</span> <span class="pre">-c</span> <span class="pre">rootfs</span></code> and select <strong>user packages</strong>, select name of rootfs all the libraries listed above, save and exit. If step1 is skipped, please use search function with <code class="docutils literal notranslate"><span class="pre">/</span></code> key to find these packages and enable them.</p>
<p><img alt="petalinux rootfs settings" src="../../../../_images/petalinux_user_packages.png" /></p>
</li>
<li><p>In rootfs config, go to <strong>Image Features</strong> and enable <strong>package-management</strong> and <strong>debug_tweaks</strong> option, store the change and exit. (Recommended)</p>
<ul class="simple">
<li><p>Exit from <strong>user packages</strong> to root configuration window by select <strong>Exit</strong> and press <strong>Enter</strong>.</p></li>
<li><p>Select <strong>Image Features</strong> and enter.</p></li>
<li><p>Enable <strong>package-management</strong> and <strong>debug_tweaks</strong> by pressing space key. Sub items of package-management is not needed.</p></li>
<li><p>Exit</p></li>
<li><p>Exit</p></li>
<li><p>Save</p></li>
</ul>
<p><img alt="docs/Vitis_Platform_Creation/Introduction/03_Edge_VCK190/images/step2/petalinux_package_management.png" src="docs/Vitis_Platform_Creation/Introduction/03_Edge_VCK190/images/step2/petalinux_package_management.png" /></p>
</li>
<li><p>Update the system-user device tree (required).</p>
<p>Append the following contents to the <strong>project-spec/meta-user/recipes-bsp/device-tree/files/system-user.dtsi</strong> file.</p>
<ul class="simple">
<li><p><strong>zyxclmm_drm</strong> node is required by zocl driver, which is a part of XRT.</p></li>
<li><p><strong>axi_intc_0</strong> node defines 32 interrupt inputs. This can not be inferred by the hardware settings in Vivado. So we have to add it here manually.</p></li>
<li><p><strong>Note</strong>: an example file is provided in <strong>ref_files/step2_petalinux/project-spec/meta-user/recipes-bsp/device-tree/files/system-user.dtsi</strong>.</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&amp;</span><span class="n">amba</span> <span class="p">{</span>
    <span class="n">zyxclmm_drm</span> <span class="p">{</span>
        <span class="n">compatible</span> <span class="o">=</span> <span class="s2">&quot;xlnx,zocl-versal&quot;</span><span class="p">;</span>
        <span class="n">status</span> <span class="o">=</span> <span class="s2">&quot;okay&quot;</span><span class="p">;</span>
        <span class="n">interrupt</span><span class="o">-</span><span class="n">parent</span> <span class="o">=</span> <span class="o">&lt;&amp;</span><span class="n">axi_intc_0</span><span class="o">&gt;</span><span class="p">;</span>
        <span class="n">interrupts</span> <span class="o">=</span> <span class="o">&lt;</span><span class="mi">0</span>  <span class="mi">4</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">1</span>  <span class="mi">4</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">2</span>  <span class="mi">4</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">3</span>  <span class="mi">4</span><span class="o">&gt;</span><span class="p">,</span>
                 <span class="o">&lt;</span><span class="mi">4</span>  <span class="mi">4</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">5</span>  <span class="mi">4</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">6</span>  <span class="mi">4</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">7</span>  <span class="mi">4</span><span class="o">&gt;</span><span class="p">,</span>
                 <span class="o">&lt;</span><span class="mi">8</span>  <span class="mi">4</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">9</span>  <span class="mi">4</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">10</span> <span class="mi">4</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">11</span> <span class="mi">4</span><span class="o">&gt;</span><span class="p">,</span>
                 <span class="o">&lt;</span><span class="mi">12</span> <span class="mi">4</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">13</span> <span class="mi">4</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">14</span> <span class="mi">4</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">15</span> <span class="mi">4</span><span class="o">&gt;</span><span class="p">,</span>
                 <span class="o">&lt;</span><span class="mi">16</span> <span class="mi">4</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">17</span> <span class="mi">4</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">18</span> <span class="mi">4</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">19</span> <span class="mi">4</span><span class="o">&gt;</span><span class="p">,</span>
                 <span class="o">&lt;</span><span class="mi">20</span> <span class="mi">4</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">21</span> <span class="mi">4</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">22</span> <span class="mi">4</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">23</span> <span class="mi">4</span><span class="o">&gt;</span><span class="p">,</span>
                 <span class="o">&lt;</span><span class="mi">24</span> <span class="mi">4</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">25</span> <span class="mi">4</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">26</span> <span class="mi">4</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">27</span> <span class="mi">4</span><span class="o">&gt;</span><span class="p">,</span>
                 <span class="o">&lt;</span><span class="mi">28</span> <span class="mi">4</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">29</span> <span class="mi">4</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">30</span> <span class="mi">4</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">31</span> <span class="mi">4</span><span class="o">&gt;</span><span class="p">;</span>
    <span class="p">};</span>
<span class="p">};</span>

<span class="o">&amp;</span><span class="n">axi_intc_0</span> <span class="p">{</span>
      <span class="n">xlnx</span><span class="p">,</span><span class="n">kind</span><span class="o">-</span><span class="n">of</span><span class="o">-</span><span class="n">intr</span> <span class="o">=</span> <span class="o">&lt;</span><span class="mh">0x0</span><span class="o">&gt;</span><span class="p">;</span>
      <span class="n">xlnx</span><span class="p">,</span><span class="n">num</span><span class="o">-</span><span class="n">intr</span><span class="o">-</span><span class="n">inputs</span> <span class="o">=</span> <span class="o">&lt;</span><span class="mh">0x20</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
</li>
<li><p>Add EXT4 rootfs support (Recommended)</p>
<p>PetaLinux uses <strong>initrd</strong> format for rootfs by default. This format extracts rootfs in DDR memory, which means it reduces the usable DDR memory for runtime and can’t retain the rootfs changes after reboot. To enable the root file system to retain changes, we’ll use EXT4 format for rootfs as the second partition on SD card while keep the first partition FAT32 to store other boot files.</p>
<ul class="simple">
<li><p>Run <code class="docutils literal notranslate"><span class="pre">petalinux-config</span></code>, go to <strong>Image Packaging Configuration</strong>, select <strong>Root File System Type</strong> as <strong>EXT4</strong>, and append <code class="docutils literal notranslate"><span class="pre">ext4</span></code> to <strong>Root File System Formats</strong>.</p></li>
</ul>
<p><img alt="../../../../_images/petalinux_root_filesystem_type.png" src="../../../../_images/petalinux_root_filesystem_type.png" /></p>
<ul>
<li><p>Update bootargs to use ext4 partition as root file system in system-user.dtsi:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/</span> <span class="p">{</span>
    <span class="n">chosen</span> <span class="p">{</span>
       <span class="n">stdout</span><span class="o">-</span><span class="n">path</span> <span class="o">=</span> <span class="s2">&quot;serial0:115200&quot;</span><span class="p">;</span>
       <span class="n">bootargs</span> <span class="o">=</span> <span class="s2">&quot;console=ttyAMA0 earlycon=pl011,mmio32,0xFF000000,115200n8 clk_ignore_unused root=/dev/mmcblk1p2 rw rootwait rootfs=ext4&quot;</span><span class="p">;</span>
    <span class="p">};</span>
 <span class="p">};</span>
</pre></div>
</div>
</li>
</ul>
<p>Note: <code class="docutils literal notranslate"><span class="pre">root=/dev/mmcblk1p2</span></code> is the rootfs path; <code class="docutils literal notranslate"><span class="pre">rootfs=ext4</span></code> defines the rootfs type. Please refer to the full system-user.dtsi in <a class="reference external" href="ref_files/step2_petalinux/system-user.dtsi">ref_files/step2_petalinux/system-user.dtsi</a>.</p>
</li>
</ol>
</div>
<div class="section" id="build-petalinux-image">
<h2>Build PetaLinux Image<a class="headerlink" href="#build-petalinux-image" title="Permalink to this heading">¶</a></h2>
<ol>
<li><p>From any directory within the PetaLinux project, build the PetaLinux project.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">petalinux</span><span class="o">-</span><span class="n">build</span>
</pre></div>
</div>
<p>The generated u-boot and Linux images will be located in <strong>images/linux</strong> directory.</p>
</li>
<li><p>Build and install sysroot</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">petalinux</span><span class="o">-</span><span class="n">build</span> <span class="o">--</span><span class="n">sdk</span>
</pre></div>
</div>
<p>Sysroot <strong>sdk.sh</strong> will be generated in <strong>images/linux</strong> directory. We will extract it in next step.</p>
</li>
</ol>
</div>
<div class="section" id="fast-track">
<h2>Fast Track<a class="headerlink" href="#fast-track" title="Permalink to this heading">¶</a></h2>
<p>Scripts are provided to re-create PetaLinux project and generate outputs. To use these scripts, please run the following steps.</p>
<ol>
<li><p>Run build</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># cd to the step directory, e.g.</span>
<span class="n">cd</span> <span class="n">step2_petalinux</span>
<span class="n">make</span>
</pre></div>
</div>
</li>
<li><p>To clean the generated files, please run</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make clean
</pre></div>
</div>
</li>
</ol>
<p><strong>Note: Now HW platform and SW platform are all generated. Next we would <a class="reference internal" href="step3.html"><span class="doc">package the Vitis Platform</span></a>.</strong></p>
<p align="center"><sup>Copyright&copy; 2020 Xilinx</sup></p></div>
</div>


           </div>
          </div>
          
                  <style>
                        .footer {
                        position: fixed;
                        left: 0;
                        bottom: 0;
                        width: 100%;
                        }
                  </style>
				  
				  <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019-2022, Xilinx, Inc. Xilinx is now a part of AMD.
      <span class="lastupdated">Last updated on August 5, 2022.
      </span></p>
  </div>



										<div class="aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid sub-footer">

													                    <div class="row">
                        <div class="col-xs-24">
                          <p><a target="_blank" href="https://www.amd.com/en/corporate/copyright">Terms and Conditions</a> | <a target="_blank" href="https://www.amd.com/en/corporate/privacy">Privacy</a> | <a target="_blank" href="https://www.amd.com/en/corporate/cookies">Cookie Policy</a> | <a target="_blank" href="https://www.amd.com/en/corporate/trademarks">Trademarks</a> | <a target="_blank" href="https://www.amd.com/system/files/documents/statement-human-trafficking-forced-labor.pdf">Statement on Forced Labor</a> | <a target="_blank" href="https://www.amd.com/en/corporate/competition">Fair and Open Competition</a> | <a target="_blank" href="https://www.amd.com/system/files/documents/amd-uk-tax-strategy.pdf">UK Tax Strategy</a> | <a target="_blank" href="https://docs.xilinx.com/v/u/9x6YvZKuWyhJId7y7RQQKA">Inclusive Terminology</a> | <a href="#cookiessettings" class="ot-sdk-show-settings">Cookies Settings</a></p>
                        </div>
                    </div>
												</div>
											</div>
										</div>
										
</br>


  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>


</body>
</html>