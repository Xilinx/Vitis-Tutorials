<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
<!-- OneTrust Cookies Consent Notice start for xilinx.github.io -->

<script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-document-language="true" type="text/javascript" charset="UTF-8" data-domain-script="03af8d57-0a04-47a6-8f10-322fa00d8fc7" ></script>
<script type="text/javascript">
function OptanonWrapper() { }
</script>
<!-- OneTrust Cookies Consent Notice end for xilinx.github.io -->
  <title>Step 1: Hardware Settings for Vitis Platform &mdash; Vitis™ Tutorials 2021.1 documentation</title>
      <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/_static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../../_static/doctools.js"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
            <a href="../../../../index.html" class="icon icon-home"> Vitis™ Tutorials
            <img src="../../../../_static/xilinx-header-logo.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                2021.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">日本語版</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Vitis-Tutorials/master/docs-jp/index.html">Master</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../Getting_Started/Vitis-Getting-Started.html">Getting Started</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Acceleration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../Hardware_Acceleration/Hardware-Acceleration.html">Hardware Acceleration</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">AI Engine</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../AI_Engine_Development/AI_Engine_Development.html">AI Engine Development</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Platforms</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Vitis_Platform_Creation.html">Vitis Platform Creation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Other Versions</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Vitis-Tutorials/2020-2/docs/index.html">2020.2</a></li>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Vitis-Tutorials/2020-1/docs/README.html">2020.1</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: black" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">Vitis™ Tutorials</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Step 1: Hardware Settings for Vitis Platform</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../_sources/docs/Vitis_Platform_Creation/Introduction/03_Edge_VCK190/step1.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <!-- 
# Copyright 2020 Xilinx Inc.
# 
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
--><table class="sphinxhide" width="100%">
 <tr width="100%">
    <td align="center"><img src="https://raw.githubusercontent.com/Xilinx/Image-Collateral/main/xilinx-logo.png" width="30%"/><h1>Versal Custom Platform Creation Tutorial</h1>
    </td>
 </tr>
</table><section id="step-1-hardware-settings-for-vitis-platform">
<h1>Step 1: Hardware Settings for Vitis Platform<a class="headerlink" href="#step-1-hardware-settings-for-vitis-platform" title="Permalink to this heading">¶</a></h1>
<p>The Versal Extensible Platform Example has setup the platform properties. We will review these properties in this step.</p>
<p>For a custom board platform, you will need to setup these properties manually. They can be set in GUI or Tcl. We will discuss the setup flow in detail.</p>
<section id="review-the-versal-extensible-platform-example-platform-setup">
<h2>Review the Versal Extensible Platform Example Platform Setup<a class="headerlink" href="#review-the-versal-extensible-platform-example-platform-setup" title="Permalink to this heading">¶</a></h2>
<ol>
<li><p>Launch Vivado and open the design we created in step 0 if you haven’t</p>
<ul class="simple">
<li><p>Make sure the block design is open. If not, click <strong>Open Block Design</strong> in <strong>Flow Navigator</strong></p></li>
</ul>
</li>
<li><p>(Optional) Export block diagram tcl to cross check the tcl commands or recreate design in the future.</p>
<ul class="simple">
<li><p>Click <strong>File -&gt; Export -&gt; Export Block Diagram</strong></p></li>
<li><p>Check the Tcl file location and click <strong>OK</strong></p></li>
<li><p>Open the exported tcl file</p></li>
</ul>
</li>
<li><p>Go to <strong>Platform Setup</strong> tab.</p>
<ul class="simple">
<li><p>If it’s not open, click menu Window -&gt; Platform Setup to open it.</p></li>
</ul>
<blockquote>
<div><p>Note: If you can’t find Platform Setup tab, please make sure your design is a Vitis platform project. Open <strong>Settings</strong> in <strong>Project Manager</strong>, go to <strong>Project Settings -&gt; General</strong> tab, make sure <strong>Project is an extensible Vitis platform</strong> is enabled.</p>
</div></blockquote>
</li>
<li><p>Review the AXI port settings</p>
<ul class="simple">
<li><p>In <strong>axi_noc_ddr4</strong>, S01_AXI to S27_AXI are enabled. <strong>SP Tag</strong> is set to <strong>DDR</strong></p></li>
</ul>
<p><img alt="Vivado Platform Setup: axi_noc_ddr4 AXI Slave" src="../../../../_images/vivado_platform_setup.png" /></p>
<p><strong>Note</strong>: Vitis emulation automation scripts require that AXI slave interfaces on Versal platforms to have SP Tag as either <strong>DDR</strong> or <strong>LPDDR</strong>.</p>
<ul class="simple">
<li><p>In <strong>icn_ctrl_0</strong> and <strong>icn_ctrl_1</strong> , M01_AXI to M15_AXI are enabled. In <strong>icn_ctrl</strong>, M03_AXI and M04_AXI are enabled. Memport is set to M_AXI_GP. SP Tag is empty. These ports provide the AXI master interfaces to control PL kernels. In the block diagram, icn_ctrl_0 and icn_ctrl_1 connects to an AXI Verification IP because the AXI SmartConnect IP requires a load. The AXI Verification IP is used here as a dummy.</p></li>
</ul>
<p><img alt="Vivado Platform Setup: AXI Master" src="../../../../_images/vivado_platform_setup_axi_master.png" /></p>
<p><strong>Note</strong>: SP Tag for AXI Master doesn’t take effect.</p>
</li>
<li><p>Review the Clock settings</p>
<ul class="simple">
<li><p>In Clock tab, clk_out1, clk_out2, clk_out3 from <strong>clk_wizard_0</strong> are enabled with id {0,1,2}, frequency {200MHz, 100MHz, 300MHz}.</p></li>
<li><p>clk_out1 is the default clock. V++ linker will use this clock to connect the kernel if link configuration doesn’t specify any clocks.</p></li>
<li><p>The Proc Sys Reset property is set to the synchronous reset signal associated with each clock.</p></li>
</ul>
<p><img alt="Vivado Platform Setup: Clock" src="../../../../_images/vivado_platform_setup_clock.png" /></p>
</li>
<li><p>Review the Interrupt Tab</p>
<ul class="simple">
<li><p>In Interrupt tab, In0 to In31 port of <strong>xlconcat</strong> is enabled.</p></li>
</ul>
<p><img alt="Vivado Platform Setup: Interrupt" src="../../../../_images/vivado_platform_setup_irq.png" /></p>
</li>
</ol>
</section>
<section id="review-the-simulation-model">
<h2>Review the Simulation Model<a class="headerlink" href="#review-the-simulation-model" title="Permalink to this heading">¶</a></h2>
<p>The Versal Extensible Platform Example has setup the simulation model of each IP properly. We will review the settings in this session. If you created the block design by yourself, please make sure these settings are applied before running emulation on your platform.</p>
<p>Some blocks in the block design has multiple types of simulation models. Vitis emulation requires these blocks to use SystemC TLM (Transaction-level Modeling) model when available. TLM is the default simulation model for CIPS, NOC and AI Engine in Vivado 2021.1. We can review them to make sure they are correct before exporting the hardware.</p>
<ol>
<li><p>Review CIPS simulation model settings</p>
<ul class="simple">
<li><p>In Vivado GUI, select the CIPS instance</p></li>
<li><p>Check the <em><strong>Block Properties</strong></em> window</p></li>
<li><p>In <em><strong>Properties</strong></em> tab, it shows <strong>ALLOWED_SIM_MODELS</strong> is <code class="docutils literal notranslate"><span class="pre">tlm,rtl</span></code>, <strong>SELECTED_SIM_MODEL</strong> is <code class="docutils literal notranslate"><span class="pre">tlm</span></code>. It means this block supports two simulation models. We selected to use <code class="docutils literal notranslate"><span class="pre">tlm</span></code> model.</p></li>
</ul>
<p><img alt="missing image" src="../../../../_images/vivado_cips_tlm.png" /></p>
</li>
<li><p>Review the simulation model property for NOC and AI Engine in the block diagram.</p></li>
</ol>
</section>
<section id="export-hardware-xsa">
<h2>Export Hardware XSA<a class="headerlink" href="#export-hardware-xsa" title="Permalink to this heading">¶</a></h2>
<ol>
<li><p>Generate Block Diagram</p>
<ul class="simple">
<li><p>Click <strong>Generate Block Diagram</strong> from Flow Navigator window</p></li>
</ul>
<p><img alt="missing image" src="../../../../_images/vivado_generate_bd.png" /></p>
<ul class="simple">
<li><p>Select <strong>Synthesis Options</strong> to <strong>Global</strong> to save generation time.</p></li>
</ul>
<p><img alt="missing image" src="../../../../_images/vivado_generate_bd_global.png" /></p>
<ul class="simple">
<li><p>Click <strong>Generate</strong> button</p></li>
</ul>
<blockquote>
<div><p>Note: Synthesis default option <strong>Out of context per IP</strong> will synthesize each IP in the block diagram. Since we will use pre-synthesis XSA in next steps, we don’t need to synthesize these IPs.</p>
</div></blockquote>
<p><strong>Note</strong>: It’s safe to ignore this critical warning. Vitis will connect this signal in the future.</p>
<p><img alt="Intr Critical Warning " src="../../../../_images/vivado_bd_critical_warning.png" /></p>
</li>
<li><p>Export platform with the following scripts</p>
<ul class="simple">
<li><p>Click <strong>File -&gt; Export -&gt; Export Platform</strong>. Alternative ways are: <strong>Flow Navigator</strong> window: <strong>IP Integrator -&gt; Export Platform</strong>, or the <strong>Export Platform</strong> button on the bottom of <strong>Platform Setup</strong> tab.</p></li>
<li><p>Click <strong>Next</strong> on Export Hardware Platform page</p></li>
<li><p>Select <strong>Hardware and Hardware Emulation</strong>. If there are any IP that doesn’t support simulation, we need to generate Hardware XSA and Hardware Emulation XSA separately. Click <strong>Next</strong></p></li>
<li><p>Select <strong>Pre-synthesis</strong>, because we’re not making an DFX platform. Click <strong>Next</strong></p></li>
<li><p>Input Name: <strong>VCK190_Custom_Platform</strong>, click Next</p></li>
<li><p>Update file name to <strong>vck190_custom</strong>, click Next.</p></li>
<li><p>Review the summary. Click <strong>Finish</strong></p></li>
</ul>
</li>
</ol>
<p><em><strong>Now we finish the Hardware platform creation flow, then we should go to the <a class="reference internal" href="step2.html"><span class="doc">Step2: Software platform creation</span></a></strong></em></p>
</section>
</section>
<section id="references">
<h1>References<a class="headerlink" href="#references" title="Permalink to this heading">¶</a></h1>
<p><a class="reference external" href="https://www.xilinx.com/support/answers/72033.html">AR# 72033: How do I add boards and example designs to my Vivado environment?</a></p>
<p align="center"><sup>Copyright&copy; 2021 Xilinx</sup></p></section>


           </div>
          </div>
          
                  <style>
                        .footer {
                        position: fixed;
                        left: 0;
                        bottom: 0;
                        width: 100%;
                        }
                  </style>
				  
				  <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019-2022, Xilinx, Inc. Xilinx is now a part of AMD.
      <span class="lastupdated">Last updated on July 27, 2022.
      </span></p>
  </div>



										<div class="aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid sub-footer">

													                    <div class="row">
                        <div class="col-xs-24">
                          <p><a target="_blank" href="https://www.amd.com/en/corporate/copyright">Terms and Conditions</a> | <a target="_blank" href="https://www.amd.com/en/corporate/privacy">Privacy</a> | <a target="_blank" href="https://www.amd.com/en/corporate/cookies">Cookie Policy</a> | <a target="_blank" href="https://www.amd.com/en/corporate/trademarks">Trademarks</a> | <a target="_blank" href="https://www.amd.com/system/files/documents/statement-human-trafficking-forced-labor.pdf">Statement on Forced Labor</a> | <a target="_blank" href="https://www.amd.com/en/corporate/competition">Fair and Open Competition</a> | <a target="_blank" href="https://www.amd.com/system/files/documents/amd-uk-tax-strategy.pdf">UK Tax Strategy</a> | <a target="_blank" href="https://docs.xilinx.com/v/u/9x6YvZKuWyhJId7y7RQQKA">Inclusive Terminology</a> | <a href="https://pages.gitenterprise.xilinx.com/techdocs/Test/vvas/build/html/index.html#cookiessettings" class="ot-sdk-show-settings">Cookies Settings</a></p>
                        </div>
                    </div>
												</div>
											</div>
										</div>
										
</br>


  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>


</body>
</html>